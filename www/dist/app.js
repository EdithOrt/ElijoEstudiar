window.VERSION = "0.0.1";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"http://backend.educacion.thor.datauy.org"}).directive("select",function(){return{restrict:"E",scope:!1,link:function(e,t){t.on("touchmove touchstart",function(e){e.stopPropagation()})}}}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,t,n){t.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard,ionic.Platform.isFullScreen=!1,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){ionic.Platform.isAndroid()&&(o.scrolling.jsScrolling(!1),o.platform.android.scrolling.jsScrolling(!1)),n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AbsController"}).state("app.form",{cache:!1,url:"/form",views:{menuContent:{templateUrl:"templates/form.html",controller:"FormCtrl"},mapView:{templateUrl:"templates/map.html",controller:"MapController"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}).state("app.search",{cache:!1,url:"/search",views:{menuContent:{templateUrl:"templates/search.html",controller:"SearchCtrl"},mapView:{templateUrl:"templates/map.html",controller:"MapController"}}}),t.otherwise("/app/intro")}]),pmb_im.controllers.controller("AbsController",["$scope","$cordovaInAppBrowser",function(e,t){e.openWebsite=function(e){var n={location:"no",clearcache:"yes",toolbar:"yes"};t.open(e,"_blank",n).then(function(e){})["catch"](function(e){})}}]),pmb_im.controllers.controller("FormCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","ApiService","DBService","$ionicSlideBoxDelegate","$ionicScrollDelegate",function(e,t,n,o,a,r,i,s,l,c,u){e.form={},e.form.edad=16,e.form.ultimo_nivel_aprobado="primaria",e.form.ultimo_anio_aprobado="",e.form.plan="",e.form.lugar="",e.form.que="",e.form.donde="",e.form.turno="matutino",e.form.SearchQueResults={},e.form.SearchDondeResults={},e.form.searchQue="",e.form.searchDonde="",e.form.option="list",e.establecimientos=null,e.restarEdad=function(){parseInt(e.form.edad)>4&&(e.form.edad=parseInt(e.form.edad)-1)},e.sumarEdad=function(){e.form.edad=parseInt(e.form.edad)+1},e.selectUltimoNivel=function(t){var n,o=document.getElementsByClassName("nivel");for(n=0;n<o.length;n++)o[n].className="nivel_"+o[n].id+" nivel hidden";var a=document.getElementById(t);a.className="nivel_"+a.id+" nivel",e.form.ultimo_nivel_aprobado=t},e.select_turno=function(t){var n,o=document.getElementsByClassName("turnos");for(n=0;n<o.length;n++)o[n].className="turnos turno_"+o[n].id+"_off";var a=document.getElementById(t);a.className="turnos turno_"+t,e.form.turno=t},e.select_option=function(t){var n,o=document.getElementsByClassName("options");for(n=0;n<o.length;n++)o[n].className="options option_"+o[n].id+"_off";var a=document.getElementById(t);a.className="options option_"+t,e.form.option=t,"map"==t&&(document.getElementById("map_wrapper").style.display="block",document.getElementById("map_container").style.display="block",document.getElementById("map_container").style.visibility="visible",document.getElementById("list_container").style.display="none",document.getElementById("form_container").style.minHeight="370px"),"list"==t&&(document.getElementById("map_wrapper").style.display="none",document.getElementById("list_container").style.display="block",document.getElementById("map_container").style.visibility="hidden",document.getElementById("map_container").style.display="none",document.getElementById("form_container").style.minHeight="640px")},e.onSearchChangeQue=function(){var t=document.getElementById("que_estudiar"),n=t.value.trim();n.length>=3?s.searchQueEstudiar(n).then(function(t){e.form.SearchQueResults=t.data,document.getElementById("SearchQueResults").style.display="block"}):e.hideSearchQueResults()},e.hideSearchQueResults=function(){document.getElementById("SearchQueResults").style.display="none"},e.selectQueEstudiarItem=function(t){e.form.que=t,e.hideSearchQueResults(),e.form.searchQue=t.nombre},e.listAllQueEstudiar=function(){var t="api-get-all";s.searchQueEstudiar(t).then(function(t){e.form.SearchQueResults=t.data,document.getElementById("SearchQueResults").style.display="block"})},e.onSearchChangeDonde=function(){var t=document.getElementById("donde_estudiar"),n=t.value.trim();n.length>=3?s.searchDondeEstudiar(n).then(function(t){e.form.SearchDondeResults=t.data,document.getElementById("SearchDondeResults").style.display="block"}):e.hideSearchDondeResults()},e.hideSearchDondeResults=function(){document.getElementById("SearchDondeResults").style.display="none"},e.selectDondeEstudiarItem=function(t){e.form.donde=t,e.hideSearchDondeResults(),e.form.searchDonde=t.loc_dep},e.editSearch=function(){c.previous(),c.previous()},e.next=function(){c.next()},e.previous=function(){c.previous()},e.slideHasChanged=function(t){e.select_option("list"),2==t&&(document.getElementById("map_container").style.display="none",s.updateFilters(e.form),null!=s.filters&&s.getEstablecimientosByFilters().then(function(t){console.log(t),e.establecimientos=t.data,s.updateMapPins(t.data)}))},e.openDetailsModal=function(e){s.getEstablecimientoById(e).then(function(t){console.log(t),t.data.establecimientos[0].id=e,s.openDetailsModal(t.data.establecimientos[0])})}}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","ModalService",function(e,t,n,o,a,r,i,s){e.$on("$ionicView.beforeEnter",function(){document.getElementById("form_container").style.minHeight="640px",s.checkNoModalIsOpen()}),e.$on("$ionicView.afterEnter",function(){document.getElementById("map_wrapper").style.display="none"}),e.geolocate=function(){var e={timeout:3500,enableHighAccuracy:!0};n.getCurrentPosition(e).then(function(e){i.save_initial_position(e),t.go("app.form")},function(e){t.go("app.form")})},e.go_to_form=function(){document.getElementById("map_wrapper").style.display="block",t.go("app.form")},e.go_to_search=function(){document.getElementById("map_wrapper").style.display="block",t.go("app.search")}}]),pmb_im.controllers.controller("MapController",["$scope","_","$cordovaGeolocation","leafletData","ConfigService","PinService","$interval","$location","MapService","$ionicModal","ModalService","ApiService","$timeout","$cordovaInAppBrowser",function(e,t,n,o,a,r,i,s,l,c,u,d,p,m){e.baseURL=a.baseURL,e.AppName=a.AppName,e.one_value_popup=null,e.myIntervals=new Array,e.map=null,e.modal_map=null,e.establecimiento=[],e.$on("$ionicView.loaded",function(){u.checkNoModalIsOpen(),d.mapScope=e,e.create_online_map(),document.getElementById("spinner").style.display="none",document.getElementById("pinspinner").style.display="none"}),e.filtersUpdated=function(){},e.create_online_map=function(){null==e.map&&(e.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:1,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{lat:-34.901113,lng:-56.164531,zoom:16}},p(function(){document.getElementById("map_wrapper").style.display="none"},1e3))},e.locate=function(){n.getCurrentPosition().then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,e.map.center.zoom=15,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"Estás aquí",focus:!0,draggable:!1}},function(e){})},e.loadPinsLayer=function(e){null!=e&&o.getMap("primary_map").then(function(t){t.eachLayer(function(e){e._url||t.removeLayer(e)}),e.forEach(function(e){if(e.lat&&e.lon){var n=L.icon({iconUrl:"./img/blue_pin.svg",iconSize:[48,65],iconAnchor:[24,65],popupAnchor:[0,-65]}),o=L.marker([e.lat,e.lon],{icon:n});o.bindPopup("<b>"+e.nombre+"</b>").openPopup(),t.addLayer(o)}})})},e.openDetailsModal=function(t){console.log(t),null!=t&&(e.establecimiento=t,c.fromTemplateUrl("templates/details.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(t){u.checkNoModalIsOpen(),u.activeModal=t,u.activeModal.show(),L.Map.prototype.panToOffset=function(e,t,n){var o=this.latLngToContainerPoint(e).x-t[0],a=this.latLngToContainerPoint(e).y-t[1],r=this.containerPointToLatLng([o,a]);return this.setView(r,18,{pan:n})},e.modal_map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:18,maxZoom:18,zoomControl:!1},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{lat:-34.901113,lng:-56.164531,zoom:18}},console.log("ESTABLECIMIENTO:"),console.log(e.establecimiento),o.getMap("secondary_map").then(function(t){console.log("MAPA SECUNDARIO:"),console.log(t);var n=L.icon({iconUrl:"./img/blue_pin.svg",iconSize:[25,34],iconAnchor:[12,34],popupAnchor:[0,-34]}),o=L.marker([e.establecimiento.lat,e.establecimiento["long"]],{icon:n});o.bindPopup("<b>"+e.establecimiento.title+"</b>").openPopup(),t.addLayer(o);var a=window.innerWidth/4;t.panToOffset([e.establecimiento.lat,e.establecimiento["long"]],[a,25],{})})}))},e.close_modal=function(){u.checkNoModalIsOpen()},e.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"yes"};m.open(e,"_blank",t).then(function(e){})["catch"](function(e){})}}]),pmb_im.controllers.controller("SearchCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","ApiService","DBService","$ionicSlideBoxDelegate","$ionicScrollDelegate",function(e,t,n,o,a,r,i,s,l,c,u){e.form={},e.form.lugar="",e.form.nombre_centro="",e.form.option="list",e.establecimientos=null,e.$on("$ionicView.beforeEnter",function(){document.getElementById("form_container").style.minHeight="460px"}),e.onSearchChange=function(){},e.hideSearchQueResults=function(){document.getElementById("SearchQueResults").style.display="none"},e.showMap=function(){document.getElementById("map_wrapper").style.display="block",document.getElementById("map_container").style.display="block",document.getElementById("map_container").style.visibility="visible",document.getElementById("form_container").style.minHeight="210px",document.getElementById("search_view_list_button").style.display="block",document.getElementById("search_view_map_button").style.display="none"},e.showList=function(){document.getElementById("map_wrapper").style.display="none",document.getElementById("map_container").style.display="none",document.getElementById("map_container").style.visibility="hidden",document.getElementById("form_container").style.minHeight="460px",document.getElementById("search_view_map_button").style.display="block",document.getElementById("search_view_list_button").style.display="none"}}]),pmb_im.services.factory("ApiService",["$http","ConfigService",function(e,t){function n(e){angular.extend(this,e)}var o=t.baseURL+"/api/";return n.searchQueEstudiar=function(t){return e.get(o+"search/"+t,{cache:!1,params:{hash_id:Math.random()}})},n.searchDondeEstudiar=function(t){return e.get(o+"searchByLocalidadDepartamento/"+t,{cache:!1,params:{hash_id:Math.random()}})},n.filters=null,n.mapScope=null,n.formScope={},n.lastSearchResponseEstablecimientos=null,n.updateFilters=function(e){n.filters=e,null!=n.mapScope&&n.mapScope.filtersUpdated()},n.createFilterParamsForGetRequest=function(){console.log(n.filters);var e={hash_id:Math.random(),edad:n.filters.edad,ultimo_nivel_aprobado:n.filters.ultimo_nivel_aprobado,ultimo_anio_aprobado:n.filters.ultimo_anio_aprobado,turno:n.filters.turno};return""!=n.filters.que&&(e.queEstudiarId=n.filters.que.id,e.queEstudiarNombre=n.filters.que.nombre,e.queEstudiarTagUno=n.filters.que.tag[0],e.queEstudiarTagDos=n.filters.que.tag[1]),""!=n.filters.donde&&(e.dondeEstudiarDepartamento=n.filters.donde.departamento,e.dondeEstudiarLocalidad=n.filters.donde.localidad,e.dondeEstudiarLat=n.filters.donde.coordenadas.lat,e.dondeEstudiarLon=n.filters.donde.coordenadas.lon),e="tipo"==n.filters.que.tipo?n.filters.que.id+"/all":"all/"+n.filters.que.id},n.getEstablecimientosByFilters=function(){if(null!=n.filters){var t=n.createFilterParamsForGetRequest();return console.log(t),e.get(o+"establecimiento-por-tipo/"+t)}},n.getEstablecimientoById=function(t){return e.get(o+"establecimientos-por-id/"+t,{cache:!1,params:{hash_id:Math.random()}})},n.updateMapPins=function(e){n.mapScope.loadPinsLayer(e)},n.openDetailsModal=function(e){n.mapScope.openDetailsModal(e)},n}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService","ValidationService",function(e,t,n,o){var a=n.baseURL+"/api/";return{log_in:function(t,n){var o="user="+t+"&password="+n;return e.post(a+"login",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sign_out:function(t,n){return e.get(a+"sign_out",{withCredentials:!0,params:{password_sign_in:t,email:n}})},create_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"create_user",n.picture_url,r,i)}if(n.picture_url){var s=new FormData;return s.append("photo",n.picture_url),s.append("user",n.username),s.append("password",n.password),s.append("email",n.email),s.append("gender",n.gender),s.append("interested",n.interested),s.append("status",n.status),s.append("show_location",n.show_location),e.post(a+"create_user",s,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}var l="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;return l=l+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,e.post(a+"create_user",l,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},password_recovery:function(t){return e.get(a+"forgot_password",{params:{login_email:t}})},password_change:function(t,n,o,r){var i="email="+t+"&password_sign_in="+n+"&new_password="+o+"&confirm="+r;return e.post(a+"change_password",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},edit_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"edit_profile",n.picture_url,r,i)}var s="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;if(s=s+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,n.picture_url){var l=new FormData;return l.append("photo",n.picture_url),l.append("user",n.username),l.append("password",n.password),l.append("email",n.email),l.append("gender",n.gender),l.append("interested",n.interested),l.append("status",n.status),l.append("show_location",n.show_location),e.post(a+"edit_profile",l,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}return e.post(a+"edit_profile",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="http://ee_backend.development.datauy.org",ionic.Platform.isWebView()?t.baseURL="http://ee_backend.development.datauy.org":t.baseURL="/backend",t.AppName="Elijo Estudiar",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return!0},isOffline:function(){return!1}}}]),pmb_im.services.factory("DBService",["$q",function(e){function t(e,t,o,a,r,i,s,l){var c={_id:"user-logged",name:e,password:t,picture_url:o,show_location:a,uid:r,status:i,gender:s,interested:l};n().then(function(e){return c._rev=e._rev,m.put(c)})["catch"](function(e){return m.put(c)})}function n(){return m.get("user-logged")}function o(){m.get("user-logged").then(function(e){return m.remove(e)})}function a(){return m=new PouchDB("tomamosuna_local_db")}function r(e){var t=new Date,n="report_"+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getMilliseconds();return e._id=n,m.put(e)}function i(e){return m.put(e)}function s(){return m.get("categories-list")}function l(e){s().then(function(t){return e._rev=t._rev,m.put(e)})["catch"](function(t){return e._id="categories-list",m.put(e)})}function c(e){return m.get(e)}function u(){return m.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_￿"})}function d(e){m.get(e).then(function(e){return m.remove(e)})}function p(e){return m.remove(e)}var m;return{initDB:a,saveUser:t,getUser:n,eraseUser:o,saveReport:r,getReport:c,getAllReports:u,updateReport:i,deleteReport:d,deleteGivenReport:p,getCategories:s,saveCategories:l}}]),pmb_im.services.factory("DrinkService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/api/";return{getAllDrinksAvailable:function(t,o){var a="user="+t+"&password="+o+"&hash_id="+Math.random();return e.post(n+"get_possible_drinks",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getAllInvitationsWithUser:function(t,o,a,r){var i="user="+t+"&password="+o+"&hash_id="+Math.random();return i=i+"&uid="+a+"&author_uid="+r,e.post(n+"get_invitations_between_users",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sendDrinkInvitationToUser:function(t,o,a,r,i){var s="user="+r+"&password="+i+"&drink_nid="+t+"&destination_uid="+o+"&author_uid="+a+"&hash_id="+Math.random();return e.post(n+"send_drink_invitation",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sendDrinkInvitationResponse:function(t,o,a,r,i){var s="response="+t+"&user="+o+"&password="+a+"&invitation_nid="+r+"&destination_uid="+i+"&hash_id="+Math.random();return e.post(n+"invitation_response",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){var n=document.getElementById(t);return e.data&&"success"==e.data.Status||"success"==e.Status?(n.style.display="none",!0):(e.data?n.innerHTML="<h3>"+e.data.Message+"</h3>":n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return"success"!=e.Status?(n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";if(e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacío.</h3>')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cédula uruguaya válida.</h3>')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>')),"equalsTo"==e.type&&(n.validate_equalsTo(e.value,e.secondValue)||(o=o+'<h3>- Los campos "'+e.name+'" no coinciden.</h3>'))}),""==o)return!0;var a=document.getElementById(t);return a.innerHTML=o,a.style.display="block",!1}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.last_user_lat="",e.last_user_lng="",e.council_modal=null,e.selected_council=null,e.selectCouncil=function(t){e.selected_council=t},e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_last_user_position=function(t,n){e.last_user_lat=t,e.last_user_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(n,o,a,r){var i={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,a]},properties:{nombre:n}}]};e.getMap().then(function(e){var n,o=L.Proj.geoJson(i,{pointToLayer:function(e,o){n=o;var a="<p align='center'>"+e.properties.nombre+" <br/> <a ng-click='new_report_from_latlon("+n.lat+","+n.lng+");'>Iniciar reporte aquí</a></p>",i=t(a)(r);return L.marker(o).bindPopup(i[0])}});o.addTo(e),e.setView(n,18),o.openPopup()})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("MessageService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=(n.baseURL+"/sites/tomamos_una/files/json/online_users_geo.json",n.baseURL+"/api/");return o.getAllMessagesToUser=function(t,n,o,r){var i="user="+t+"&password="+n+"&author_uid="+r+"&uid="+o+"&hash_id="+Math.random();return e.post(a+"get_all_messages_to_user",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.getUserInfo=function(t){return e.get(a+"get_user_info",{cache:!1,params:{uid:t,hash_id:Math.random()}})},o.sendTextMessageToUser=function(t,n,o,r,i){var s="user="+r+"&password="+i+"&text="+t+"&destination_uid="+n+"&author_uid="+o;return e.post(a+"send_text_message",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.checkWhoCanTalk=function(t,n){var o="user="+t+"&password="+n;return e.post(a+"check_user_talk",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.canTalkToUsers=new Array,o.current={},o.build=function(e){return new o(e)},o}]),pmb_im.services.factory("ModalService",[function(){var e={};return e.activeModal=null,e.checkNoModalIsOpen=function(){e.activeModal&&(e.activeModal.hide(),e.activeModal.remove(),e.activeModal=null)},e}]),pmb_im.services.factory("NotificationService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/api/";return{getUnrecivedNotifications:function(t,o){var a="user="+t+"&password="+o+"&hash_id="+Math.random();return e.post(n+"get_unrecived_notifications",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},dontShowNotificationAgain:function(t,o,a){var r="user="+t+"&password="+o+"&nid="+a+"&hash_id="+Math.random();return e.post(n+"dont_show_notification_again",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("PinService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/oferta.geojson/-34.828518,-55.951376/MATUTINO",r=n.baseURL+"/api/";return o.getAll=function(){return e.get(a,{cache:!1,params:{hash_id:Math.random()}})},o.sendUserLocation=function(t,n,o,a,i){var s="user="+o+"&password="+a+"&lat="+t+"&lon="+n+"&uid="+i;return e.post(r+"send_user_position",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o._all=[],o.current={},o.lastPinsResponse=null,o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e){this.lat=e.lat,this.lon=e.lng},o}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,a,r,i){$scope=n;var s=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+r+'" no puede estar vacío.</h3>')),"email"==i&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+r+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==i&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+r+'" no es una cédula uruguaya válida.</h3>')),"two_words"==i&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var a=document.getElementById("error_container_inside");a.innerHTML=n,a.style.display="block",e.preventDefault()}}]});return s}}}]),pmb_im.services.factory("SemaphoreService",[function(){var e={};return e.semaphores=new Array,e.semaphores["open-modal"]="available",e.semaphores["submit-form"]="available",e.semaphores["submit-location"]="available",e.semaphores.can_talk="available",e.takeIfAvailable=function(t){return"available"==e.semaphores[t]&&(e.semaphores[t]="occupied",!0)},e.makeAvailableAgain=function(t){return"occupied"==e.semaphores[t]&&(e.semaphores[t]="available",!0)},e}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint","ConfigService","LocationsService",function(e,t,n,o,a,r){var i="ubicacionesRestProd",s={};return s.searchLocationByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t;return e.get(n,{method:"GET",params:{}})},s.searchEsquinaByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t.calle+","+t.esquina;return e.get(n,{method:"GET",params:{}})},s.getLocationGeom=function(t){for(var o=n.url+"/"+i+s.getParamPathByTipo(t.tipo),a=0;a<t.pathParams.length;a++)o+="/"+t.pathParams[a];return e.get(baseURL).then(function(e){return e.data})},s.getLocationGeomPMB=function(t,n,o){var i=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t+","+n+","+o;return e.get(i)},s.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},s}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var t={};return t.uid=null,t.name=null,t.email=null,t.password=null,t.picture_url="url(./img/icon-user-anonymous.png)",t.show_location=null,t.save_user_data=function(e,n,o,a,r,i,s,l){t.uid=r,t.name=e,t.password=n,t.picture_url=o,t.show_location=a,t.status=i,t.gender=s,t.interested=l},t.erase_user_data=function(){t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone=null,t.picture_url=null},t.get_user_data=function(){},t.add_photo=function(e){t.picture_url=e},t.isLogged=function(){return null!=t.name&&""!=t.name},t}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{isMobileDevice:function(){return!!window.cordova},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_equalsTo:function(e,t){return e==t},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=n%10===0?0:10-n%10,t==a}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2Ficy5jdHJsLmpzIiwiY29udHJvbGxlcnMvZm9ybS5jcnRsLmpzIiwiY29udHJvbGxlcnMvaW50cm8uY3RybC5qcyIsImNvbnRyb2xsZXJzL21hcC5jdHJsLmpzIiwiY29udHJvbGxlcnMvc2VhcmNoLmNydGwuanMiLCJzZXJ2aWNlcy9hcGkuc2VydmljZS5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2RyaW5rLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZXJyb3Iuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbWVzc2FnZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvbW9kYWxTZXJ2aWNlLmpzIiwic2VydmljZXMvbm90aWZpY2F0aW9uLnNlcnZpY2VzLmpzIiwic2VydmljZXMvcGluLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3NlbWFwaG9yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdWJpY2FjaW9uZXMuc2VydmljZXMuanMiLCJzZXJ2aWNlcy91bmRlcnNjb3JlLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91c2VyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdmFsaWRhdGlvbi5zZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJwbWJfaW0iLCJjb250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlcyIsImFwcCIsImNvbnN0YW50IiwidXJsIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJzY29wZSIsImxpbmsiLCJlbGUiLCJvbiIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJydW4iLCIkaW9uaWNQbGF0Zm9ybSIsIiRyb290U2NvcGUiLCIkY29yZG92YUtleWJvYXJkIiwiVkVSU0lPTiIsIndpbmRvdyIsInJlYWR5IiwiY29yZG92YSIsInBsdWdpbnMiLCJLZXlib2FyZCIsImlvbmljIiwiUGxhdGZvcm0iLCJpc0Z1bGxTY3JlZW4iLCJTdGF0dXNCYXIiLCJzdHlsZURlZmF1bHQiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRjb21waWxlUHJvdmlkZXIiLCIkaW9uaWNDb25maWdQcm92aWRlciIsImlzQW5kcm9pZCIsInNjcm9sbGluZyIsImpzU2Nyb2xsaW5nIiwicGxhdGZvcm0iLCJhbmRyb2lkIiwiZGVidWdJbmZvRW5hYmxlZCIsInN0YXRlIiwiY2FjaGUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInZpZXdzIiwibWVudUNvbnRlbnQiLCJtYXBWaWV3Iiwib3RoZXJ3aXNlIiwiJHNjb3BlIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCJvcGVuV2Vic2l0ZSIsIm9wdGlvbnMiLCJsb2NhdGlvbiIsImNsZWFyY2FjaGUiLCJ0b29sYmFyIiwib3BlbiIsInRoZW4iLCJldmVudCIsIiRzdGF0ZSIsIiRjb3Jkb3ZhR2VvbG9jYXRpb24iLCIkc3RhdGVQYXJhbXMiLCIkaW9uaWNQb3B1cCIsIkxvY2F0aW9uc1NlcnZpY2UiLCJBcGlTZXJ2aWNlIiwiREJTZXJ2aWNlIiwiJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSIsIiRpb25pY1Njcm9sbERlbGVnYXRlIiwiZm9ybSIsImVkYWQiLCJ1bHRpbW9fbml2ZWxfYXByb2JhZG8iLCJ1bHRpbW9fYW5pb19hcHJvYmFkbyIsInBsYW4iLCJsdWdhciIsInF1ZSIsImRvbmRlIiwidHVybm8iLCJTZWFyY2hRdWVSZXN1bHRzIiwiU2VhcmNoRG9uZGVSZXN1bHRzIiwic2VhcmNoUXVlIiwic2VhcmNoRG9uZGUiLCJvcHRpb24iLCJlc3RhYmxlY2ltaWVudG9zIiwicmVzdGFyRWRhZCIsInBhcnNlSW50Iiwic3VtYXJFZGFkIiwic2VsZWN0VWx0aW1vTml2ZWwiLCJpZE5pdmVsIiwiaSIsIngiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJsZW5ndGgiLCJjbGFzc05hbWUiLCJpZCIsInNlbGVjdGVkIiwiZ2V0RWxlbWVudEJ5SWQiLCJzZWxlY3RfdHVybm8iLCJpZFR1cm5vIiwic2VsZWN0X29wdGlvbiIsImlkT3B0aW9uIiwic3R5bGUiLCJkaXNwbGF5IiwidmlzaWJpbGl0eSIsIm1pbkhlaWdodCIsIm9uU2VhcmNoQ2hhbmdlUXVlIiwic2VhcmNoIiwic2VhcmNoX3N0ciIsInZhbHVlIiwidHJpbSIsInNlYXJjaFF1ZUVzdHVkaWFyIiwicmVzcG9uc2UiLCJkYXRhIiwiaGlkZVNlYXJjaFF1ZVJlc3VsdHMiLCJzZWxlY3RRdWVFc3R1ZGlhckl0ZW0iLCJjdXJzbyIsIm5vbWJyZSIsImxpc3RBbGxRdWVFc3R1ZGlhciIsIm9uU2VhcmNoQ2hhbmdlRG9uZGUiLCJzZWFyY2hEb25kZUVzdHVkaWFyIiwiaGlkZVNlYXJjaERvbmRlUmVzdWx0cyIsInNlbGVjdERvbmRlRXN0dWRpYXJJdGVtIiwibG9jX2RlcCIsImVkaXRTZWFyY2giLCJwcmV2aW91cyIsIm5leHQiLCJzbGlkZUhhc0NoYW5nZWQiLCJpbmRleCIsInVwZGF0ZUZpbHRlcnMiLCJmaWx0ZXJzIiwiZ2V0RXN0YWJsZWNpbWllbnRvc0J5RmlsdGVycyIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVNYXBQaW5zIiwib3BlbkRldGFpbHNNb2RhbCIsImdldEVzdGFibGVjaW1pZW50b0J5SWQiLCJNb2RhbFNlcnZpY2UiLCIkb24iLCJjaGVja05vTW9kYWxJc09wZW4iLCJnZW9sb2NhdGUiLCJwb3NPcHRpb25zIiwidGltZW91dCIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwic2F2ZV9pbml0aWFsX3Bvc2l0aW9uIiwiZ28iLCJlcnIiLCJnb190b19mb3JtIiwiZ29fdG9fc2VhcmNoIiwiXyIsImxlYWZsZXREYXRhIiwiQ29uZmlnU2VydmljZSIsIlBpblNlcnZpY2UiLCIkaW50ZXJ2YWwiLCIkbG9jYXRpb24iLCJNYXBTZXJ2aWNlIiwiJGlvbmljTW9kYWwiLCIkdGltZW91dCIsImJhc2VVUkwiLCJBcHBOYW1lIiwib25lX3ZhbHVlX3BvcHVwIiwibXlJbnRlcnZhbHMiLCJBcnJheSIsIm1hcCIsIm1vZGFsX21hcCIsImVzdGFibGVjaW1pZW50byIsIm1hcFNjb3BlIiwiY3JlYXRlX29ubGluZV9tYXAiLCJmaWx0ZXJzVXBkYXRlZCIsImRlZmF1bHRzIiwidGlsZUxheWVyIiwibWluWm9vbSIsIm1heFpvb20iLCJ6b29tQ29udHJvbFBvc2l0aW9uIiwibWFya2VycyIsImV2ZW50cyIsImVuYWJsZSIsImxvZ2ljIiwiY2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsImxvY2F0ZSIsImNvb3JkcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibm93IiwibWVzc2FnZSIsImZvY3VzIiwiZHJhZ2dhYmxlIiwibG9hZFBpbnNMYXllciIsImdldE1hcCIsImVhY2hMYXllciIsIm1hcmtlciIsIl91cmwiLCJyZW1vdmVMYXllciIsImZvckVhY2giLCJmZWF0dXJlIiwibG9uIiwibWFya2VySWNvbiIsIkwiLCJpY29uIiwiaWNvblVybCIsImljb25TaXplIiwiaWNvbkFuY2hvciIsInBvcHVwQW5jaG9yIiwiYmluZFBvcHVwIiwib3BlblBvcHVwIiwiYWRkTGF5ZXIiLCJmcm9tVGVtcGxhdGVVcmwiLCJoYXJkd2FyZUJhY2tCdXR0b25DbG9zZSIsImFuaW1hdGlvbiIsIm1vZGFsIiwiYWN0aXZlTW9kYWwiLCJzaG93IiwiTWFwIiwicHJvdG90eXBlIiwicGFuVG9PZmZzZXQiLCJsYXRsbmciLCJvZmZzZXQiLCJ0aGlzIiwibGF0TG5nVG9Db250YWluZXJQb2ludCIsInkiLCJwb2ludCIsImNvbnRhaW5lclBvaW50VG9MYXRMbmciLCJzZXRWaWV3IiwicGFuIiwiem9vbUNvbnRyb2wiLCJ0aXRsZSIsInBhZGRpbmdYIiwiaW5uZXJXaWR0aCIsImNsb3NlX21vZGFsIiwibm9tYnJlX2NlbnRybyIsIm9uU2VhcmNoQ2hhbmdlIiwic2hvd01hcCIsInNob3dMaXN0IiwiZmFjdG9yeSIsIiRodHRwIiwiQXBpT2JqZWN0IiwiX2RhdGEiLCJleHRlbmQiLCJhcGlVUkwiLCJzdHIiLCJnZXQiLCJwYXJhbXMiLCJoYXNoX2lkIiwiTWF0aCIsInJhbmRvbSIsImZvcm1TY29wZSIsImxhc3RTZWFyY2hSZXNwb25zZUVzdGFibGVjaW1pZW50b3MiLCJmaWx0ZXJzT2JqZWN0IiwiY3JlYXRlRmlsdGVyUGFyYW1zRm9yR2V0UmVxdWVzdCIsInF1ZUVzdHVkaWFySWQiLCJxdWVFc3R1ZGlhck5vbWJyZSIsInF1ZUVzdHVkaWFyVGFnVW5vIiwidGFnIiwicXVlRXN0dWRpYXJUYWdEb3MiLCJkb25kZUVzdHVkaWFyRGVwYXJ0YW1lbnRvIiwiZGVwYXJ0YW1lbnRvIiwiZG9uZGVFc3R1ZGlhckxvY2FsaWRhZCIsImxvY2FsaWRhZCIsImRvbmRlRXN0dWRpYXJMYXQiLCJjb29yZGVuYWRhcyIsImRvbmRlRXN0dWRpYXJMb24iLCJ0aXBvIiwicGFyYW1ldGVycyIsIiRjb3Jkb3ZhRmlsZVRyYW5zZmVyIiwiVmFsaWRhdGlvblNlcnZpY2UiLCJsb2dfaW4iLCJ1c2VyIiwicGFzc3dvcmQiLCJib2R5IiwicG9zdCIsIndpdGhDcmVkZW50aWFscyIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJzaWduX291dCIsImVtYWlsIiwicGFzc3dvcmRfc2lnbl9pbiIsImNyZWF0ZV91c2VyIiwidXNlck9iaiIsInBpY3R1cmVfdXJsIiwiaXNNb2JpbGVEZXZpY2UiLCJmaWxlS2V5IiwidXNlcm5hbWUiLCJnZW5kZXIiLCJpbnRlcmVzdGVkIiwic3RhdHVzIiwic2hvd19sb2NhdGlvbiIsInRydXN0QWxsSG9zdHMiLCJ1cGxvYWQiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidW5kZWZpbmVkIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwicGFzc3dvcmRfcmVjb3ZlcnkiLCJsb2dpbl9lbWFpbCIsInBhc3N3b3JkX2NoYW5nZSIsIm9sZFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJlZGl0X3VzZXIiLCJDb25maWdPYmoiLCJpc1dlYlZpZXciLCIkY29yZG92YU5ldHdvcmsiLCJpc09ubGluZSIsImlzT2ZmbGluZSIsIiRxIiwic2F2ZVVzZXIiLCJ1c2VyX25hbWUiLCJ1c2VyX3Bhc3N3b3JkIiwidXNlcl9waWN0dXJlX3VybCIsInVpZCIsIl9pZCIsIm5hbWUiLCJnZXRVc2VyIiwiZG9jIiwiX3JldiIsIl9kYiIsInB1dCIsImVyYXNlVXNlciIsInJlbW92ZSIsImluaXREQiIsIlBvdWNoREIiLCJzYXZlUmVwb3J0IiwicmVwb3J0IiwiZGF0ZSIsIkRhdGUiLCJuZXdfcmVwb3J0X2lkIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRNaWxsaXNlY29uZHMiLCJ1cGRhdGVSZXBvcnQiLCJnZXRDYXRlZ29yaWVzIiwic2F2ZUNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZ2V0UmVwb3J0IiwicmVwb3J0SWQiLCJnZXRBbGxSZXBvcnRzIiwiYWxsRG9jcyIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwic3RhcnRrZXkiLCJlbmRrZXkiLCJkZWxldGVSZXBvcnQiLCJyZXBvcnRfaWQiLCJkZWxldGVHaXZlblJlcG9ydCIsImdldEFsbERyaW5rc0F2YWlsYWJsZSIsImdldEFsbEludml0YXRpb25zV2l0aFVzZXIiLCJkZXN0aW5hdGlvbl91aWQiLCJhdXRob3JfdWlkIiwic2VuZERyaW5rSW52aXRhdGlvblRvVXNlciIsImRyaW5rX25pZCIsInNlbmREcmlua0ludml0YXRpb25SZXNwb25zZSIsImludml0YXRpb25fbmlkIiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsIiwianNvblJlc3VsdCIsImVycm9yQ29udGFpbmVySWQiLCJlcnJvckRpdiIsIlN0YXR1cyIsImlubmVySFRNTCIsIk1lc3NhZ2UiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInJlc3VsdCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cCIsImFsZXJ0UG9wdXAiLCJhbGVydCIsInRlbXBsYXRlIiwicmVzIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4Iiwic2hvd19lcnJvcl9tZXNzYWdlIiwic2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwIiwiY2hlY2tfZmllbGRzIiwiZmllbGRzIiwiZXJyb3JzIiwiZmllbGQiLCJ0eXBlIiwidmFsaWRhdGVfbm90X2VtcHR5IiwidmFsaWRhdGVfZW1haWwiLCJ2YWxpZGF0ZV9pZGRvY191eSIsInZhbGlkYXRlX3R3b193b3JkcyIsInZhbGlkYXRlX2VxdWFsc1RvIiwic2Vjb25kVmFsdWUiLCIkaW9uaWNMb2FkaW5nIiwiTE9BREVSQVBJIiwic2hvd0xvYWRpbmciLCJ0ZXh0IiwiaGlkZUxvYWRpbmciLCJoaWRlIiwidG9nZ2xlTG9hZGluZ1dpdGhNZXNzYWdlIiwic2VsZiIsImNvbmZpcm1Qb3B1cCIsImNvbmZpcm0iLCJzaG93QWxlcnQiLCJfdGl0bGUiLCJfdGVtcGxhdGUiLCJsb2NhdGlvbnNPYmoiLCJpbml0aWFsX2xhdCIsImluaXRpYWxfbG5nIiwibGFzdF91c2VyX2xhdCIsImxhc3RfdXNlcl9sbmciLCJjb3VuY2lsX21vZGFsIiwic2VsZWN0ZWRfY291bmNpbCIsInNlbGVjdENvdW5jaWwiLCJjb3VuY2lsTmFtZSIsInNhdmVfbGFzdF91c2VyX3Bvc2l0aW9uIiwic2F2ZWRMb2NhdGlvbnMiLCIkY29tcGlsZSIsInByb2o0IiwiZGVmcyIsIm1hcFNlcnZpY2UiLCJnb1RvUGxhY2UiLCJfZ2VvSnNvbiIsImNycyIsInByb3BlcnRpZXMiLCJmZWF0dXJlcyIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJfbGF0bG5nIiwibGF5ZXIiLCJQcm9qIiwiZ2VvSnNvbiIsInBvaW50VG9MYXllciIsImh0bWxQb3BVcCIsImNvbXBpbGVkIiwiYWRkVG8iLCJjZW50ZXJNYXBPbkNvb3JkcyIsIkxhdExuZyIsImdldEFsbE1lc3NhZ2VzVG9Vc2VyIiwiZ2V0VXNlckluZm8iLCJzZW5kVGV4dE1lc3NhZ2VUb1VzZXIiLCJjaGVja1dob0NhblRhbGsiLCJjYW5UYWxrVG9Vc2VycyIsImN1cnJlbnQiLCJidWlsZCIsIm1vZGFsT0JKIiwiZ2V0VW5yZWNpdmVkTm90aWZpY2F0aW9ucyIsImRvbnRTaG93Tm90aWZpY2F0aW9uQWdhaW4iLCJuaWQiLCJQaW4iLCJwaW5zVVJMIiwiZ2V0QWxsIiwic2VuZFVzZXJMb2NhdGlvbiIsIl9hbGwiLCJsYXN0UGluc1Jlc3BvbnNlIiwic2V0TGF0TG5nIiwic2hvd19hbGVydCIsImFsZXJ0X3RpdGxlIiwiYWxlcnRfbWVzc2FnZSIsImFza0Zvck9uZVZhbHVlUG9wVXAiLCJmaWVsZF9uYW1lIiwidmFsaWRhdGlvblR5cGUiLCJteVBvcHVwIiwic3ViVGl0bGUiLCJidXR0b25zIiwib25UYXAiLCJwcmV2ZW50RGVmYXVsdCIsInNlbWFwaG9yZU9iaiIsInNlbWFwaG9yZXMiLCJ0YWtlSWZBdmFpbGFibGUiLCJzZW1hcGhvcmVJZCIsIm1ha2VBdmFpbGFibGVBZ2FpbiIsIkFwaUltRW5kcG9pbnQiLCJBcGlEYXRhRW5kcG9pbnQiLCJyZXN0UHJlZmZpeCIsImxvY2F0aW9uQVBJIiwic2VhcmNoTG9jYXRpb25CeVN0ciIsIl9sb2NhdGlvbiIsIm1ldGhvZCIsInNlYXJjaEVzcXVpbmFCeVN0ciIsImNhbGxlIiwiZXNxdWluYSIsImdldExvY2F0aW9uR2VvbSIsImdldFBhcmFtUGF0aEJ5VGlwbyIsInBhdGhQYXJhbXMiLCJnZXRMb2NhdGlvbkdlb21QTUIiLCJlc3F1aW5hX251bWVybyIsIl90aXBvIiwicmVzdEdlb0RhdGFTZXJ2aWNlUGF0aCIsIkVTUVVJTkEiLCJESVJFQ0NJT04iLCJVc2VyT2JqIiwic2F2ZV91c2VyX2RhdGEiLCJlcmFzZV91c2VyX2RhdGEiLCJpZGVudGl0eV9kb2N1bWVudCIsInBob25lIiwiZ2V0X3VzZXJfZGF0YSIsImFkZF9waG90byIsImlzTG9nZ2VkIiwidmFsdWVzIiwic3BsaXQiLCJmaWx0ZXIiLCJ2IiwicmUiLCJ0ZXN0IiwicmVwbGFjZSIsImRpZyIsImEiXSwibWFwcGluZ3MiOiJBQU9BLEdBQUlBLFNBQ0ZDLFlBQWFDLFFBQVFDLE9BQU8seUJBQzVCQyxTQUFVRixRQUFRQyxPQUFPLHNCQUczQkgsUUFBT0ssSUFBTUgsUUFBUUMsT0FBTyxVQUFXLFFBQVEsZUFBZSxtQkFBbUIsb0JBQXFCLHFCQUFzQixrQkFBbUIsY0FFOUlHLFNBQVMsaUJBQ1JDLElBQUssaUNBR05ELFNBQVMsbUJBQ1JDLElBQUssNkNBR05DLFVBQVUsU0FBUyxXQUNoQixPQUNJQyxTQUFVLElBQ1ZDLE9BQU8sRUFDUEMsS0FBTSxTQUFVRCxFQUFPRSxHQUNuQkEsRUFBSUMsR0FBRyx1QkFBdUIsU0FBU0MsR0FDbkNBLEVBQUVDLHdCQU9qQkMsS0FBQSxpQkFBQSxhQUFBLG1CQUFJLFNBQVNDLEVBQWdCQyxFQUFZQyxHQUN4Q0QsRUFBV0UsUUFBVUMsT0FBT0QsUUFDNUJILEVBQWVLLE1BQU0sV0FHZkQsT0FBT0UsU0FBV0YsT0FBT0UsUUFBUUMsUUFBUUMsU0FRN0NDLE1BQU1DLFNBQVNDLGNBQWUsRUFDMUJQLE9BQU9RLFdBRVRBLFVBQVVDLG9CQUtmQyxRQUFBLGlCQUFBLHFCQUFBLG1CQUFBLHVCQUFPLFNBQVNDLEVBQWdCQyxFQUFvQkMsRUFBa0JDLEdBQ2pFVCxNQUFNQyxTQUFTUyxjQUNqQkQsRUFBcUJFLFVBQVVDLGFBQVksR0FDM0NILEVBQXFCSSxTQUFTQyxRQUFRSCxVQUFVQyxhQUFZLElBRzlESixFQUFpQk8sa0JBQWlCLEdBT2xDVCxFQUVEVSxNQUFNLE9BQ0hDLE9BQU8sRUFD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LFNBQVVwUixHQUMzQixHQUFVLE1BQVBBLEdBQXNCLGFBQVBBLEdBQTZCLElBQVBBLEVBQVUsQ0FDOUNBLEVBQVFBLEVBQU13WSxRQUFRLE1BQU8sR0FDN0IsSUFBSUMsR0FBTXpZLEVBQU1BLEVBQU1oQixPQUFTLEdBQzNCMFosRUFBSSxFQUFPOVosRUFBSSxDQUNuQixJQUFHb0IsRUFBTWhCLFFBQVUsRUFDakIsSUFBSUosRUFBSW9CLEVBQU1oQixPQUFRSixFQUFJLEVBQUdBLElBQzNCb0IsRUFBUSxJQUFNQSxDQUdsQixLQUFJcEIsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQ2hCOFosR0FBTWxhLFNBQVMsVUFBVUksSUFBTUosU0FBU3dCLEVBQU1wQixJQUFPLEVBRXZELElBQUl1UixFQU1KLE9BSkVBLEdBREN1SSxFQUFFLEtBQU8sRUFDRCxFQUVBLEdBQUtBLEVBQUksR0FFakJELEdBQU90SSxFQU1aLE9BQU8iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW9uaWMgU3RhcnRlciBBcHBcblxuLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdwbWJfaW0nIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgZXhhbXBsZSAoYWxzbyBzZXQgaW4gYSA8Ym9keT4gYXR0cmlidXRlIGluIGluZGV4Lmh0bWwpXG4vLyB0aGUgMm5kIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiAncmVxdWlyZXMnXG4vLyAnc3RhcnRlci5zZXJ2aWNlcycgaXMgZm91bmQgaW4gc2VydmljZXMuanNcbi8vICdzdGFydGVyLmNvbnRyb2xsZXJzJyBpcyBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xudmFyIHBtYl9pbSA9IHtcbiAgY29udHJvbGxlcnM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uY29udHJvbGxlcnMnLCBbXSksXG4gIHNlcnZpY2VzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLnNlcnZpY2VzJywgW10pXG59O1xuXG5wbWJfaW0uYXBwID0gYW5ndWxhci5tb2R1bGUoJ3BtYl9pbScsIFsnaW9uaWMnLCdpb25pYy53aXphcmQnLCdpb24tYXV0b2NvbXBsZXRlJywnbGVhZmxldC1kaXJlY3RpdmUnLCAncG1iX2ltLmNvbnRyb2xsZXJzJywgJ3BtYl9pbS5zZXJ2aWNlcycsICduZ0NvcmRvdmEnXSlcblxuLmNvbnN0YW50KCdBcGlJbUVuZHBvaW50Jywge1xuICB1cmw6ICdodHRwOi8vd3d3Lm1vbnRldmlkZW8uZ3ViLnV5J1xufSlcblxuLmNvbnN0YW50KCdBcGlEYXRhRW5kcG9pbnQnLCB7XG4gIHVybDogJ2h0dHA6Ly9iYWNrZW5kLmVkdWNhY2lvbi50aG9yLmRhdGF1eS5vcmcnXG59KVxuXG4uZGlyZWN0aXZlKCdzZWxlY3QnLGZ1bmN0aW9uKCl7IC8vc2FtZSBhcyBcIm5nU2VsZWN0XCJcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICBzY29wZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlKSB7XG4gICAgICAgICAgICBlbGUub24oJ3RvdWNobW92ZSB0b3VjaHN0YXJ0JyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn0pXG5cblxuLnJ1bihmdW5jdGlvbigkaW9uaWNQbGF0Zm9ybSwgJHJvb3RTY29wZSwgJGNvcmRvdmFLZXlib2FyZCkge1xuICAkcm9vdFNjb3BlLlZFUlNJT04gPSB3aW5kb3cuVkVSU0lPTjtcbiAgJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxuICAgIC8vIGZvciBmb3JtIGlucHV0cylcbiAgICBpZiAod2luZG93LmNvcmRvdmEgJiYgd2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZCkge1xuICAgICAgLy9jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKGZhbHNlKTtcbiAgICAgIC8vY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmRpc2FibGVTY3JvbGwodHJ1ZSk7XG4gICAgfVxuICAgIC8vd2luZG93LktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcihmYWxzZSk7XG4gICAgLy9jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKGZhbHNlKTtcbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuaGlkZUFjY2Vzc29yeUJhcihmYWxzZSlcbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuZGlzYWJsZVNjcm9sbCh0cnVlKVxuICAgIGlvbmljLlBsYXRmb3JtLmlzRnVsbFNjcmVlbiA9IGZhbHNlO1xuICAgIGlmICh3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4gICAgICBTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XG4gICAgfVxuICB9KTtcbn0pXG5cbi5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIpIHtcbiAgaWYgKGlvbmljLlBsYXRmb3JtLmlzQW5kcm9pZCgpKSB7XG4gICAgJGlvbmljQ29uZmlnUHJvdmlkZXIuc2Nyb2xsaW5nLmpzU2Nyb2xsaW5nKGZhbHNlKTtcbiAgICAkaW9uaWNDb25maWdQcm92aWRlci5wbGF0Zm9ybS5hbmRyb2lkLnNjcm9sbGluZy5qc1Njcm9sbGluZyhmYWxzZSk7XG4gIH1cblxuICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpO1xuICAvLyRpb25pY0NvbmZpZ1Byb3ZpZGVyLnNjcm9sbGluZy5qc1Njcm9sbGluZyh0cnVlKTtcblxuICAvLyBJb25pYyB1c2VzIEFuZ3VsYXJVSSBSb3V0ZXIgd2hpY2ggdXNlcyB0aGUgY29uY2VwdCBvZiBzdGF0ZXNcbiAgLy8gTGVhcm4gbW9yZSBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXJcbiAgLy8gU2V0IHVwIHRoZSB2YXJpb3VzIHN0YXRlcyB3aGljaCB0aGUgYXBwIGNhbiBiZSBpbi5cbiAgLy8gRWFjaCBzdGF0ZSdzIGNvbnRyb2xsZXIgY2FuIGJlIGZvdW5kIGluIGNvbnRyb2xsZXJzLmpzXG4gICRzdGF0ZVByb3ZpZGVyXG5cbi5zdGF0ZSgnYXBwJywge1xuICAgIGNhY2hlOiBmYWxzZSxcbiAgICB1cmw6IFwiL2FwcFwiLFxuICAgIGFic3RyYWN0OiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9tZW51Lmh0bWxcIixcbiAgICBjb250cm9sbGVyOiAnQWJzQ29udHJvbGxlcidcbiAgfSlcblxuLnN0YXRlKCdhcHAuZm9ybScsIHtcbiAgY2FjaGU6IGZhbHNlLFxuICB1cmw6IFwiL2Zvcm1cIixcbiAgdmlld3M6IHtcbiAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvZm9ybS5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJGb3JtQ3RybFwiXG4gICAgfSxcbiAgICAnbWFwVmlldycgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9tYXAuaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiTWFwQ29udHJvbGxlclwiXG4gICAgfVxuICB9XG59KVxuXG4uc3RhdGUoJ2FwcC5pbnRybycsIHtcbiAgY2FjaGU6IGZhbHNlLFxuICB1cmw6IFwiL2ludHJvXCIsXG4gIHZpZXdzOiB7XG4gICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2ludHJvLmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXIgOiBcIkludHJvQ3RybFwiXG4gICAgfVxuICB9XG59KVxuXG4uc3RhdGUoJ2FwcC5zZWFyY2gnLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9zZWFyY2hcIixcbiAgdmlld3M6IHtcbiAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvc2VhcmNoLmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXIgOiBcIlNlYXJjaEN0cmxcIlxuICAgIH0sXG4gICAgJ21hcFZpZXcnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWFwLmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXIgOiBcIk1hcENvbnRyb2xsZXJcIlxuICAgIH1cbiAgfVxufSlcblxuLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvaW50cm8nKTtcblxufSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignQWJzQ29udHJvbGxlcicsXG5bJyRzY29wZScsJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJyxcbmZ1bmN0aW9uKCRzY29wZSwkY29yZG92YUluQXBwQnJvd3Nlcikge1xuXG4gICRzY29wZS5vcGVuV2Vic2l0ZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICBsb2NhdGlvbjogJ25vJyxcbiAgICAgICAgICAgICAgY2xlYXJjYWNoZTogJ3llcycsXG4gICAgICAgICAgICAgIHRvb2xiYXI6ICd5ZXMnXG4gICAgICAgICAgfTtcblxuICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKVxuICAgICAgICAudGhlbihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgLy8gZXJyb3JcbiAgICAgIH0pO1xuICB9XG5cbn1dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdGb3JtQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0FwaVNlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxuICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGNvcmRvdmFHZW9sb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCAkaW9uaWNQbGF0Zm9ybSwgJGlvbmljUG9wdXAsIExvY2F0aW9uc1NlcnZpY2UsIEFwaVNlcnZpY2UsIERCU2VydmljZSwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSxcbiAgJGlvbmljU2Nyb2xsRGVsZWdhdGUpIHtcblxuICAgICRzY29wZS5mb3JtID0ge307XG4gICAgJHNjb3BlLmZvcm0uZWRhZCA9IDE2O1xuICAgICRzY29wZS5mb3JtLnVsdGltb19uaXZlbF9hcHJvYmFkbyA9IFwicHJpbWFyaWFcIjtcbiAgICAkc2NvcGUuZm9ybS51bHRpbW9fYW5pb19hcHJvYmFkbyA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0ucGxhbiA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0ubHVnYXIgPSBcIlwiO1xuICAgICRzY29wZS5mb3JtLnF1ZSA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0uZG9uZGUgPSBcIlwiO1xuICAgICRzY29wZS5mb3JtLnR1cm5vID0gXCJtYXR1dGlub1wiO1xuICAgICRzY29wZS5mb3JtLlNlYXJjaFF1ZVJlc3VsdHMgPSB7fTtcbiAgICAkc2NvcGUuZm9ybS5TZWFyY2hEb25kZVJlc3VsdHMgPSB7fTtcbiAgICAkc2NvcGUuZm9ybS5zZWFyY2hRdWUgPSBcIlwiO1xuICAgICRzY29wZS5mb3JtLnNlYXJjaERvbmRlID0gXCJcIjtcbiAgICAkc2NvcGUuZm9ybS5vcHRpb24gPSBcImxpc3RcIjtcbiAgICAkc2NvcGUuZXN0YWJsZWNpbWllbnRvcyA9IG51bGw7XG5cbiAgICAkc2NvcGUucmVzdGFyRWRhZCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZihwYXJzZUludCgkc2NvcGUuZm9ybS5lZGFkKSA+IDQpe1xuICAgICAgICAkc2NvcGUuZm9ybS5lZGFkID0gcGFyc2VJbnQoJHNjb3BlLmZvcm0uZWRhZCkgLSAxO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuc3VtYXJFZGFkID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5mb3JtLmVkYWQgPSBwYXJzZUludCgkc2NvcGUuZm9ybS5lZGFkKSArIDE7XG4gICAgfTtcblxuICAgICRzY29wZS5zZWxlY3RVbHRpbW9OaXZlbCA9IGZ1bmN0aW9uKGlkTml2ZWwpe1xuICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibml2ZWxcIik7XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgeFtpXS5jbGFzc05hbWUgPSBcIm5pdmVsX1wiK3hbaV0uaWQgK1wiIG5pdmVsIGhpZGRlblwiO1xuICAgICAgfVxuICAgICAgdmFyIHNlbGVjdGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWROaXZlbCk7XG4gICAgICBzZWxlY3RlZC5jbGFzc05hbWUgPSBcIm5pdmVsX1wiK3NlbGVjdGVkLmlkICtcIiBuaXZlbFwiO1xuICAgICAgJHNjb3BlLmZvcm0udWx0aW1vX25pdmVsX2Fwcm9iYWRvID0gaWROaXZlbDtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2VsZWN0X3R1cm5vID0gZnVuY3Rpb24oaWRUdXJubyl7XG4gICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0dXJub3NcIik7XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgeFtpXS5jbGFzc05hbWUgPSBcInR1cm5vcyB0dXJub19cIisgeFtpXS5pZCArXCJfb2ZmXCI7XG4gICAgICB9XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZFR1cm5vKTtcbiAgICAgIHNlbGVjdGVkLmNsYXNzTmFtZSA9IFwidHVybm9zIHR1cm5vX1wiKyBpZFR1cm5vO1xuICAgICAgJHNjb3BlLmZvcm0udHVybm8gPSBpZFR1cm5vO1xuICAgIH1cblxuICAgICRzY29wZS5zZWxlY3Rfb3B0aW9uID0gZnVuY3Rpb24oaWRPcHRpb24pe1xuICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwib3B0aW9uc1wiKTtcbiAgICAgIHZhciBpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB4W2ldLmNsYXNzTmFtZSA9IFwib3B0aW9ucyBvcHRpb25fXCIrIHhbaV0uaWQgK1wiX29mZlwiO1xuICAgICAgfVxuICAgICAgdmFyIHNlbGVjdGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRPcHRpb24pO1xuICAgICAgc2VsZWN0ZWQuY2xhc3NOYW1lID0gXCJvcHRpb25zIG9wdGlvbl9cIisgaWRPcHRpb247XG4gICAgICAkc2NvcGUuZm9ybS5vcHRpb24gPSBpZE9wdGlvbjtcbiAgICAgIGlmKGlkT3B0aW9uPT1cIm1hcFwiKXtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBfd3JhcHBlclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBfY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcF9jb250YWluZXJcIikuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXN0X2NvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1fY29udGFpbmVyXCIpLnN0eWxlLm1pbkhlaWdodD1cIjM3MHB4XCI7XG4gICAgICB9XG4gICAgICBpZihpZE9wdGlvbj09XCJsaXN0XCIpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcF93cmFwcGVyXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzdF9jb250YWluZXJcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwX2NvbnRhaW5lclwiKS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwX2NvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1fY29udGFpbmVyXCIpLnN0eWxlLm1pbkhlaWdodD1cIjY0MHB4XCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLm9uU2VhcmNoQ2hhbmdlUXVlID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBzZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZV9lc3R1ZGlhclwiKTtcbiAgICAgIHZhciBzZWFyY2hfc3RyID0gc2VhcmNoLnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmKHNlYXJjaF9zdHIubGVuZ3RoPj0zKXtcbiAgICAgICAgQXBpU2VydmljZS5zZWFyY2hRdWVFc3R1ZGlhcihzZWFyY2hfc3RyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICRzY29wZS5mb3JtLlNlYXJjaFF1ZVJlc3VsdHMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiU2VhcmNoUXVlUmVzdWx0c1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUuaGlkZVNlYXJjaFF1ZVJlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZVNlYXJjaFF1ZVJlc3VsdHMgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJTZWFyY2hRdWVSZXN1bHRzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2VsZWN0UXVlRXN0dWRpYXJJdGVtID0gZnVuY3Rpb24oY3Vyc28pe1xuICAgICAgJHNjb3BlLmZvcm0ucXVlID0gY3Vyc287XG4gICAgICAkc2NvcGUuaGlkZVNlYXJjaFF1ZVJlc3VsdHMoKTtcbiAgICAgICRzY29wZS5mb3JtLnNlYXJjaFF1ZSA9IGN1cnNvLm5vbWJyZTtcbiAgICB9XG5cbiAgICAkc2NvcGUubGlzdEFsbFF1ZUVzdHVkaWFyID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBzZWFyY2hfc3RyID0gXCJhcGktZ2V0LWFsbFwiO1xuICAgICAgICBBcGlTZXJ2aWNlLnNlYXJjaFF1ZUVzdHVkaWFyKHNlYXJjaF9zdHIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgJHNjb3BlLmZvcm0uU2VhcmNoUXVlUmVzdWx0cyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJTZWFyY2hRdWVSZXN1bHRzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5vblNlYXJjaENoYW5nZURvbmRlID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBzZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRvbmRlX2VzdHVkaWFyXCIpO1xuICAgICAgdmFyIHNlYXJjaF9zdHIgPSBzZWFyY2gudmFsdWUudHJpbSgpO1xuICAgICAgaWYoc2VhcmNoX3N0ci5sZW5ndGg+PTMpe1xuICAgICAgICBBcGlTZXJ2aWNlLnNlYXJjaERvbmRlRXN0dWRpYXIoc2VhcmNoX3N0cikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAkc2NvcGUuZm9ybS5TZWFyY2hEb25kZVJlc3VsdHMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiU2VhcmNoRG9uZGVSZXN1bHRzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgICRzY29wZS5oaWRlU2VhcmNoRG9uZGVSZXN1bHRzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmhpZGVTZWFyY2hEb25kZVJlc3VsdHMgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJTZWFyY2hEb25kZVJlc3VsdHNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgICRzY29wZS5zZWxlY3REb25kZUVzdHVkaWFySXRlbSA9IGZ1bmN0aW9uKGRvbmRlKXtcbiAgICAgICRzY29wZS5mb3JtLmRvbmRlID0gZG9uZGU7XG4gICAgICAkc2NvcGUuaGlkZVNlYXJjaERvbmRlUmVzdWx0cygpO1xuICAgICAgJHNjb3BlLmZvcm0uc2VhcmNoRG9uZGUgPSBkb25kZS5sb2NfZGVwO1xuICAgIH1cblxuICAgICRzY29wZS5lZGl0U2VhcmNoID0gZnVuY3Rpb24oKXtcbiAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcbiAgICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcbiAgICB9XG5cblx0ICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5uZXh0KCk7XG5cdCAgfTtcblxuXHQgICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5wcmV2aW91cygpO1xuXHQgIH07XG5cbiAgICAkc2NvcGUuc2xpZGVIYXNDaGFuZ2VkID0gZnVuY3Rpb24oaW5kZXgpe1xuICAgICAgJHNjb3BlLnNlbGVjdF9vcHRpb24oXCJsaXN0XCIpO1xuICAgICAgaWYoaW5kZXg9PTIpe1xuICAgICAgICAvL2luZGV4IDIgZXMgZWwgc2xpZGUgcXVlIHRpZW5lIGVsIGJvdMOzbiBkZWwgbWFwYSB5IGRlIGVsIGxpc3RhZG9cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBfY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgIEFwaVNlcnZpY2UudXBkYXRlRmlsdGVycygkc2NvcGUuZm9ybSk7XG4gICAgICAgIGlmKEFwaVNlcnZpY2UuZmlsdGVycyE9bnVsbCl7XG4gICAgICAgICAgICBBcGlTZXJ2aWNlLmdldEVzdGFibGVjaW1pZW50b3NCeUZpbHRlcnMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgIC8vQXBpU2VydmljZS5sYXN0U2VhcmNoUmVzcG9uc2VFc3RhYmxlY2ltaWVudG9zID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgLy9FTCBTRVJWSUNJTyBERSBMQSBBUEkgQUNUVUFMSVpBIEFMIENPTlRST0xBRE9SIERFTCBNQVBBXG4gICAgICAgICAgICAgICRzY29wZS5lc3RhYmxlY2ltaWVudG9zID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgQXBpU2VydmljZS51cGRhdGVNYXBQaW5zKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKmlmKCRzY29wZS5lc3RhYmxlY2ltaWVudG9zPT1udWxsKXtcbiAgICAgICAgICAgICAgLy9FU1RPIFNFIFBSRUNBUkdBIFBBUkEgTEEgUkVVTklPTiBDT04gUk9NQU5PIEVOIENBU08gREUgUVVFIE5PIEVTVEUgTEEgQVBJIFFVRSBSRUNJQkUgTE9TIEZJTFRST1MgWSBERVZVRUxWRSBMT1MgRVNUQUJMRUNJTUlFTlRPU1xuICAgICAgICAgICAgICAgJHNjb3BlLmVzdGFibGVjaW1pZW50b3MgPSBbXG4gICAgICAgICAgICAgICAgIHtub21icmU6IFwiTGljZW8gTsK6IDFcIiwgaWQ6IDEyMTQsIGxhdDogLTM0LjkwNjM0NiwgbG9uOiAtNTYuMTcyMDY1IH0sXG4gICAgICAgICAgICAgICAgIHtub21icmU6IFwiTGljZW8gTsK6IDJcIiwgaWQ6IDI0MzQsIGxhdDogLTM0LjkwMjc1NCwgbG9uOiAtNTYuMTY0MTI3IH0sXG4gICAgICAgICAgICAgICAgIHtub21icmU6IFwiTGljZW8gTsK6IDdcIiwgaWQ6IDQzMjR9LFxuICAgICAgICAgICAgICAgICB7bm9tYnJlOiBcIkxpY2VvIEp1YW4gWm9ycmlsbGFcIiwgaWQ6IDUzNDV9XG4gICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgQXBpU2VydmljZS51cGRhdGVNYXBQaW5zKCRzY29wZS5lc3RhYmxlY2ltaWVudG9zKTtcbiAgICAgICAgICAgIH0qL1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5EZXRhaWxzTW9kYWwgPSBmdW5jdGlvbihpZCl7XG4gICAgICBBcGlTZXJ2aWNlLmdldEVzdGFibGVjaW1pZW50b0J5SWQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgcmVzcG9uc2UuZGF0YS5lc3RhYmxlY2ltaWVudG9zWzBdLmlkPWlkO1xuICAgICAgICBBcGlTZXJ2aWNlLm9wZW5EZXRhaWxzTW9kYWwocmVzcG9uc2UuZGF0YS5lc3RhYmxlY2ltaWVudG9zWzBdKTtcbiAgICAgIH0pO1xuICAgIH1cblxuXHQgIC8qJHNjb3BlLmdvX3RvX21hcCA9IGZ1bmN0aW9uKCl7XG5cdCAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuXHQgIH0qL1xuXG4gIH1cbl0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0ludHJvQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ01vZGFsU2VydmljZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgTW9kYWxTZXJ2aWNlKSB7XG5cbiAgICAkc2NvcGUuJG9uKFwiJGlvbmljVmlldy5iZWZvcmVFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybV9jb250YWluZXJcIikuc3R5bGUubWluSGVpZ2h0ID0gXCI2NDBweFwiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLiRvbihcIiRpb25pY1ZpZXcuYWZ0ZXJFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwX3dyYXBwZXJcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICB9KTtcblxuXG4gICRzY29wZS5nZW9sb2NhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMzUwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAudGhlbihmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9pbml0aWFsX3Bvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAuZm9ybVwiKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLmZvcm1cIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgJHNjb3BlLmdvX3RvX2Zvcm0gPSBmdW5jdGlvbigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwX3dyYXBwZXJcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XG4gICAgJHN0YXRlLmdvKFwiYXBwLmZvcm1cIik7XG4gIH1cblxuICAkc2NvcGUuZ29fdG9fc2VhcmNoID0gZnVuY3Rpb24oKXtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcF93cmFwcGVyXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICAgICRzdGF0ZS5nbyhcImFwcC5zZWFyY2hcIik7XG4gIH1cblxuICAgLyokc2NvcGUuJG9uKCckaW9uaWNWaWV3LmVudGVyJywgZnVuY3Rpb24oKXtcbiAgIH0pOyovXG5cblxuXG4gIH1cbl0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcENvbnRyb2xsZXInLCBbXG4gICckc2NvcGUnLFxuICAnXycsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJ2xlYWZsZXREYXRhJyxcbiAgJ0NvbmZpZ1NlcnZpY2UnLFxuICAnUGluU2VydmljZScsXG4gICckaW50ZXJ2YWwnLFxuICAnJGxvY2F0aW9uJyxcbiAgJ01hcFNlcnZpY2UnLFxuICAnJGlvbmljTW9kYWwnLFxuICAnTW9kYWxTZXJ2aWNlJyxcbiAgJ0FwaVNlcnZpY2UnLFxuICAnJHRpbWVvdXQnLFxuICAnJGNvcmRvdmFJbkFwcEJyb3dzZXInLFxuICBmdW5jdGlvbihcbiAgICAkc2NvcGUsXG4gICAgXyxcbiAgICAkY29yZG92YUdlb2xvY2F0aW9uLFxuICAgIGxlYWZsZXREYXRhLFxuICAgIENvbmZpZ1NlcnZpY2UsXG4gICAgUGluU2VydmljZSxcbiAgICAkaW50ZXJ2YWwsXG4gICAgJGxvY2F0aW9uLFxuICAgIE1hcFNlcnZpY2UsXG4gICAgJGlvbmljTW9kYWwsXG4gICAgTW9kYWxTZXJ2aWNlLFxuICAgIEFwaVNlcnZpY2UsXG4gICAgJHRpbWVvdXQsXG4gICAgJGNvcmRvdmFJbkFwcEJyb3dzZXJcbiAgKSB7XG5cbiAgICAvKipcbiAgICAgKiBPbmNlIHN0YXRlIGxvYWRlZCwgZ2V0IHB1dCBtYXAgb24gc2NvcGUuXG4gICAgICovXG4gICAgLyokc2NvcGUub25saW5lX3VzZXJfZ2VvID0ge307Ki9cbiAgICAkc2NvcGUuYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcbiAgICAkc2NvcGUuQXBwTmFtZSA9IENvbmZpZ1NlcnZpY2UuQXBwTmFtZTtcbiAgICAkc2NvcGUub25lX3ZhbHVlX3BvcHVwID0gbnVsbDtcbiAgICAkc2NvcGUubXlJbnRlcnZhbHMgPSBuZXcgQXJyYXkoKTtcbiAgICAkc2NvcGUubWFwID0gbnVsbDtcbiAgICAkc2NvcGUubW9kYWxfbWFwID0gbnVsbDtcbiAgICAkc2NvcGUuZXN0YWJsZWNpbWllbnRvID0gW107XG5cbiAgICAkc2NvcGUuJG9uKFwiJGlvbmljVmlldy5sb2FkZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAvL0RCU2VydmljZS5pbml0REIoKTtcbiAgICAgIEFwaVNlcnZpY2UubWFwU2NvcGUgPSAkc2NvcGU7XG4gICAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpbnNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLmZpbHRlcnNVcGRhdGVkID0gZnVuY3Rpb24oKXtcbiAgICAgIC8qY29uc29sZS5sb2coQXBpU2VydmljZS5maWx0ZXJzKTtcbiAgICAgICRzY29wZS5sb2FkUGluc0xheWVyKCk7Ki9cbiAgICB9XG5cblxuICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZigkc2NvcGUubWFwPT1udWxsKXtcbiAgICAgICAgJHNjb3BlLm1hcCA9IHtcbiAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgdGlsZUxheWVyOiAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLFxuICAgICAgICAgICAgbWluWm9vbTogMSxcbiAgICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgICAgem9vbUNvbnRyb2xQb3NpdGlvbjogJ3RvcGxlZnQnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWFya2Vyczoge30sXG4gICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgICAgZW5hYmxlOiBbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgICAgbG9naWM6ICdlbWl0J1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IC0zNC45MDExMTMsXG4gICAgICAgICAgICBsbmc6IC01Ni4xNjQ1MzEsXG4gICAgICAgICAgICB6b29tOiAxNlxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBfd3JhcHBlclwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICB9LDEwMDApO1xuICAgICAgfVxuICAgIH07XG5cblxuXG4gICAgICAvKipcbiAgICAgKiBDZW50ZXIgbWFwIG9uIHVzZXIncyBjdXJyZW50IHBvc2l0aW9uXG4gICAgICovXG4gICAgJHNjb3BlLmxvY2F0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24oKVxuICAgICAgICAudGhlbihmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxhdCA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLnpvb20gPSAxNTtcblxuICAgICAgICAgICRzY29wZS5tYXAubWFya2Vycy5ub3cgPSB7XG4gICAgICAgICAgICBsYXQ6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRXN0w6FzIGFxdcOtXCIsXG4gICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkxvY2F0aW9uIGVycm9yIVwiKTtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgICRzY29wZS5sb2FkUGluc0xheWVyID0gZnVuY3Rpb24oZXN0YWJsZWNpbWllbnRvcyl7XG4gICAgICBpZihlc3RhYmxlY2ltaWVudG9zIT1udWxsKXtcbiAgICAgICAgLy9SZWNvcnJlciBsb3MgZXN0YWJsaWNpbWllbnRvcyB5IGNyZWFyIGxvcyBwaW5lc1xuICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoXCJwcmltYXJ5X21hcFwiKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgIG1hcC5lYWNoTGF5ZXIoZnVuY3Rpb24obWFya2VyKSB7XG4gICAgICAgICAgICAgaWYobWFya2VyLl91cmwpe1xuICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKG1hcmtlcik7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgZXN0YWJsZWNpbWllbnRvcy5mb3JFYWNoKGZ1bmN0aW9uKGZlYXR1cmUpe1xuICAgICAgICAgICAgaWYoZmVhdHVyZS5sYXQgJiYgZmVhdHVyZS5sb24pe1xuICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICcuL2ltZy9ibHVlX3Bpbi5zdmcnLFxuICAgICAgICAgICAgICAgICAgICAvL3NoYWRvd1VybDogJ2xlYWYtc2hhZG93LnBuZycsXG4gICAgICAgICAgICAgICAgICAgIGljb25TaXplOiAgICAgWzQ4LCA2NV0sIC8vIHNpemUgb2YgdGhlIGljb25cbiAgICAgICAgICAgICAgICAgICAgLy9zaGFkb3dTaXplOiAgIFs1MCwgNjRdLCAvLyBzaXplIG9mIHRoZSBzaGFkb3dcbiAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogICBbMjQsIDY1XSwgLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vc2hhZG93QW5jaG9yOiBbNCwgNjJdLCAgLy8gdGhlIHNhbWUgZm9yIHRoZSBzaGFkb3dcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6ICBbMCwgLTY1XSAvLyBwb2ludCBmcm9tIHdoaWNoIHRoZSBwb3B1cCBzaG91bGQgb3BlbiByZWxhdGl2ZSB0byB0aGUgaWNvbkFuY2hvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB2YXIgbWFya2VyID0gTC5tYXJrZXIoW2ZlYXR1cmUubGF0LCBmZWF0dXJlLmxvbl0sIHtpY29uOiBtYXJrZXJJY29ufSk7XG4gICAgICAgICAgICAgIG1hcmtlci5iaW5kUG9wdXAoXCI8Yj5cIitmZWF0dXJlLm5vbWJyZStcIjwvYj5cIikub3BlblBvcHVwKCk7XG4gICAgICAgICAgICAgIG1hcC5hZGRMYXllcihtYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIk5vIGhheSBlc3RhYmxlY2ltaWVudG9zIGNhcmdhZG9zXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5vcGVuRGV0YWlsc01vZGFsID0gZnVuY3Rpb24oZXN0YWJsZWNpbWllbnRvKXtcbiAgICAgIGNvbnNvbGUubG9nKGVzdGFibGVjaW1pZW50byk7XG4gICAgICBpZihlc3RhYmxlY2ltaWVudG8hPW51bGwpe1xuICAgICAgICAkc2NvcGUuZXN0YWJsZWNpbWllbnRvID0gZXN0YWJsZWNpbWllbnRvO1xuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9kZXRhaWxzLmh0bWwnLCB7XG4gICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICBMLk1hcC5wcm90b3R5cGUucGFuVG9PZmZzZXQgPSBmdW5jdGlvbiAobGF0bG5nLCBvZmZzZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHRoaXMubGF0TG5nVG9Db250YWluZXJQb2ludChsYXRsbmcpLnggLSBvZmZzZXRbMF1cbiAgICAgICAgICAgICAgICB2YXIgeSA9IHRoaXMubGF0TG5nVG9Db250YWluZXJQb2ludChsYXRsbmcpLnkgLSBvZmZzZXRbMV1cbiAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXRMbmcoW3gsIHldKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFZpZXcocG9pbnQsIDE4LCB7IHBhbjogb3B0aW9ucyB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm1vZGFsX21hcCA9IHtcbiAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICB0aWxlTGF5ZXI6ICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgICAgICAgbWluWm9vbTogMTgsXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogMTgsXG4gICAgICAgICAgICAgICAgLy96b29tQ29udHJvbFBvc2l0aW9uOiAndG9wbGVmdCcsXG4gICAgICAgICAgICAgICAgem9vbUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIC8vZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBtYXJrZXJzOiB7fSxcbiAgICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgbWFwOiB7XG4gICAgICAgICAgICAgICAgICBlbmFibGU6IFsnY29udGV4dCddLFxuICAgICAgICAgICAgICAgICAgbG9naWM6ICdlbWl0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICAgICAgbGF0OiAtMzQuOTAxMTEzLFxuICAgICAgICAgICAgICAgIGxuZzogLTU2LjE2NDUzMSxcbiAgICAgICAgICAgICAgICB6b29tOiAxOFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFU1RBQkxFQ0lNSUVOVE86XCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmVzdGFibGVjaW1pZW50byk7XG4gICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoXCJzZWNvbmRhcnlfbWFwXCIpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1BUEEgU0VDVU5EQVJJTzpcIik7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtYXApO1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJy4vaW1nL2JsdWVfcGluLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NoYWRvd1VybDogJ2xlYWYtc2hhZG93LnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogICAgIFsyNSwgMzRdLCAvLyBzaXplIG9mIHRoZSBpY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NoYWRvd1NpemU6ICAgWzUwLCA2NF0sIC8vIHNpemUgb2YgdGhlIHNoYWRvd1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogICBbMTIsIDM0XSwgLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NoYWRvd0FuY2hvcjogWzQsIDYyXSwgIC8vIHRoZSBzYW1lIGZvciB0aGUgc2hhZG93XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogIFswLCAtMzRdIC8vIHBvaW50IGZyb20gd2hpY2ggdGhlIHBvcHVwIHNob3VsZCBvcGVuIHJlbGF0aXZlIHRvIHRoZSBpY29uQW5jaG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IEwubWFya2VyKFskc2NvcGUuZXN0YWJsZWNpbWllbnRvLmxhdCwgJHNjb3BlLmVzdGFibGVjaW1pZW50by5sb25nXSwge2ljb246IG1hcmtlckljb259KTtcbiAgICAgICAgICAgICAgICAgIG1hcmtlci5iaW5kUG9wdXAoXCI8Yj5cIiskc2NvcGUuZXN0YWJsZWNpbWllbnRvLnRpdGxlK1wiPC9iPlwiKS5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihtYXJrZXIpO1xuICAgICAgICAgICAgICAgICAgdmFyIHBhZGRpbmdYID0gd2luZG93LmlubmVyV2lkdGggLyA0O1xuICAgICAgICAgICAgICAgICAgbWFwLnBhblRvT2Zmc2V0KFskc2NvcGUuZXN0YWJsZWNpbWllbnRvLmxhdCwgJHNjb3BlLmVzdGFibGVjaW1pZW50by5sb25nXSxbcGFkZGluZ1gsMjVdLHt9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5XZWJzaXRlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ25vJyxcbiAgICAgICAgICAgICAgICBjbGVhcmNhY2hlOiAneWVzJyxcbiAgICAgICAgICAgICAgICB0b29sYmFyOiAneWVzJ1xuICAgICAgICAgICAgfTtcblxuICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKHVybCwgJ19ibGFuaycsIG9wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgfVxuXG5dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdTZWFyY2hDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJyxcbiAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAnJHN0YXRlUGFyYW1zJyxcbiAgJyRpb25pY1BsYXRmb3JtJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ0xvY2F0aW9uc1NlcnZpY2UnLFxuICAnQXBpU2VydmljZScsXG4gICdEQlNlcnZpY2UnLFxuICAnJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZScsXG4gICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgQXBpU2VydmljZSwgREJTZXJ2aWNlLCAkaW9uaWNTbGlkZUJveERlbGVnYXRlLFxuICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSkge1xuXG4gICAgJHNjb3BlLmZvcm0gPSB7fTtcbiAgICAkc2NvcGUuZm9ybS5sdWdhciA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0ubm9tYnJlX2NlbnRybyA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0ub3B0aW9uID0gXCJsaXN0XCI7XG4gICAgJHNjb3BlLmVzdGFibGVjaW1pZW50b3MgPSBudWxsO1xuXG4gICAgJHNjb3BlLiRvbihcIiRpb25pY1ZpZXcuYmVmb3JlRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1fY29udGFpbmVyXCIpLnN0eWxlLm1pbkhlaWdodCA9IFwiNDYwcHhcIjtcbiAgICB9KTtcblxuICAgICRzY29wZS5vblNlYXJjaENoYW5nZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAvKnZhciBzZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZV9lc3R1ZGlhclwiKTtcbiAgICAgIHZhciBzZWFyY2hfc3RyID0gc2VhcmNoLnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmKHNlYXJjaF9zdHIubGVuZ3RoPj0zKXtcbiAgICAgICAgQXBpU2VydmljZS5zZWFyY2hRdWVFc3R1ZGlhcihzZWFyY2hfc3RyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICRzY29wZS5mb3JtLlNlYXJjaFF1ZVJlc3VsdHMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiU2VhcmNoUXVlUmVzdWx0c1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUuaGlkZVNlYXJjaFF1ZVJlc3VsdHMoKTtcbiAgICAgIH0qL1xuICAgIH1cblxuICAgICRzY29wZS5oaWRlU2VhcmNoUXVlUmVzdWx0cyA9IGZ1bmN0aW9uKCl7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlNlYXJjaFF1ZVJlc3VsdHNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgICRzY29wZS5zaG93TWFwID0gZnVuY3Rpb24oKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwX3dyYXBwZXJcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcF9jb250YWluZXJcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcF9jb250YWluZXJcIikuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybV9jb250YWluZXJcIikuc3R5bGUubWluSGVpZ2h0PVwiMjEwcHhcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoX3ZpZXdfbGlzdF9idXR0b25cIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaF92aWV3X21hcF9idXR0b25cIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd0xpc3QgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBfd3JhcHBlclwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBfY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcF9jb250YWluZXJcIikuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtX2NvbnRhaW5lclwiKS5zdHlsZS5taW5IZWlnaHQ9XCI0NjBweFwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hfdmlld19tYXBfYnV0dG9uXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hfdmlld19saXN0X2J1dHRvblwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgIH1cblxuXG4gIH1cbl0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0FwaVNlcnZpY2UnLCBbJyRodHRwJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBhcGlVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCI7XG5cbi8qKlxuICAgKiBDb25zdHJ1Y3Rvciwgd2l0aCBjbGFzcyBuYW1lXG4gICAqL1xuICBmdW5jdGlvbiBBcGlPYmplY3QoX2RhdGEpIHtcbiAgICBhbmd1bGFyLmV4dGVuZCh0aGlzLCBfZGF0YSk7XG4gIH1cblxuXG4gIEFwaU9iamVjdC5zZWFyY2hRdWVFc3R1ZGlhciA9IGZ1bmN0aW9uKHN0cil7XG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVUkwgKyAnc2VhcmNoLycgKyBzdHIsIHtjYWNoZTogZmFsc2UsIHBhcmFtczoge2hhc2hfaWQ6TWF0aC5yYW5kb20oKX19KTtcbiAgfVxuXG4gIEFwaU9iamVjdC5zZWFyY2hEb25kZUVzdHVkaWFyID0gZnVuY3Rpb24oc3RyKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVSTCArICdzZWFyY2hCeUxvY2FsaWRhZERlcGFydGFtZW50by8nICsgc3RyLCB7Y2FjaGU6IGZhbHNlLCBwYXJhbXM6IHtoYXNoX2lkOk1hdGgucmFuZG9tKCl9fSk7XG4gIH1cblxuICAgIEFwaU9iamVjdC5maWx0ZXJzID0gbnVsbDtcbiAgICBBcGlPYmplY3QubWFwU2NvcGUgPSBudWxsO1xuICAgIEFwaU9iamVjdC5mb3JtU2NvcGUgPSB7fTtcbiAgICBBcGlPYmplY3QubGFzdFNlYXJjaFJlc3BvbnNlRXN0YWJsZWNpbWllbnRvcyA9IG51bGw7XG5cbiAgICBBcGlPYmplY3QudXBkYXRlRmlsdGVycyA9IGZ1bmN0aW9uKGZpbHRlcnNPYmplY3Qpe1xuICAgICAgQXBpT2JqZWN0LmZpbHRlcnMgPSBmaWx0ZXJzT2JqZWN0O1xuICAgICAgaWYoQXBpT2JqZWN0Lm1hcFNjb3BlICE9IG51bGwpe1xuICAgICAgICBBcGlPYmplY3QubWFwU2NvcGUuZmlsdGVyc1VwZGF0ZWQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBBcGlPYmplY3QuY3JlYXRlRmlsdGVyUGFyYW1zRm9yR2V0UmVxdWVzdCA9IGZ1bmN0aW9uKCl7XG4gICAgICBjb25zb2xlLmxvZyhBcGlPYmplY3QuZmlsdGVycyk7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBoYXNoX2lkOiBNYXRoLnJhbmRvbSgpLFxuICAgICAgICBlZGFkOiBBcGlPYmplY3QuZmlsdGVycy5lZGFkLFxuICAgICAgICB1bHRpbW9fbml2ZWxfYXByb2JhZG86IEFwaU9iamVjdC5maWx0ZXJzLnVsdGltb19uaXZlbF9hcHJvYmFkbyxcbiAgICAgICAgdWx0aW1vX2FuaW9fYXByb2JhZG86IEFwaU9iamVjdC5maWx0ZXJzLnVsdGltb19hbmlvX2Fwcm9iYWRvLFxuICAgICAgICAvKnBsYW46IEFwaU9iamVjdC5maWx0ZXJzLnBsYW4sXG4gICAgICAgIGx1Z2FyOiBBcGlPYmplY3QuZmlsdGVycy5sdWdhciwqL1xuICAgICAgICB0dXJubzogQXBpT2JqZWN0LmZpbHRlcnMudHVybm9cbiAgICAgIH07XG4gICAgICBpZihBcGlPYmplY3QuZmlsdGVycy5xdWUhPVwiXCIpe1xuICAgICAgICBwYXJhbXMucXVlRXN0dWRpYXJJZCA9IEFwaU9iamVjdC5maWx0ZXJzLnF1ZS5pZDtcbiAgICAgICAgcGFyYW1zLnF1ZUVzdHVkaWFyTm9tYnJlID0gQXBpT2JqZWN0LmZpbHRlcnMucXVlLm5vbWJyZTtcbiAgICAgICAgcGFyYW1zLnF1ZUVzdHVkaWFyVGFnVW5vID0gQXBpT2JqZWN0LmZpbHRlcnMucXVlLnRhZ1swXTtcbiAgICAgICAgcGFyYW1zLnF1ZUVzdHVkaWFyVGFnRG9zID0gQXBpT2JqZWN0LmZpbHRlcnMucXVlLnRhZ1sxXTtcbiAgICAgIH1cbiAgICAgIGlmKEFwaU9iamVjdC5maWx0ZXJzLmRvbmRlIT1cIlwiKXtcbiAgICAgICAgcGFyYW1zLmRvbmRlRXN0dWRpYXJEZXBhcnRhbWVudG8gPSBBcGlPYmplY3QuZmlsdGVycy5kb25kZS5kZXBhcnRhbWVudG87XG4gICAgICAgIHBhcmFtcy5kb25kZUVzdHVkaWFyTG9jYWxpZGFkID0gQXBpT2JqZWN0LmZpbHRlcnMuZG9uZGUubG9jYWxpZGFkO1xuICAgICAgICBwYXJhbXMuZG9uZGVFc3R1ZGlhckxhdCA9IEFwaU9iamVjdC5maWx0ZXJzLmRvbmRlLmNvb3JkZW5hZGFzLmxhdDtcbiAgICAgICAgcGFyYW1zLmRvbmRlRXN0dWRpYXJMb24gPSBBcGlPYmplY3QuZmlsdGVycy5kb25kZS5jb29yZGVuYWRhcy5sb247XG4gICAgICB9XG4gICAgICBpZiAoIEFwaU9iamVjdC5maWx0ZXJzLnF1ZS50aXBvID09ICd0aXBvJyApIHtcbiAgICAgICAgcGFyYW1zID0gQXBpT2JqZWN0LmZpbHRlcnMucXVlLmlkKycvYWxsJztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBwYXJhbXMgPSAnYWxsLycrQXBpT2JqZWN0LmZpbHRlcnMucXVlLmlkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG5cbiAgICBBcGlPYmplY3QuZ2V0RXN0YWJsZWNpbWllbnRvc0J5RmlsdGVycyA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZihBcGlPYmplY3QuZmlsdGVycyE9bnVsbCl7XG4gICAgICAgIHZhciBwYXJhbWV0ZXJzID0gQXBpT2JqZWN0LmNyZWF0ZUZpbHRlclBhcmFtc0ZvckdldFJlcXVlc3QoKTtcbiAgICAgICAgY29uc29sZS5sb2cocGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVVJMICsgJ2VzdGFibGVjaW1pZW50by1wb3ItdGlwby8nK3BhcmFtZXRlcnMpOy8vLCB7Y2FjaGU6IGZhbHNlLCBwYXJhbXM6IHBhcmFtZXRlcnN9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBBcGlPYmplY3QuZ2V0RXN0YWJsZWNpbWllbnRvQnlJZCA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChhcGlVUkwgKyAnZXN0YWJsZWNpbWllbnRvcy1wb3ItaWQvJytpZCwge2NhY2hlOiBmYWxzZSwgcGFyYW1zOiB7aGFzaF9pZDpNYXRoLnJhbmRvbSgpfX0pO1xuICAgIH1cblxuICAgIEFwaU9iamVjdC51cGRhdGVNYXBQaW5zID0gZnVuY3Rpb24oZXN0YWJsZWNpbWllbnRvcyl7XG4gICAgICBBcGlPYmplY3QubWFwU2NvcGUubG9hZFBpbnNMYXllcihlc3RhYmxlY2ltaWVudG9zKTtcbiAgICB9XG5cbiAgICBBcGlPYmplY3Qub3BlbkRldGFpbHNNb2RhbCA9IGZ1bmN0aW9uKGVzdGFibGVjaW1pZW50byl7XG4gICAgICBBcGlPYmplY3QubWFwU2NvcGUub3BlbkRldGFpbHNNb2RhbChlc3RhYmxlY2ltaWVudG8pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICAgICAqL1xuICAgIHJldHVybiBBcGlPYmplY3Q7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdBdXRoU2VydmljZScsIFsnJGh0dHAnLCAnJGNvcmRvdmFGaWxlVHJhbnNmZXInLCAnQ29uZmlnU2VydmljZScsJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLCBDb25maWdTZXJ2aWNlLCBWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL1wiO1xuXG4gIHJldHVybiB7XG4gICAgbG9nX2luOiBmdW5jdGlvbiAodXNlcixwYXNzd29yZCkge1xuICAgICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcisnJnBhc3N3b3JkPScrcGFzc3dvcmQ7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnbG9naW4nLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgfSxcblxuICAgIHNpZ25fb3V0OiBmdW5jdGlvbiAocGFzc3dvcmQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcInNpZ25fb3V0XCIsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlLCBwYXJhbXM6IHsgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsIGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVfdXNlcjogZnVuY3Rpb24gKHVzZXJPYmopIHtcbiAgICAgIGlmKHVzZXJPYmoucGljdHVyZV91cmwgJiYgVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgLy9maWxlTmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAvL2NodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIC8vbWltZVR5cGU6IFwiaW1hZ2UvanBnXCIsXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICBwYXJhbXMgOiB7ICB1c2VyOiB1c2VyT2JqLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJPYmoucGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlck9iai5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgIGdlbmRlcjogdXNlck9iai5nZW5kZXIsXG4gICAgICAgICAgICAgICAgICAgICBpbnRlcmVzdGVkOiB1c2VyT2JqLmludGVyZXN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHVzZXJPYmouc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgc2hvd19sb2NhdGlvbjogdXNlck9iai5zaG93X2xvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRydXN0QWxsSG9zdHMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFGaWxlVHJhbnNmZXIudXBsb2FkKGJhc2VVUkwgKyBcImNyZWF0ZV91c2VyXCIsIHVzZXJPYmoucGljdHVyZV91cmwsIG9wdGlvbnMsIHRydXN0QWxsSG9zdHMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGlmKHVzZXJPYmoucGljdHVyZV91cmwpe1xuICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInBob3RvXCIsIHVzZXJPYmoucGljdHVyZV91cmwpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInVzZXJcIiwgdXNlck9iai51c2VybmFtZSk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwicGFzc3dvcmRcIiwgdXNlck9iai5wYXNzd29yZCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiZW1haWxcIiwgdXNlck9iai5lbWFpbCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiZ2VuZGVyXCIsIHVzZXJPYmouZ2VuZGVyKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJpbnRlcmVzdGVkXCIsIHVzZXJPYmouaW50ZXJlc3RlZCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwic3RhdHVzXCIsIHVzZXJPYmouc3RhdHVzKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJzaG93X2xvY2F0aW9uXCIsIHVzZXJPYmouc2hvd19sb2NhdGlvbik7XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdjcmVhdGVfdXNlcicsIGZvcm1EYXRhLCB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VyT2JqLnVzZXJuYW1lKycmcGFzc3dvcmQ9Jyt1c2VyT2JqLnBhc3N3b3JkKycmZW1haWw9Jyt1c2VyT2JqLmVtYWlsKycmZ2VuZGVyPScrdXNlck9iai5nZW5kZXI7XG4gICAgICAgICAgYm9keSA9IGJvZHkgKycmaW50ZXJlc3RlZD0nK3VzZXJPYmouaW50ZXJlc3RlZCsnJnN0YXR1cz0nK3VzZXJPYmouc3RhdHVzKycmc2hvd19sb2NhdGlvbj0nK3VzZXJPYmouc2hvd19sb2NhdGlvbjtcbiAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2NyZWF0ZV91c2VyJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgcGFzc3dvcmRfcmVjb3Zlcnk6IGZ1bmN0aW9uIChlbWFpbCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJmb3Jnb3RfcGFzc3dvcmRcIiwgeyBwYXJhbXM6IHsgbG9naW5fZW1haWw6IGVtYWlsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBwYXNzd29yZF9jaGFuZ2U6IGZ1bmN0aW9uIChlbWFpbCxvbGRQYXNzd29yZCxuZXdQYXNzd29yZCxjb25maXJtUGFzc3dvcmQpIHtcblxuICAgICAgdmFyIGJvZHkgPSAnZW1haWw9JytlbWFpbCsnJnBhc3N3b3JkX3NpZ25faW49JytvbGRQYXNzd29yZCsnJm5ld19wYXNzd29yZD0nK25ld1Bhc3N3b3JkKycmY29uZmlybT0nK2NvbmZpcm1QYXNzd29yZDtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnY2hhbmdlX3Bhc3N3b3JkJywgYm9keSx7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcblxuICAgIH0sXG5cblxuICAgIGVkaXRfdXNlcjogZnVuY3Rpb24gKHVzZXJPYmopIHtcbiAgICAgIGlmKHVzZXJPYmoucGljdHVyZV91cmwgJiYgVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgLy9maWxlTmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAvL2NodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIC8vbWltZVR5cGU6IFwiaW1hZ2UvanBnXCIsXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICBwYXJhbXMgOiB7ICB1c2VyOiB1c2VyT2JqLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJPYmoucGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlck9iai5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgIGdlbmRlcjogdXNlck9iai5nZW5kZXIsXG4gICAgICAgICAgICAgICAgICAgICBpbnRlcmVzdGVkOiB1c2VyT2JqLmludGVyZXN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHVzZXJPYmouc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgc2hvd19sb2NhdGlvbjogdXNlck9iai5zaG93X2xvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRydXN0QWxsSG9zdHMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFGaWxlVHJhbnNmZXIudXBsb2FkKGJhc2VVUkwgKyBcImVkaXRfcHJvZmlsZVwiLCB1c2VyT2JqLnBpY3R1cmVfdXJsLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlck9iai51c2VybmFtZSsnJnBhc3N3b3JkPScrdXNlck9iai5wYXNzd29yZCsnJmVtYWlsPScrdXNlck9iai5lbWFpbCsnJmdlbmRlcj0nK3VzZXJPYmouZ2VuZGVyO1xuICAgICAgICBib2R5ID0gYm9keSArJyZpbnRlcmVzdGVkPScrdXNlck9iai5pbnRlcmVzdGVkKycmc3RhdHVzPScrdXNlck9iai5zdGF0dXMrJyZzaG93X2xvY2F0aW9uPScrdXNlck9iai5zaG93X2xvY2F0aW9uO1xuICAgICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsKXtcbiAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwaG90b1wiLCB1c2VyT2JqLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJ1c2VyXCIsIHVzZXJPYmoudXNlcm5hbWUpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInBhc3N3b3JkXCIsIHVzZXJPYmoucGFzc3dvcmQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImVtYWlsXCIsIHVzZXJPYmouZW1haWwpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImdlbmRlclwiLCB1c2VyT2JqLmdlbmRlcik7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiaW50ZXJlc3RlZFwiLCB1c2VyT2JqLmludGVyZXN0ZWQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInN0YXR1c1wiLCB1c2VyT2JqLnN0YXR1cyk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwic2hvd19sb2NhdGlvblwiLCB1c2VyT2JqLnNob3dfbG9jYXRpb24pO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZWRpdF9wcm9maWxlJywgZm9ybURhdGEsIHtcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH0sXG4gICAgICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdlZGl0X3Byb2ZpbGUnLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25maWdTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgdmFyIENvbmZpZ09iaiA9IHt9O1xuICBDb25maWdPYmouYmFzZVVSTCA9IFwiaHR0cDovL2VlX2JhY2tlbmQuZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZ1wiO1xuICBpZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcImh0dHA6Ly9lZV9iYWNrZW5kLmRldmVsb3BtZW50LmRhdGF1eS5vcmdcIjtcbiAgfSBlbHNlIHtcbiAgICBDb25maWdPYmouYmFzZVVSTCA9IFwiL2JhY2tlbmRcIjtcbiAgfVxuICBDb25maWdPYmouQXBwTmFtZSA9IFwiRWxpam8gRXN0dWRpYXJcIjtcblxuXG4gIHJldHVybiBDb25maWdPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25uZWN0aXZpdHlTZXJ2aWNlJywgWyckY29yZG92YU5ldHdvcmsnLCBmdW5jdGlvbigkY29yZG92YU5ldHdvcmspe1xuXG4gIHJldHVybiB7XG4gICAgaXNPbmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICAvKmlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG4gICAgICAgIC8vcmV0dXJuIGZhbHNlO1xuICAgICAgfSovXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGlzT2ZmbGluZTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIC8qaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgICAgICByZXR1cm4gISRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICFuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgfSovXG4gICAgfVxuICB9XG59XSlcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdEQlNlcnZpY2UnLCBbJyRxJywgZnVuY3Rpb24oJHEpIHtcbiAgIHZhciBfZGI7XG5cbiAgIHJldHVybiB7XG4gICAgICAgaW5pdERCOiBpbml0REIsXG4gICAgICAgc2F2ZVVzZXI6IHNhdmVVc2VyLFxuICAgICAgIGdldFVzZXI6IGdldFVzZXIsXG4gICAgICAgZXJhc2VVc2VyOiBlcmFzZVVzZXIsXG4gICAgICAgc2F2ZVJlcG9ydDogc2F2ZVJlcG9ydCxcbiAgICAgICBnZXRSZXBvcnQ6IGdldFJlcG9ydCxcbiAgICAgICBnZXRBbGxSZXBvcnRzOiBnZXRBbGxSZXBvcnRzLFxuICAgICAgIHVwZGF0ZVJlcG9ydDogdXBkYXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZVJlcG9ydDogZGVsZXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZUdpdmVuUmVwb3J0OiBkZWxldGVHaXZlblJlcG9ydCxcbiAgICAgICBnZXRDYXRlZ29yaWVzOiBnZXRDYXRlZ29yaWVzLFxuICAgICAgIHNhdmVDYXRlZ29yaWVzOiBzYXZlQ2F0ZWdvcmllc1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcl9uYW1lLCB1c2VyX3Bhc3N3b3JkLCB1c2VyX3BpY3R1cmVfdXJsLHNob3dfbG9jYXRpb24sIHVpZCwgc3RhdHVzLCBnZW5kZXIsIGludGVyZXN0ZWQpIHtcbiAgICAgICAgIHZhciB1c2VyID0ge1xuICAgICAgICAgICAgX2lkOiAndXNlci1sb2dnZWQnLFxuICAgICAgICAgICAgbmFtZTogdXNlcl9uYW1lLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJfcGFzc3dvcmQsXG4gICAgICAgICAgICBwaWN0dXJlX3VybDogdXNlcl9waWN0dXJlX3VybCxcbiAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHNob3dfbG9jYXRpb24sXG4gICAgICAgICAgICB1aWQ6IHVpZCxcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgZ2VuZGVyOiBnZW5kZXIsXG4gICAgICAgICAgICBpbnRlcmVzdGVkOiBpbnRlcmVzdGVkXG4gICAgICAgICB9O1xuICAgICAgICAgZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICB1c2VyLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICAgICAgcmV0dXJuIF9kYi5wdXQodXNlcik7XG4gICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgIHJldHVybiBfZGIucHV0KHVzZXIpO1xuICAgICAgICAgfSlcbiAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZXJhc2VVc2VyKCkge1xuICAgIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJykudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfZGIucmVtb3ZlKGRvYyk7XG4gICAgfSk7XG4gIH1cblxuICAgZnVuY3Rpb24gaW5pdERCKCkge1xuICAgICAgIC8vIENyZWF0ZXMgdGhlIGRhdGFiYXNlIG9yIG9wZW5zIGlmIGl0IGFscmVhZHkgZXhpc3RzXG4gICAgICAgX2RiID0gbmV3IFBvdWNoREIoJ3RvbWFtb3N1bmFfbG9jYWxfZGInKTtcbiAgICAgICByZXR1cm4gX2RiO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgIC8vbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgcG91Y2hDb2xsYXRlLnRvSW5kZXhhYmxlU3RyaW5nKFtyZXBvcnRdKTtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBuZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyBkYXRlLmdldERhdGUoKSArIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICByZXBvcnQuX2lkID0gbmV3X3JlcG9ydF9pZDtcbiAgICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiB1cGRhdGVSZXBvcnQocmVwb3J0KSB7XG4gICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCdjYXRlZ29yaWVzLWxpc3QnKTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVDYXRlZ29yaWVzKGNhdGVnb3JpZXMpIHtcbiAgICAgZ2V0Q2F0ZWdvcmllcygpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgIGNhdGVnb3JpZXMuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgY2F0ZWdvcmllcy5faWQgPSBcImNhdGVnb3JpZXMtbGlzdFwiO1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KVxuICAgfTtcblxuICBmdW5jdGlvbiBnZXRSZXBvcnQocmVwb3J0SWQpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQocmVwb3J0SWQpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRBbGxSZXBvcnRzKCkge1xuICAgICByZXR1cm4gX2RiLmFsbERvY3Moe1xuICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgYXR0YWNobWVudHM6IGZhbHNlLFxuICAgICAgc3RhcnRrZXk6ICdyZXBvcnRfJyxcbiAgICAgIGVuZGtleTogJ3JlcG9ydF9cXHVmZmZmJ1xuICAgICB9KTsvKi50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIC8vIGhhbmRsZSByZXN1bHRcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pOyovXG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVwb3J0KHJlcG9ydF9pZCkge1xuICAgIF9kYi5nZXQocmVwb3J0X2lkKS50aGVuKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9kYi5yZW1vdmUoZG9jKTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBkZWxldGVHaXZlblJlcG9ydChyZXBvcnQpIHtcbiAgICByZXR1cm4gX2RiLnJlbW92ZShyZXBvcnQpO1xuICB9O1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnRHJpbmtTZXJ2aWNlJywgWyckaHR0cCcsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIjtcblxuICByZXR1cm4ge1xuICAgIGdldEFsbERyaW5rc0F2YWlsYWJsZTogZnVuY3Rpb24gKHVzZXJuYW1lLHBhc3N3b3JkKSB7XG4gICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgICAvL2JvZHkgPSBib2R5ICsnJmludGVyZXN0ZWQ9Jyt1c2VyT2JqLmludGVyZXN0ZWQrJyZzdGF0dXM9Jyt1c2VyT2JqLnN0YXR1cysnJnNob3dfbG9jYXRpb249Jyt1c2VyT2JqLnNob3dfbG9jYXRpb247XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2dldF9wb3NzaWJsZV9kcmlua3MnLCBib2R5LHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH0sXG5cbiAgICBnZXRBbGxJbnZpdGF0aW9uc1dpdGhVc2VyOiBmdW5jdGlvbiAodXNlcm5hbWUscGFzc3dvcmQsZGVzdGluYXRpb25fdWlkLGF1dGhvcl91aWQpIHtcbiAgICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZoYXNoX2lkPScrTWF0aC5yYW5kb20oKTtcbiAgICAgIGJvZHkgPSBib2R5ICsnJnVpZD0nK2Rlc3RpbmF0aW9uX3VpZCsnJmF1dGhvcl91aWQ9JythdXRob3JfdWlkO1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdnZXRfaW52aXRhdGlvbnNfYmV0d2Vlbl91c2VycycsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgfSxcblxuICAgIHNlbmREcmlua0ludml0YXRpb25Ub1VzZXI6IGZ1bmN0aW9uKGRyaW5rX25pZCxkZXN0aW5hdGlvbl91aWQsYXV0aG9yX3VpZCx1c2VybmFtZSxwYXNzd29yZCl7XG4gICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmZHJpbmtfbmlkPScrZHJpbmtfbmlkKycmZGVzdGluYXRpb25fdWlkPScrZGVzdGluYXRpb25fdWlkKycmYXV0aG9yX3VpZD0nK2F1dGhvcl91aWQrJyZoYXNoX2lkPScrTWF0aC5yYW5kb20oKTtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnc2VuZF9kcmlua19pbnZpdGF0aW9uJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH0sXG5cbiAgICBzZW5kRHJpbmtJbnZpdGF0aW9uUmVzcG9uc2U6IGZ1bmN0aW9uKHJlc3BvbnNlLHVzZXJuYW1lLHBhc3N3b3JkLGludml0YXRpb25fbmlkLGRlc3RpbmF0aW9uX3VpZCl7XG4gICAgICB2YXIgYm9keSA9ICdyZXNwb25zZT0nK3Jlc3BvbnNlKycmdXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmludml0YXRpb25fbmlkPScraW52aXRhdGlvbl9uaWQrJyZkZXN0aW5hdGlvbl91aWQ9JytkZXN0aW5hdGlvbl91aWQrJyZoYXNoX2lkPScrTWF0aC5yYW5kb20oKTtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnaW52aXRhdGlvbl9yZXNwb25zZScsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdFcnJvclNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCAnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoanNvblJlc3VsdCwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEgJiYganNvblJlc3VsdC5kYXRhLlN0YXR1cz09XCJzdWNjZXNzXCIgfHwganNvblJlc3VsdC5TdGF0dXM9PVwic3VjY2Vzc1wiKXtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZihqc29uUmVzdWx0LmRhdGEpe1xuICAgICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGpzb25SZXN1bHQuZGF0YS5NZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBqc29uUmVzdWx0Lk1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZToganNvblJlc3VsdC5kYXRhLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoZGF0YSwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihkYXRhLlN0YXR1cyE9J3N1Y2Nlc3MnKXtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgZGF0YS5NZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGlmKGRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2U6IGZ1bmN0aW9uIChlcnJvckNvbnRhaW5lcklkLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBtZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIHNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cDogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgdGVtcGxhdGU6IG1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGNoZWNrX2ZpZWxkczogZnVuY3Rpb24gKGZpZWxkcywgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgICAgICBpZihmaWVsZC50eXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gcHVlZGUgZXN0YXIgdmFjw61vLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZW1haWwoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIGVzIHVuYSBkaXJlY2Npw7NuIGRlIGNvcnJlbyB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfaWRkb2NfdXkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIGVzIHVuYSBjw6lkdWxhIHVydWd1YXlhIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBkZWJlIGNvbnRlbmVyIGFsIG1lbm9zIGRvcyBwYWxhYnJhcy48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiZXF1YWxzVG9cIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VxdWFsc1RvKGZpZWxkLnZhbHVlLCBmaWVsZC5zZWNvbmRWYWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIExvcyBjYW1wb3MgXCInICsgZmllbGQubmFtZSArICdcIiBubyBjb2luY2lkZW4uPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZihlcnJvcnMgPT1cIlwiKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD0gZXJyb3JzO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdMb2FkZXInLCBbJyRpb25pY0xvYWRpbmcnLCAnJHRpbWVvdXQnLCckaW9uaWNQb3B1cCcsZnVuY3Rpb24oJGlvbmljTG9hZGluZywkdGltZW91dCwkaW9uaWNQb3B1cCkge1xuXG4gIHZhciBMT0FERVJBUEkgPSB7XG5cbiAgICBzaG93TG9hZGluZzogZnVuY3Rpb24odGV4dCkge1xuICAgICAgdGV4dCA9IHRleHQgfHwgJ0xvYWRpbmcuLi4nO1xuICAgICAgJGlvbmljTG9hZGluZy5zaG93KHtcbiAgICAgICAgdGVtcGxhdGU6IHRleHRcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBoaWRlTG9hZGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlTG9hZGluZ1dpdGhNZXNzYWdlOiBmdW5jdGlvbih0ZXh0LCB0aW1lb3V0KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNlbGYuc2hvd0xvYWRpbmcodGV4dCk7XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmhpZGVMb2FkaW5nKCk7XG4gICAgICB9LCB0aW1lb3V0IHx8IDMwMDApO1xuICAgIH0sXG5cbiAgICBjb25maXJtUG9wdXA6ZnVuY3Rpb24odGl0bGUsdGV4dCl7XG4gICAgICB2YXIgY29uZmlybVBvcHVwID0gJGlvbmljUG9wdXAuY29uZmlybSh7XG4gICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgdGVtcGxhdGU6IHRleHRcbiAgIH0pO1xuICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiB9LFxuXG5cbiAgICBzaG93QWxlcnQ6ZnVuY3Rpb24oX3RpdGxlLF90ZW1wbGF0ZSkge1xuICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgIHRpdGxlOiBfdGl0bGUsXG4gICAgICAgIHRlbXBsYXRlOiBfdGVtcGxhdGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFsZXJ0UG9wdXA7XG4gfVxuXG4gIH07XG4gIHJldHVybiBMT0FERVJBUEk7XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9jYXRpb25zU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGxvY2F0aW9uc09iaiA9IHt9O1xuICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xhdCA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5sYXN0X3VzZXJfbG5nID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmNvdW5jaWxfbW9kYWwgPSBudWxsO1xuICBsb2NhdGlvbnNPYmouc2VsZWN0ZWRfY291bmNpbCA9IG51bGw7XG5cbiAgbG9jYXRpb25zT2JqLnNlbGVjdENvdW5jaWwgPSBmdW5jdGlvbihjb3VuY2lsTmFtZSkge1xuICAgIGxvY2F0aW9uc09iai5zZWxlY3RlZF9jb3VuY2lsID0gIGNvdW5jaWxOYW1lO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfaW5pdGlhbF9wb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSAgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlX2xhc3RfdXNlcl9wb3NpdGlvbiA9IGZ1bmN0aW9uKGxhdCxsbmcpe1xuICAgIGxvY2F0aW9uc09iai5sYXN0X3VzZXJfbGF0ID0gbGF0O1xuICAgIGxvY2F0aW9uc09iai5sYXN0X3VzZXJfbG5nID0gbG5nO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVkTG9jYXRpb25zID0gW107XG5cbiAgcmV0dXJuIGxvY2F0aW9uc09iajtcblxufV0pO1xuIiwiIC8vcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuIHBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWydsZWFmbGV0RGF0YScsICckY29tcGlsZScsIGZ1bmN0aW9uKGxlYWZsZXREYXRhLCAkY29tcGlsZSkge1xuXG4gICAvL0RlZmluaWNpb24gZGUgbGEgcHJveWVjY2Npb24gVVRNIDIxIHNcbiAgIHByb2o0LmRlZnMoJ0VQU0c6MzI3MjEnLCAnK3Byb2o9dXRtICt6b25lPTIxICtzb3V0aCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1tICtub19kZWZzJyk7XG5cblxuICAgdmFyIG1hcFNlcnZpY2UgPSB7fTtcblxuICAgbWFwU2VydmljZS5nb1RvUGxhY2UgPSBmdW5jdGlvbihuYW1lLGxhdCxsb24sc2NvcGUpIHtcbiAgICB2YXIgX2dlb0pzb24gPSB7XG4gICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgIFwiY3JzXCI6IHsgXCJ0eXBlXCI6IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogJ3VybjpvZ2M6ZGVmOmNyczpFUFNHOjozMjcyMSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCJmZWF0dXJlc1wiOiBbXG4gICAgICAgICAgICAgICAgeyBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gICAgICAgICAgICAgICAgXCJnZW9tZXRyeVwiOntcbiAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6XCJQb2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6W2xhdCxsb25dXG4gICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjp7XG4gICAgICAgICAgICAgICAgICAgICAgXCJub21icmVcIjogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgdmFyIF9sYXRsbmc7XG4gICAgICAgdmFyIGxheWVyID0gTC5Qcm9qLmdlb0pzb24oX2dlb0pzb24sIHtcbiAgICAgICAgICdwb2ludFRvTGF5ZXInOiBmdW5jdGlvbihmZWF0dXJlLCBsYXRsbmcpIHtcbiAgICAgICAgICAgX2xhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgICAgdmFyIGh0bWxQb3BVcCA9IFwiPHAgYWxpZ249J2NlbnRlcic+XCIrZmVhdHVyZS5wcm9wZXJ0aWVzLm5vbWJyZStcIiA8YnIvPiA8YSBuZy1jbGljaz0nbmV3X3JlcG9ydF9mcm9tX2xhdGxvbihcIitfbGF0bG5nLmxhdCtcIixcIitfbGF0bG5nLmxuZytcIik7Jz5JbmljaWFyIHJlcG9ydGUgYXF1w608L2E+PC9wPlwiO1xuICAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShodG1sUG9wVXApKHNjb3BlKTtcbiAgICAgICAgICAgcmV0dXJuIEwubWFya2VyKGxhdGxuZykuYmluZFBvcHVwKGNvbXBpbGVkWzBdKTtcbiAgICAgICAgIH1cbiAgICAgICB9KTtcblxuICAgICAgIGxheWVyLmFkZFRvKG1hcCk7XG4gICAgICAgbWFwLnNldFZpZXcoX2xhdGxuZywgMTgpO1xuICAgICAgIGxheWVyLm9wZW5Qb3B1cCgpO1xuICAgICB9KTtcbiAgIH07XG5cbiAgbWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyA9IGZ1bmN0aW9uKGxhdCxsbmcsem9vbSkge1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBtYXAuc2V0VmlldyhuZXcgTC5MYXRMbmcobGF0LCBsbmcpLHpvb20pO1xuICAgICAgIH0pO1xuICAgICB9XG5cbiAgIHJldHVybiBtYXBTZXJ2aWNlO1xuXG4gfV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01lc3NhZ2VTZXJ2aWNlJywgWyckaHR0cCcsICdsZWFmbGV0RGF0YScsJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgbGVhZmxldERhdGEsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgcGluc1VSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL3NpdGVzL3RvbWFtb3NfdW5hL2ZpbGVzL2pzb24vb25saW5lX3VzZXJzX2dlby5qc29uXCI7XG4gIHZhciBhcGlVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCJcbi8qKlxuICAgKiBDb25zdHJ1Y3Rvciwgd2l0aCBjbGFzcyBuYW1lXG4gICAqL1xuICBmdW5jdGlvbiBNZXNzYWdlKF9kYXRhKSB7XG4gICAgYW5ndWxhci5leHRlbmQodGhpcywgX2RhdGEpO1xuICB9XG5cblxuICBNZXNzYWdlLmdldEFsbE1lc3NhZ2VzVG9Vc2VyID0gZnVuY3Rpb24odXNlcm5hbWUscGFzc3dvcmQsdWlkLGF1dGhvcl91aWQpe1xuICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZhdXRob3JfdWlkPScrYXV0aG9yX3VpZCsnJnVpZD0nK3VpZCsnJmhhc2hfaWQ9JytNYXRoLnJhbmRvbSgpO1xuICAgIHJldHVybiAkaHR0cC5wb3N0KGFwaVVSTCArICdnZXRfYWxsX21lc3NhZ2VzX3RvX3VzZXInLCBib2R5LHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICB9XG5cbiAgTWVzc2FnZS5nZXRVc2VySW5mbyA9IGZ1bmN0aW9uKHVpZCl7XG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVUkwgKyAnZ2V0X3VzZXJfaW5mbycsIHtjYWNoZTogZmFsc2UsIHBhcmFtczoge3VpZDp1aWQsIGhhc2hfaWQ6TWF0aC5yYW5kb20oKX19KTtcbiAgfVxuXG4gIE1lc3NhZ2Uuc2VuZFRleHRNZXNzYWdlVG9Vc2VyID0gZnVuY3Rpb24odGV4dCxkZXN0aW5hdGlvbl91aWQsYXV0aG9yX3VpZCx1c2VybmFtZSxwYXNzd29yZCl7XG4gICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJnRleHQ9Jyt0ZXh0KycmZGVzdGluYXRpb25fdWlkPScrZGVzdGluYXRpb25fdWlkKycmYXV0aG9yX3VpZD0nK2F1dGhvcl91aWQ7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVVJMICsgJ3NlbmRfdGV4dF9tZXNzYWdlJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICB9XG5cbiAgTWVzc2FnZS5jaGVja1dob0NhblRhbGsgPSBmdW5jdGlvbih1c2VybmFtZSxwYXNzd29yZCl7XG4gICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZDtcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVUkwgKyAnY2hlY2tfdXNlcl90YWxrJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICB9XG5cblxuICAgIE1lc3NhZ2UuY2FuVGFsa1RvVXNlcnMgPSBuZXcgQXJyYXkoKTtcbiAgICBNZXNzYWdlLmN1cnJlbnQgPSB7fTtcblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCwgYXNzaWduZWQgdG8gY2xhc3NcbiAgICAgKiBJbnN0YW5jZSAoJ3RoaXMnKSBpcyBub3QgYXZhaWxhYmxlIGluIHN0YXRpYyBjb250ZXh0XG4gICAgICovXG4gICAgTWVzc2FnZS5idWlsZCA9IGZ1bmN0aW9uKF9kYXRhKSB7XG5cbiAgICAgIHJldHVybiBuZXcgTWVzc2FnZShcbiAgICAgICAgX2RhdGFcbiAgICAgICk7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICAgICAqL1xuICAgIHJldHVybiBNZXNzYWdlO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTW9kYWxTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcblxuICB2YXIgbW9kYWxPQkogPSB7fTtcbiAgbW9kYWxPQkouYWN0aXZlTW9kYWwgPSBudWxsO1xuXG4gIG1vZGFsT0JKLmNoZWNrTm9Nb2RhbElzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKG1vZGFsT0JKLmFjdGl2ZU1vZGFsKXtcbiAgICAgIG1vZGFsT0JKLmFjdGl2ZU1vZGFsLmhpZGUoKTtcbiAgICAgIG1vZGFsT0JKLmFjdGl2ZU1vZGFsLnJlbW92ZSgpO1xuICAgICAgbW9kYWxPQkouYWN0aXZlTW9kYWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtb2RhbE9CSjtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ05vdGlmaWNhdGlvblNlcnZpY2UnLCBbJyRodHRwJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL1wiO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0VW5yZWNpdmVkTm90aWZpY2F0aW9uczogZnVuY3Rpb24gKHVzZXJuYW1lLHBhc3N3b3JkKSB7XG4gICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgICAvL2JvZHkgPSBib2R5ICsnJmludGVyZXN0ZWQ9Jyt1c2VyT2JqLmludGVyZXN0ZWQrJyZzdGF0dXM9Jyt1c2VyT2JqLnN0YXR1cysnJnNob3dfbG9jYXRpb249Jyt1c2VyT2JqLnNob3dfbG9jYXRpb247XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2dldF91bnJlY2l2ZWRfbm90aWZpY2F0aW9ucycsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgfSxcblxuICAgIGRvbnRTaG93Tm90aWZpY2F0aW9uQWdhaW46IGZ1bmN0aW9uICh1c2VybmFtZSxwYXNzd29yZCxuaWQpIHtcbiAgICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZuaWQ9JytuaWQrJyZoYXNoX2lkPScrTWF0aC5yYW5kb20oKTtcbiAgICAgIC8vYm9keSA9IGJvZHkgKycmaW50ZXJlc3RlZD0nK3VzZXJPYmouaW50ZXJlc3RlZCsnJnN0YXR1cz0nK3VzZXJPYmouc3RhdHVzKycmc2hvd19sb2NhdGlvbj0nK3VzZXJPYmouc2hvd19sb2NhdGlvbjtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZG9udF9zaG93X25vdGlmaWNhdGlvbl9hZ2FpbicsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUGluU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIHBpbnNVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9vZmVydGEuZ2VvanNvbi8tMzQuODI4NTE4LC01NS45NTEzNzYvTUFUVVRJTk9cIjtcbiAgdmFyIGFwaVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIlxuLyoqXG4gICAqIENvbnN0cnVjdG9yLCB3aXRoIGNsYXNzIG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIFBpbihfZGF0YSkge1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHRoaXMsIF9kYXRhKTtcbiAgfVxuXG5cbiAgUGluLmdldEFsbCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICRodHRwLmdldChwaW5zVVJMLCB7Y2FjaGU6IGZhbHNlLCBwYXJhbXM6IHtoYXNoX2lkOk1hdGgucmFuZG9tKCl9fSk7XG4gIH1cblxuICBQaW4uc2VuZFVzZXJMb2NhdGlvbiA9IGZ1bmN0aW9uKGxhdGl0dWRlLGxvbmdpdHVkZSx1c2VybmFtZSxwYXNzd29yZCx1aWQpe1xuICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZsYXQ9JytsYXRpdHVkZSsnJmxvbj0nK2xvbmdpdHVkZStcIiZ1aWQ9XCIrdWlkO1xuICAgIHJldHVybiAkaHR0cC5wb3N0KGFwaVVSTCArICdzZW5kX3VzZXJfcG9zaXRpb24nLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG5cbiAgfVxuXG5cbiAgICBQaW4uX2FsbCA9IFtdO1xuICAgIFBpbi5jdXJyZW50ID0ge307XG4gICAgUGluLmxhc3RQaW5zUmVzcG9uc2UgPSBudWxsO1xuXG5cblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCwgYXNzaWduZWQgdG8gY2xhc3NcbiAgICAgKiBJbnN0YW5jZSAoJ3RoaXMnKSBpcyBub3QgYXZhaWxhYmxlIGluIHN0YXRpYyBjb250ZXh0XG4gICAgICovXG4gICAgUGluLmJ1aWxkID0gZnVuY3Rpb24oX2RhdGEpIHtcblxuICAgICAgcmV0dXJuIG5ldyBQaW4oXG4gICAgICAgIF9kYXRhXG4gICAgICApO1xuICAgIH07XG5cbiAgICBQaW4ucHJvdG90eXBlLnNldExhdExuZyA9IGZ1bmN0aW9uIChsYXRsbmcpIHtcblxuICAgICAgdGhpcy5sYXQgPSBsYXRsbmcubGF0O1xuICAgICAgdGhpcy5sb24gPSBsYXRsbmcubG5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICovXG4gICAgcmV0dXJuIFBpbjtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1BvcFVwU2VydmljZScsIFsnJGlvbmljUG9wdXAnLCdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRpb25pY1BvcHVwLFZhbGlkYXRpb25TZXJ2aWNlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93X2FsZXJ0OiBmdW5jdGlvbiAoYWxlcnRfdGl0bGUsYWxlcnRfbWVzc2FnZSkge1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBhbGVydF90aXRsZSxcbiAgICAgICAgIHRlbXBsYXRlOiBhbGVydF9tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICBjb25maXJtUG9wdXA6IGZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICB2YXIgY29uZmlybVBvcHVwID0gJGlvbmljUG9wdXAuY29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICByZXR1cm4gY29uZmlybVBvcHVwO1xuICAgfSxcblxuICAgYXNrRm9yT25lVmFsdWVQb3BVcDogZnVuY3Rpb24oc2NvcGUsdGl0bGUsdGV4dCxmaWVsZF9uYW1lLHZhbGlkYXRpb25UeXBlKXtcbiAgICAgICRzY29wZSA9IHNjb3BlO1xuICAgICAgdmFyIG15UG9wdXAgPSAkaW9uaWNQb3B1cC5zaG93KHtcbiAgICAgIHRlbXBsYXRlOiBmaWVsZF9uYW1lICsgJzogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJvbmVfdmFsdWVfcG9wdXBcIj48ZGl2IGlkPVwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiPjwvZGl2PicsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBzdWJUaXRsZTogdGV4dCxcbiAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICBidXR0b25zOiBbXG4gICAgICAgIHsgdGV4dDogJ0NhbmNlbGFyJyB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogJzxiPkVudmlhcjwvYj4nLFxuICAgICAgICAgIHR5cGU6ICdidXR0b24tcG9zaXRpdmUnLFxuICAgICAgICAgIG9uVGFwOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JzID0gXCJcIjtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib25lX3ZhbHVlX3BvcHVwXCIpLnZhbHVlO1xuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwibm90TnVsbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cImVtYWlsXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZW1haWwodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cImlkZG9jX3V5XCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfaWRkb2NfdXkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwidHdvX3dvcmRzXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihlcnJvcnMhPVwiXCIpe1xuICAgICAgICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIik7XG4gICAgICAgICAgICAgIGVycm9yRGl2LmlubmVySFRNTD0gZXJyb3JzO1xuICAgICAgICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAvL2Rvbid0IGFsbG93IHRoZSB1c2VyIHRvIGNsb3NlIHVubGVzcyBoZSBlbnRlcnMgd2lmaSBwYXNzd29yZFxuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gICAgcmV0dXJuIG15UG9wdXA7XG4gICB9XG5cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1NlbWFwaG9yZVNlcnZpY2UnLCBbZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHNlbWFwaG9yZU9iaiA9IHt9O1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3JlcyA9IG5ldyBBcnJheSgpO1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1snb3Blbi1tb2RhbCddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ3N1Ym1pdC1mb3JtJ10gPSBcImF2YWlsYWJsZVwiO1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1snc3VibWl0LWxvY2F0aW9uJ10gPSBcImF2YWlsYWJsZVwiO1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1snY2FuX3RhbGsnXSA9IFwiYXZhaWxhYmxlXCI7XG5cblxuXG5cbiAgc2VtYXBob3JlT2JqLnRha2VJZkF2YWlsYWJsZSA9IGZ1bmN0aW9uKHNlbWFwaG9yZUlkKSB7XG4gICAgLy9jb25zb2xlLmxvZyhzZW1hcGhvcmVJZCArIFwiOlwiICsgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdKTtcbiAgICBpZihzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF09PVwiYXZhaWxhYmxlXCIpe1xuICAgICAgICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF0gPSBcIm9jY3VwaWVkXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbWFwaG9yZU9iai5tYWtlQXZhaWxhYmxlQWdhaW4gPSBmdW5jdGlvbihzZW1hcGhvcmVJZCkge1xuICAgIGlmKHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXT09XCJvY2N1cGllZFwiKXtcbiAgICAgICAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdID0gXCJhdmFpbGFibGVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNlbWFwaG9yZU9iajtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ2xvY2F0aW9uQVBJJywgWyckaHR0cCcsICckcScsICdBcGlJbUVuZHBvaW50JywgJ0FwaURhdGFFbmRwb2ludCcsICdDb25maWdTZXJ2aWNlJywgJ0xvY2F0aW9uc1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgJHEsIEFwaUltRW5kcG9pbnQsIEFwaURhdGFFbmRwb2ludCwgQ29uZmlnU2VydmljZSwgTG9jYXRpb25zU2VydmljZSkge1xuXG4gIHZhciByZXN0UHJlZmZpeCA9IFwidWJpY2FjaW9uZXNSZXN0UHJvZFwiO1xuXG5cbiAgdmFyIGxvY2F0aW9uQVBJID0ge307XG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIC8qcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9jYWxsZXMnLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG5vbWJyZTogX2xvY2F0aW9uXG4gICAgICB9XG4gICAgfSk7Ki9cbiAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXgvZ2VvY29kZT90ZXJtPVwiICsgTG9jYXRpb25zU2VydmljZS5zZWxlY3RlZF9jb3VuY2lsICsgXCIsXCIgKyBfbG9jYXRpb247XG4gICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7fVxuICAgIH0pO1xuICB9O1xuXG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoRXNxdWluYUJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcInNlYXJjaEVzcXVpbmFCeVN0ciA9IFwiICsgSlNPTi5zdHJpbmdpZnkoX2xvY2F0aW9uKSk7XG4gICAgLy9yZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2VzcXVpbmEvJyArIF9sb2NhdGlvbi5jYWxsZSArICcvJyArIF9sb2NhdGlvbi5lc3F1aW5hLCB7XG4gICAgICAvKnJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY3J1Y2VzLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycsXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIG5vbWJyZTogX2xvY2F0aW9uLmVzcXVpbmFcbiAgICAgICAgfVxuICAgICAgfSk7Ki9cblxuICAgICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hamF4L2dlb2NvZGU/dGVybT1cIiArIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0ZWRfY291bmNpbCArIFwiLFwiXG4gICAgICAgICAgICAgICAgICAgICsgX2xvY2F0aW9uLmNhbGxlICsgXCIsXCIgKyBfbG9jYXRpb24uZXNxdWluYTtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXJhbXM6IHt9XG4gICAgICB9KTtcbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20gPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICB2YXIgdXJsID0gQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArIGxvY2F0aW9uQVBJLmdldFBhcmFtUGF0aEJ5VGlwbyhfbG9jYXRpb24udGlwbyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfbG9jYXRpb24ucGF0aFBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdXJsICs9ICcvJyArIF9sb2NhdGlvbi5wYXRoUGFyYW1zW2ldO1xuICAgIH1cbiAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tUE1CID0gZnVuY3Rpb24oY2FsbGUsZXNxdWluYV9udW1lcm8sdGlwbykge1xuICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYWpheC9nZW9jb2RlP3Rlcm09XCIgKyBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdGVkX2NvdW5jaWwgKyBcIixcIlxuICAgICAgICAgICAgICArIGNhbGxlICsgXCIsXCIgKyBlc3F1aW5hX251bWVybyArIFwiLFwiICsgdGlwbztcblxuICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCk7XG5cbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8gPSBmdW5jdGlvbihfdGlwbykge1xuXG4gICAgdmFyIHJlc3RHZW9EYXRhU2VydmljZVBhdGggPSB7XG4gICAgICAnRVNRVUlOQSc6XCIvZXNxdWluYVwiLFxuICAgICAgJ0RJUkVDQ0lPTic6XCIvZGlyZWNjaW9uXCJcbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlc3RHZW9EYXRhU2VydmljZVBhdGhbX3RpcG9dO1xuXG5cbiAgfTtcblxuICByZXR1cm4gbG9jYXRpb25BUEk7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdfJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4gd2luZG93Ll87IC8vVW5kZXJzY29yZSBtdXN0IGFscmVhZHkgYmUgbG9hZGVkIG9uIHRoZSBwYWdlXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVXNlclNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICAvL3ZhciBiYXNlVVJMID0gXCJodHRwOi8vcG1idXkuZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZy9hdXRoL2FqYXgvXCI7XG4gIHZhciBVc2VyT2JqID0ge307XG4gIFVzZXJPYmoudWlkID0gbnVsbDtcbiAgVXNlck9iai5uYW1lID0gbnVsbDtcbiAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gIFVzZXJPYmoucGFzc3dvcmQgPSBudWxsO1xuICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gIFVzZXJPYmouc2hvd19sb2NhdGlvbiA9IG51bGw7XG5cblxuICBVc2VyT2JqLnNhdmVfdXNlcl9kYXRhID0gZnVuY3Rpb24gKHVzZXJfbmFtZSwgdXNlcl9wYXNzd29yZCwgdXNlcl9waWN0dXJlX3VybCwgc2hvd19sb2NhdGlvbiwgdWlkLCBzdGF0dXMsIGdlbmRlciwgaW50ZXJlc3RlZCkge1xuICAgICAgVXNlck9iai51aWQgPSB1aWQ7XG4gICAgICBVc2VyT2JqLm5hbWUgPSB1c2VyX25hbWU7XG4gICAgICBVc2VyT2JqLnBhc3N3b3JkID0gdXNlcl9wYXNzd29yZDtcbiAgICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICAgICAgVXNlck9iai5zaG93X2xvY2F0aW9uID0gc2hvd19sb2NhdGlvbjtcbiAgICAgIFVzZXJPYmouc3RhdHVzID0gc3RhdHVzO1xuICAgICAgVXNlck9iai5nZW5kZXIgPSBnZW5kZXI7XG4gICAgICBVc2VyT2JqLmludGVyZXN0ZWQgPSBpbnRlcmVzdGVkO1xuXG4gICAgICAvL1NBVkUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5lcmFzZV91c2VyX2RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgVXNlck9iai5uYW1lID0gbnVsbDtcbiAgICBVc2VyT2JqLmVtYWlsID0gbnVsbDtcbiAgICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gbnVsbDtcbiAgICBVc2VyT2JqLnBob25lID0gbnVsbDtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gbnVsbDtcbiAgICAvL0RFTEVURSBJTiBQT1VDSERCXG4gIH1cblxuICBVc2VyT2JqLmdldF91c2VyX2RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9MRVZBTlRBIERFIFBPVUNIREIgTE9TIERBVE9TIERFTCBVU1VBUklPLiBTSSBIQVkgTE9TIFBPTkUgRU4gTEFTIFZBUklBQkxFUyBERUwgU0VSVklDSU8uIFNJIE5PIEhBWSBQT05FIFRPRE8gTlVMTFxuICB9XG5cbiAgVXNlck9iai5hZGRfcGhvdG8gPSBmdW5jdGlvbiAodXNlcl9waWN0dXJlX3VybCkge1xuICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICB9XG5cbiAgVXNlck9iai5pc0xvZ2dlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZihVc2VyT2JqLm5hbWUhPW51bGwgJiYgVXNlck9iai5uYW1lIT1cIlwiKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG5cbiAgcmV0dXJuIFVzZXJPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdWYWxpZGF0aW9uU2VydmljZScsIFsnJGh0dHAnLCckaW9uaWNQb3B1cCcsIGZ1bmN0aW9uKCRodHRwLCRpb25pY1BvcHVwKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBpc01vYmlsZURldmljZTogZnVuY3Rpb24oKXtcbiAgICAgIGlmKHdpbmRvdy5jb3Jkb3ZhKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfbm90X2VtcHR5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfdHdvX3dvcmRzOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciB2YWx1ZXMgPSB2YWx1ZS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbih2KXtyZXR1cm4gdiE9PScnfSk7XG4gICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIC8vdHdvIG9yIG1vcmUgd29yZHNcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9ub3QgZW5vdWdoIHdvcmRzXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9lcXVhbHNUbzogZnVuY3Rpb24gKHZhbHVlLHNlY29uZFZhbHVlKSB7XG4gICAgICBpZih2YWx1ZT09c2Vjb25kVmFsdWUpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2VtYWlsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgIHJldHVybiByZS50ZXN0KHZhbHVlKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2lkZG9jX3V5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICAgICAgdmFyIGRpZyA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHZhciBhID0gMDsgdmFyIGkgPSAwO1xuICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aCA8PSA2KXtcbiAgICAgICAgICAgIGZvcihpID0gdmFsdWUubGVuZ3RoOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgICAgdmFsdWUgPSAnMCcgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yKGkgPSAwOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgIGEgKz0gKHBhcnNlSW50KFwiMjk4NzYzNFwiW2ldKSAqIHBhcnNlSW50KHZhbHVlW2ldKSkgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICBpZihhJTEwID09PSAwKXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXN1bHQgPSAxMCAtIGEgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoZGlnID09IHJlc3VsdCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKTtcbiJdfQ==
