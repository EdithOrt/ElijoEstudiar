window.VERSION = "0.0.1";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"http://backend.educacion.thor.datauy.org"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,t,n){t.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),cordova.plugins.Keyboard.disableScroll(!1)),ionic.Platform.isFullScreen=!0,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AbsController"}).state("app.map",{cache:!1,url:"/map",views:{menuContent:{templateUrl:"templates/map.html",controller:"MapController"}}}).state("app.form",{cache:!1,url:"/form",views:{menuContent:{templateUrl:"templates/form.html",controller:"FormCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),t.otherwise("/app/intro")}]),pmb_im.controllers.controller("AbsController",["$scope",function(e){}]),pmb_im.controllers.controller("FormCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","ApiService","DBService","$ionicSlideBoxDelegate","$ionicScrollDelegate",function(e,t,n,o,a,r,i,s,l,c,u){e.form={},e.form.edad=16,e.form.ultimo_nivel_aprobado="primaria",e.form.ultimo_anio_aprobado="",e.form.plan="",e.form.lugar="",e.form.que="",e.form.donde={},e.form.turno="matutino",e.form.SearchQueResults={},e.form.SearchDondeResults={},e.form.searchQue="",e.form.searchDonde="",e.form.option="list",e.restarEdad=function(){e.form.edad>4&&(e.form.edad=e.form.edad-1)},e.sumarEdad=function(){e.form.edad=e.form.edad+1},e.selectUltimoNivel=function(t){var n,o=document.getElementsByClassName("nivel");for(n=0;n<o.length;n++)o[n].className="nivel_"+o[n].id+" nivel hidden";var a=document.getElementById(t);a.className="nivel_"+a.id+" nivel",e.form.ultimo_nivel_aprobado=t},e.select_turno=function(t){var n,o=document.getElementsByClassName("turnos");for(n=0;n<o.length;n++)o[n].className="turnos turno_"+o[n].id+"_off";var a=document.getElementById(t);a.className="turnos turno_"+t,e.form.turno=t},e.select_option=function(t){var n,o=document.getElementsByClassName("options");for(n=0;n<o.length;n++)o[n].className="options option_"+o[n].id+"_off";var a=document.getElementById(t);a.className="options option_"+t,e.form.option=t},e.onSearchChangeQue=function(){var t=document.getElementById("que_estudiar"),n=t.value.trim();n.length>=3?s.searchQueEstudiar(n).then(function(t){e.form.SearchQueResults=t.data,document.getElementById("SearchQueResults").style.display="block"}):e.hideSearchQueResults()},e.hideSearchQueResults=function(){document.getElementById("SearchQueResults").style.display="none"},e.selectQueEstudiarItem=function(t){e.form.que=t,e.hideSearchQueResults(),e.form.searchQue=t.nombre},e.listAllQueEstudiar=function(){var t="api-get-all";s.searchQueEstudiar(t).then(function(t){e.form.SearchQueResults=t.data,document.getElementById("SearchQueResults").style.display="block"})},e.onSearchChangeDonde=function(){var t=document.getElementById("donde_estudiar"),n=t.value.trim();n.length>=3?s.searchDondeEstudiar(n).then(function(t){e.form.SearchDondeResults=t.data,document.getElementById("SearchDondeResults").style.display="block"}):e.hideSearchDondeResults()},e.hideSearchDondeResults=function(){document.getElementById("SearchDondeResults").style.display="none"},e.selectDondeEstudiarItem=function(t){e.form.donde=t,e.hideSearchDondeResults(),e.form.searchDonde=t.loc_dep},e.editSearch=function(){c.previous(),c.previous()},e.next=function(){c.next()},e.previous=function(){c.previous()},e.go_to_map=function(){t.go("app.map")}}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,t,n,o,a,r,i,s){var l=s.initDB();l.info().then(console.log.bind(console)),e.geolocate=function(){var e={timeout:3500,enableHighAccuracy:!0};n.getCurrentPosition(e).then(function(e){i.save_initial_position(e),t.go("app.form")},function(e){t.go("app.form")})},e.go_to_form=function(){t.go("app.form")}}]),pmb_im.controllers.controller("MapController",["$scope","_","$cordovaCamera","$cordovaGeolocation","$compile","$ionicModal","$ionicPopup","leafletData","ConfigService","LocationsService","PinService","AuthService","UserService","DBService","$timeout","$interval","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","ConnectivityService","$cordovaInAppBrowser","MapService","ModalService","SemaphoreService","ValidationService",function(e,t,n,o,a,r,i,s,l,c,u,d,p,m,_,f,g,h,v,y,b,w,I,E,k,D,R){e.online_user_geo={},e.online_user_geo_array=new Array,e.baseURL=l.baseURL,e.AppName=l.AppName,e.user_cached_image="./img/icon-user-anonymous.png",e.one_value_popup=null,e.myIntervals=new Array,e.$on("$ionicView.beforeEnter",function(){k.checkNoModalIsOpen(),m.initDB(),w.isOnline()?e.check_user_logged():e.set_offline_user(),document.getElementById("foot_bar").style.display="block",w.isOnline()&&e.create_online_map()}),e.$on("$ionicView.afterEnter",function(){s.getMap();""!=c.initial_lat?E.centerMapOnCoords(c.initial_lat,c.initial_lng,16):E.centerMapOnCoords(-34.901113,-56.164531,14),document.getElementById("spinner").style.display="none"}),e.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"no"};I.open(e,"_blank",t).then(function(e){})["catch"](function(e){})},e.create_online_map=function(){e.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:1,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{}},e.loadPinsLayer(),e.map.center={lat:-34.901113,lng:-56.164531,zoom:16},s.getMap().then(function(t){t.on("moveend",e.hideOffScreenPins)})},e.next=function(){v.next()},e.previous=function(){v.previous()},e.back_to_map=function(e){e?(k.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block",document.getElementById("spinner-inside-modal").style.display="none"):document.getElementById("spinner-inside-modal").style.display="none"},e.image=null,e.addImage=function(t,o,a,r){e.isUserPhoto=o,e.isCommentPhoto=a,e.isNewUserPhoto=r;var i=Camera.PictureSourceType.CAMERA,s=!0,l=!0;1==t&&(i=Camera.PictureSourceType.PHOTOLIBRARY,s=!1,l=!1);var c={quality:90,destinationType:Camera.DestinationType.FILE_URI,sourceType:i,allowEdit:!1,correctOrientation:s,encodingType:Camera.EncodingType.JPEG,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:l,targetWidth:500,targetHeight:500};n.getPicture(c).then(function(t){function n(t){window.FilePath.resolveNativePath(t,function(n){t="file://"+n,n.startsWith("file://")&&(t=n),1==e.isUserPhoto?e.profile.picture_url=t:1==e.isCommentPhoto?e.comment.file=t:1==e.isNewUserPhoto&&(e.newuser.picture_url=t),e.imgURI=t},function(e){alert("Error resolveNativePath"+e)})}n(t)},function(e){})},e.urlForImage=function(){var t="http://placehold.it/200x200";if(e.image){var n=e.image.substr(e.image.lastIndexOf("/")+1);t=cordova.file.dataDirectory+n}return t},e.scrollMe=function(e){g.hash(e);var t=y.$getByHandle("content");t.anchorScroll()},e.set_active_option=function(e){document.getElementById(e).className="option-active"},e.hide_special_divs=function(){document.getElementById("user-options-menu").style.display="none"},e.close_report_detail_modal=function(){k.checkNoModalIsOpen(),e.report_detail_id=null},e.locate=function(){o.getCurrentPosition().then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,e.map.center.zoom=15,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"You Are Here",focus:!0,draggable:!1}},function(e){})},e.addMapControls=function(){document.getElementById("map_crosshair").style.display="block",document.getElementById("map_crosshair_button").style.display="block"},e.changeUserLocationPin=function(t,n,o){if(e.online_user_geo_array[o]){layer=e.online_user_geo_array[o];var a=new L.LatLng(t,n);layer.setLatLng(a)}},e.hideOffScreenPins=function(){s.getMap().then(function(t){var n=t.getBounds();e.usersVisible=[],e.online_user_geo_array.forEach(function(o,a){var r=n.contains(o.getLatLng());r?r&&(t.addLayer(o),e.usersVisible.push(o.feature)):t.removeLayer(o)})})},e.loadPinsLayer=function(){},e.timeConverter=function(e){var t=new Date(1e3*e),n=t.getFullYear(),o=t.getMonth();o<10&&(o="0"+o);var a=t.getDate();a<10&&(a="0"+a);var r=t.getHours();r<10&&(r="0"+r);var i=t.getMinutes();i<10&&(i="0"+i);var s=(t.getSeconds(),a+"/"+o+"/"+n+" "+r+":"+i);return s},e.model=[],e.externalModel=[],e.selectedItems=[],e.preselectedSearchItems=[],e.clickedValueModel="",e.removedValueModel="",e.itemsRemoved=function(t){e.removedValueModel=t},e.user_options=function(){var t=document.getElementById("user-options-menu");if("block"==t.style.display)t.style.display="none";else{var n=p.name;null==n?e.show_anonymous_menu():e.show_user_menu()}},e.show_anonymous_menu=function(){var t=document.getElementById("user-options-menu"),n="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesi√≥n</div>";n+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",t.innerHTML=n,a(t)(e),t.style.height="120px",t.style.width="150px",t.style.display="block"},e.show_user_menu=function(){var t=document.getElementById("user-options-menu"),n=p.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";n+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesi√≥n</div></div>",t.innerHTML=n,a(t)(e),t.style.height="220px",t.style.width="200px",t.style.display="block"},e.create_field_array=function(e,t,n){var o=new Array;return o.name=e,o.type=t,o.value=n,o},e.create_field_array_with_twoFields=function(e,t,n,o){var a=new Array;return a.name=e,a.type=t,a.value=n,a.secondValue=o,a},e.fix_fb_image_link=function(e){if(e.indexOf("http://graph.facebook.com")>=0){var t=e.split("http://graph.facebook.com"),n="http://graph.facebook.com"+t[1];return n}return e},e.log_in=function(t,n){if(D.takeIfAvailable("submit-form"))if(w.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(e.create_field_array("Usuario","notNull",t)),o.push(e.create_field_array("Contrase√±a","notNull",n)),h.check_fields(o,"error_container")?d.log_in(t,n).then(function(t){h.http_response_is_successful(t,"error_container")?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),p.save_user_data(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),m.saveUser(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),document.getElementById("spinner-inside-modal").style.display="none",D.makeAvailableAgain("submit-form"),e.close_login_modal()):(D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){document.getElementById("spinner-inside-modal").style.display="none",D.makeAvailableAgain("submit-form"),h.show_error_message("error_container",e.statusText)}):(document.getElementById("spinner-inside-modal").style.display="none",D.makeAvailableAgain("submit-form"))}else D.makeAvailableAgain("submit-form"),b.show_alert("Sin conexi√≥n a internet","Para iniciar sesi√≥n debe estar conectado a internet")},e.log_in_background=function(t,n){d.log_in(t,n).then(function(t){return h.http_response_is_successful_ajax(t)?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),p.save_user_data(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),m.saveUser(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),1):0},function(e){return 0})},e.sign_out=function(){p.erase_user_data(),m.eraseUser(),document.getElementById("spinner").style.display="none",e.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},e.show_edit_profile_modal=function(){D.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",e.newuser=new Array,e.newuser.email=p.email,e.newuser.gender=p.gender,e.newuser.username=p.name,e.newuser.interested=p.interested,e.newuser.status=p.status,e.newuser.show_location=p.show_location,e.actual_photo=p.picture_url,null!=e.actual_photo||(e.actual_photo="./img/icon-user-anonymous.png"),"url(./img/icon-user-anonymous.png)"==e.actual_photo&&(e.actual_photo="./img/icon-user-anonymous.png"),k.checkNoModalIsOpen(),R.isMobileDevice()?r.fromTemplateUrl("templates/edit_profile_with_photo.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",k.activeModal=e,document.getElementById("foot_bar").style.display="none",k.activeModal.show(),D.makeAvailableAgain("open-modal")}):r.fromTemplateUrl("templates/edit_profile_with_photo_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",k.activeModal=e,document.getElementById("foot_bar").style.display="none",k.activeModal.show(),D.makeAvailableAgain("open-modal")}))},e.readURL=function(t,n){if(t.files&&t.files[0]){1==n?e.newuser.picture_url=t.files[0]:2==n?e.comment.photo=t.files[0]:e.report.file=t.files[0];var o=new FileReader;o.onload=function(e){document.getElementById("myImage").src=e.target.result},o.readAsDataURL(t.files[0])}},e.close_edit_profile_modal=function(){document.getElementById("foot_bar").style.display="block",k.checkNoModalIsOpen()},e.edit_profile_ok=function(){e.edit_profile()},e.getObjectDataFromResponse=function(e){return e.data?e.data:e},e.edit_profile=function(){if(D.takeIfAvailable("submit-form"))if(w.isOnline()){document.getElementById("spinner-inside-modal").style.display="block",e.newuser.password=p.password;var t=d.edit_user(e.newuser);null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&R.isMobileDevice()?t.then(function(t){var n=JSON.parse(t.response);h.http_data_response_is_successful(n,"error_container")?(n=e.getObjectDataFromResponse(n),p.save_user_data(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),m.saveUser(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){var t="C√≥digo: "+e.code;t=t+" Origen: "+e.source,t=t+" Destino: "+e.target,t=t+" http_status: "+e.http_status,t=t+" Body: "+e.body,t=t+" Exception: "+e.exception,h.show_error_message("error_container","Hubo un error en el env√≠o: "+t),D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(t){_(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})}):t.success(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",h.http_response_is_successful(t,"error_container")?(p.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),m.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),document.getElementById("spinner-inside-modal").style.display="none",D.makeAvailableAgain("submit-form"),e.close_edit_profile_modal(),e.check_user_logged()):(D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")}).error(function(e,t,n,o){h.show_error_message("error_container",t),document.getElementById("spinner-inside-modal").style.display="none",D.makeAvailableAgain("submit-form")})}else D.makeAvailableAgain("submit-form"),b.show_alert("Sin conexi√≥n a internet","Para editar su perfil debe estar conectado a internet")},e.show_login_modal=function(){D.takeIfAvailable("open-modal")&&(e.nonauth=new Array,e.nonauth.user="",e.nonauth.password="",k.checkNoModalIsOpen(),r.fromTemplateUrl("templates/log_in.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),k.activeModal=t,D.makeAvailableAgain("open-modal"),document.getElementById("foot_bar").style.display="none",k.activeModal.show()}))},e.login_ok=function(){e.log_in(e.nonauth.user,e.nonauth.password)},e.close_login_modal=function(){document.getElementById("foot_bar").style.display="block",k.checkNoModalIsOpen()},e.show_sign_up_modal=function(){D.takeIfAvailable("open-modal")&&(e.newuser=new Array,e.newuser.email="",e.newuser.password="",e.newuser.fullname="",e.newuser.id_doc="",e.newuser.telephone="",e.newuser.photo="",k.checkNoModalIsOpen(),R.isMobileDevice()?r.fromTemplateUrl("templates/sign_up.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),k.activeModal=t,D.makeAvailableAgain("open-modal"),document.getElementById("foot_bar").style.display="none",k.activeModal.show()}):r.fromTemplateUrl("templates/sign_up_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),k.activeModal=t,D.makeAvailableAgain("open-modal"),document.getElementById("foot_bar").style.display="none",k.activeModal.show()}))},e.close_sign_up_modal=function(){document.getElementById("foot_bar").style.display="block",k.checkNoModalIsOpen()},e.sign_up=function(){if(D.takeIfAvailable("submit-form"))if(w.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";new Array;null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&R.isMobileDevice()?d.create_user(e.newuser).then(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",h.http_data_response_is_successful(t,"error_container")?(t=e.getObjectDataFromResponse(t),p.save_user_data(t.name,t.email,e.newuser.password,t.identity_document,t.phone,t.picture_url),p.save_user_data(t.Name,e.newuser.password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),m.saveUser(t.Name,password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"}):d.create_user(e.newuser).then(function(t){if(h.http_response_is_successful(t,"error_container")){p.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),m.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_sign_up_modal();var n=i.alert({title:"Usuario creado con √©xito",template:e.getObjectDataFromResponse(t).message});n.then(function(e){}),e.check_user_logged()}else D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(e){D.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",h.show_error_message("error_container",e.statusText)})}else D.makeAvailableAgain("submit-form"),b.show_alert("Sin conexi√≥n a internet","Para iniciar registrarse debe estar conectado a internet")},e.sign_up_ok=function(){e.sign_up()},e.check_user_logged=function(){var t=p.name;if(null==t){var n=m.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?e.log_in_background(t.name,t.password):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==p.picture_url||""==p.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_offline_user=function(){var t=p.name;if(null==t){var n=m.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?p.save_user_data(t.name,t.password,t.picture_url,t.show_location):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==p.picture_url||""==p.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_user_picture=function(t){document.getElementById("user_picture");0==t?e.user_cached_image="./img/icon-user-anonymous.png":null!=p.picture_url&&""!=p.picture_url?e.user_cached_image=p.picture_url:e.user_cached_image="./img/icon-user-anonymous.png"},e.find_me=function(){e.set_active_option("button-find-me"),e.hide_special_divs();var t={timeout:1e4,enableHighAccuracy:!0};o.getCurrentPosition(t).then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,c.save_new_report_position(t.coords.latitude,t.coords.longitude),w.isOnline()?e.map.center.zoom=18:e.map.center.zoom=16,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"<p align='center'>Te encuentras aqu√≠ <br/> <a ng-click='new_report(1);'>Iniciar reporte en tu posici√≥n actual</a></p>",focus:!0,draggable:!1,getMessageScope:function(){return e}}},function(t){e.openCouncilSelector()})}}]),pmb_im.services.factory("ApiService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/api/";return o.searchQueEstudiar=function(t){return e.get(a+"search/"+t,{cache:!1,params:{hash_id:Math.random()}})},o.searchDondeEstudiar=function(t){return e.get(a+"searchByLocalidadDepartamento/"+t,{cache:!1,params:{hash_id:Math.random()}})},o.current={},o.build=function(e){return new o(e)},o}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService","ValidationService",function(e,t,n,o){var a=n.baseURL+"/api/";return{log_in:function(t,n){var o="user="+t+"&password="+n;return e.post(a+"login",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sign_out:function(t,n){return e.get(a+"sign_out",{withCredentials:!0,params:{password_sign_in:t,email:n}})},create_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"create_user",n.picture_url,r,i)}if(n.picture_url){var s=new FormData;return s.append("photo",n.picture_url),s.append("user",n.username),s.append("password",n.password),s.append("email",n.email),s.append("gender",n.gender),s.append("interested",n.interested),s.append("status",n.status),s.append("show_location",n.show_location),e.post(a+"create_user",s,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}var l="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;return l=l+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,e.post(a+"create_user",l,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},password_recovery:function(t){return e.get(a+"forgot_password",{params:{login_email:t}})},password_change:function(t,n,o,r){var i="email="+t+"&password_sign_in="+n+"&new_password="+o+"&confirm="+r;return e.post(a+"change_password",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},edit_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"edit_profile",n.picture_url,r,i)}var s="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;if(s=s+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,n.picture_url){var l=new FormData;return l.append("photo",n.picture_url),l.append("user",n.username),l.append("password",n.password),l.append("email",n.email),l.append("gender",n.gender),l.append("interested",n.interested),l.append("status",n.status),l.append("show_location",n.show_location),e.post(a+"edit_profile",l,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}return e.post(a+"edit_profile",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="http://ee_backend.development.datauy.org",ionic.Platform.isWebView()?t.baseURL="http://ee_backend.development.datauy.org":t.baseURL="/backend",t.AppName="Elijo Estudiar",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return!0},isOffline:function(){return!1}}}]),pmb_im.services.factory("DBService",["$q",function(e){function t(e,t,o,a,r,i,s,l){var c={_id:"user-logged",name:e,password:t,picture_url:o,show_location:a,uid:r,status:i,gender:s,interested:l};n().then(function(e){return c._rev=e._rev,m.put(c)})["catch"](function(e){return m.put(c)})}function n(){return m.get("user-logged")}function o(){m.get("user-logged").then(function(e){return m.remove(e)})}function a(){return m=new PouchDB("tomamosuna_local_db")}function r(e){var t=new Date,n="report_"+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getMilliseconds();return e._id=n,m.put(e)}function i(e){return m.put(e)}function s(){return m.get("categories-list")}function l(e){s().then(function(t){return e._rev=t._rev,m.put(e)})["catch"](function(t){return e._id="categories-list",m.put(e)})}function c(e){return m.get(e)}function u(){return m.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_Ôøø"})}function d(e){m.get(e).then(function(e){return m.remove(e)})}function p(e){return m.remove(e)}var m;return{initDB:a,saveUser:t,getUser:n,eraseUser:o,saveReport:r,getReport:c,getAllReports:u,updateReport:i,deleteReport:d,deleteGivenReport:p,getCategories:s,saveCategories:l}}]),pmb_im.services.factory("DrinkService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/api/";return{getAllDrinksAvailable:function(t,o){var a="user="+t+"&password="+o+"&hash_id="+Math.random();return e.post(n+"get_possible_drinks",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getAllInvitationsWithUser:function(t,o,a,r){var i="user="+t+"&password="+o+"&hash_id="+Math.random();return i=i+"&uid="+a+"&author_uid="+r,e.post(n+"get_invitations_between_users",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sendDrinkInvitationToUser:function(t,o,a,r,i){var s="user="+r+"&password="+i+"&drink_nid="+t+"&destination_uid="+o+"&author_uid="+a+"&hash_id="+Math.random();return e.post(n+"send_drink_invitation",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sendDrinkInvitationResponse:function(t,o,a,r,i){var s="response="+t+"&user="+o+"&password="+a+"&invitation_nid="+r+"&destination_uid="+i+"&hash_id="+Math.random();return e.post(n+"invitation_response",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){var n=document.getElementById(t);return e.data&&"success"==e.data.Status||"success"==e.Status?(n.style.display="none",!0):(e.data?n.innerHTML="<h3>"+e.data.Message+"</h3>":n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return"success"!=e.Status?(n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";if(e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vac√≠o.</h3>')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una direcci√≥n de correo v√°lida.</h3>')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una c√©dula uruguaya v√°lida.</h3>')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>')),"equalsTo"==e.type&&(n.validate_equalsTo(e.value,e.secondValue)||(o=o+'<h3>- Los campos "'+e.name+'" no coinciden.</h3>'))}),""==o)return!0;var a=document.getElementById(t);return a.innerHTML=o,a.style.display="block",!1}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.last_user_lat="",e.last_user_lng="",e.council_modal=null,
e.selected_council=null,e.selectCouncil=function(t){e.selected_council=t},e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_last_user_position=function(t,n){e.last_user_lat=t,e.last_user_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(n,o,a,r){var i={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,a]},properties:{nombre:n}}]};e.getMap().then(function(e){var n,o=L.Proj.geoJson(i,{pointToLayer:function(e,o){n=o;var a="<p align='center'>"+e.properties.nombre+" <br/> <a ng-click='new_report_from_latlon("+n.lat+","+n.lng+");'>Iniciar reporte aqu√≠</a></p>",i=t(a)(r);return L.marker(o).bindPopup(i[0])}});o.addTo(e),e.setView(n,18),o.openPopup()})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("MessageService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=(n.baseURL+"/sites/tomamos_una/files/json/online_users_geo.json",n.baseURL+"/api/");return o.getAllMessagesToUser=function(t,n,o,r){var i="user="+t+"&password="+n+"&author_uid="+r+"&uid="+o+"&hash_id="+Math.random();return e.post(a+"get_all_messages_to_user",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.getUserInfo=function(t){return e.get(a+"get_user_info",{cache:!1,params:{uid:t,hash_id:Math.random()}})},o.sendTextMessageToUser=function(t,n,o,r,i){var s="user="+r+"&password="+i+"&text="+t+"&destination_uid="+n+"&author_uid="+o;return e.post(a+"send_text_message",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.checkWhoCanTalk=function(t,n){var o="user="+t+"&password="+n;return e.post(a+"check_user_talk",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.canTalkToUsers=new Array,o.current={},o.build=function(e){return new o(e)},o}]),pmb_im.services.factory("ModalService",[function(){var e={};return e.activeModal=null,e.checkNoModalIsOpen=function(){e.activeModal&&(e.activeModal.hide(),e.activeModal.remove())},e}]),pmb_im.services.factory("NotificationService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/api/";return{getUnrecivedNotifications:function(t,o){var a="user="+t+"&password="+o+"&hash_id="+Math.random();return e.post(n+"get_unrecived_notifications",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},dontShowNotificationAgain:function(t,o,a){var r="user="+t+"&password="+o+"&nid="+a+"&hash_id="+Math.random();return e.post(n+"dont_show_notification_again",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("PinService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/oferta.geojson/-34.828518,-55.951376/MATUTINO",r=n.baseURL+"/api/";return o.getAll=function(){return e.get(a,{cache:!1,params:{hash_id:Math.random()}})},o.sendUserLocation=function(t,n,o,a,i){var s="user="+o+"&password="+a+"&lat="+t+"&lon="+n+"&uid="+i;return e.post(r+"send_user_position",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o._all=[],o.current={},o.lastPinsResponse=null,o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e){this.lat=e.lat,this.lon=e.lng},o}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,a,r,i){$scope=n;var s=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+r+'" no puede estar vac√≠o.</h3>')),"email"==i&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+r+'" no es una direcci√≥n de correo v√°lida.</h3>')),"iddoc_uy"==i&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+r+'" no es una c√©dula uruguaya v√°lida.</h3>')),"two_words"==i&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var a=document.getElementById("error_container_inside");a.innerHTML=n,a.style.display="block",e.preventDefault()}}]});return s}}}]),pmb_im.services.factory("SemaphoreService",[function(){var e={};return e.semaphores=new Array,e.semaphores["open-modal"]="available",e.semaphores["submit-form"]="available",e.semaphores["submit-location"]="available",e.semaphores.can_talk="available",e.takeIfAvailable=function(t){return"available"==e.semaphores[t]&&(e.semaphores[t]="occupied",!0)},e.makeAvailableAgain=function(t){return"occupied"==e.semaphores[t]&&(e.semaphores[t]="available",!0)},e}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint","ConfigService","LocationsService",function(e,t,n,o,a,r){var i="ubicacionesRestProd",s={};return s.searchLocationByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t;return e.get(n,{method:"GET",params:{}})},s.searchEsquinaByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t.calle+","+t.esquina;return e.get(n,{method:"GET",params:{}})},s.getLocationGeom=function(t){for(var o=n.url+"/"+i+s.getParamPathByTipo(t.tipo),a=0;a<t.pathParams.length;a++)o+="/"+t.pathParams[a];return e.get(baseURL).then(function(e){return e.data})},s.getLocationGeomPMB=function(t,n,o){var i=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t+","+n+","+o;return e.get(i)},s.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},s}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var t={};return t.uid=null,t.name=null,t.email=null,t.password=null,t.picture_url="url(./img/icon-user-anonymous.png)",t.show_location=null,t.save_user_data=function(e,n,o,a,r,i,s,l){t.uid=r,t.name=e,t.password=n,t.picture_url=o,t.show_location=a,t.status=i,t.gender=s,t.interested=l},t.erase_user_data=function(){t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone=null,t.picture_url=null},t.get_user_data=function(){},t.add_photo=function(e){t.picture_url=e},t.isLogged=function(){return null!=t.name&&""!=t.name},t}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{isMobileDevice:function(){return!!window.cordova},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_equalsTo:function(e,t){return e==t},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=n%10===0?0:10-n%10,t==a}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2Ficy5jdHJsLmpzIiwiY29udHJvbGxlcnMvZm9ybS5jcnRsLmpzIiwiY29udHJvbGxlcnMvaW50cm8uY3RybC5qcyIsImNvbnRyb2xsZXJzL21hcC5jdHJsLmpzIiwic2VydmljZXMvYXBpLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9hdXRoLnNlcnZpY2VzLmpzIiwic2VydmljZXMvY29uZmlnLnNlcnZpY2VzLmpzIiwic2VydmljZXMvY29ubmVjdGl2aXR5LnNlcnZpY2VzLmpzIiwic2VydmljZXMvZGIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9kcmluay5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Vycm9yLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbG9hZGVyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbG9jYXRpb25zU2VydmljZS5qcyIsInNlcnZpY2VzL21hcC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL21lc3NhZ2Uuc2VydmljZS5qcyIsInNlcnZpY2VzL21vZGFsU2VydmljZS5qcyIsInNlcnZpY2VzL25vdGlmaWNhdGlvbi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3Bpbi5zZXJ2aWNlLmpzIiwic2VydmljZXMvcG9wdXAuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9zZW1hcGhvcmUuc2VydmljZS5qcyIsInNlcnZpY2VzL3ViaWNhY2lvbmVzLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdW5kZXJzY29yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdXNlci5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZXMuanMiXSwibmFtZXMiOlsicG1iX2ltIiwiY29udHJvbGxlcnMiLCJhbmd1bGFyIiwibW9kdWxlIiwic2VydmljZXMiLCJhcHAiLCJjb25zdGFudCIsInVybCIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiJHJvb3RTY29wZSIsIiRjb3Jkb3ZhS2V5Ym9hcmQiLCJWRVJTSU9OIiwid2luZG93IiwicmVhZHkiLCJjb3Jkb3ZhIiwicGx1Z2lucyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiZGlzYWJsZVNjcm9sbCIsImlvbmljIiwiUGxhdGZvcm0iLCJpc0Z1bGxTY3JlZW4iLCJTdGF0dXNCYXIiLCJzdHlsZURlZmF1bHQiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRjb21waWxlUHJvdmlkZXIiLCIkaW9uaWNDb25maWdQcm92aWRlciIsImRlYnVnSW5mb0VuYWJsZWQiLCJzdGF0ZSIsImNhY2hlIiwiYWJzdHJhY3QiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJ2aWV3cyIsIm1lbnVDb250ZW50Iiwib3RoZXJ3aXNlIiwiJHNjb3BlIiwiJHN0YXRlIiwiJGNvcmRvdmFHZW9sb2NhdGlvbiIsIiRzdGF0ZVBhcmFtcyIsIiRpb25pY1BvcHVwIiwiTG9jYXRpb25zU2VydmljZSIsIkFwaVNlcnZpY2UiLCJEQlNlcnZpY2UiLCIkaW9uaWNTbGlkZUJveERlbGVnYXRlIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJmb3JtIiwiZWRhZCIsInVsdGltb19uaXZlbF9hcHJvYmFkbyIsInVsdGltb19hbmlvX2Fwcm9iYWRvIiwicGxhbiIsImx1Z2FyIiwicXVlIiwiZG9uZGUiLCJ0dXJubyIsIlNlYXJjaFF1ZVJlc3VsdHMiLCJTZWFyY2hEb25kZVJlc3VsdHMiLCJzZWFyY2hRdWUiLCJzZWFyY2hEb25kZSIsIm9wdGlvbiIsInJlc3RhckVkYWQiLCJzdW1hckVkYWQiLCJzZWxlY3RVbHRpbW9OaXZlbCIsImlkTml2ZWwiLCJpIiwieCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImxlbmd0aCIsImNsYXNzTmFtZSIsImlkIiwic2VsZWN0ZWQiLCJnZXRFbGVtZW50QnlJZCIsInNlbGVjdF90dXJubyIsImlkVHVybm8iLCJzZWxlY3Rfb3B0aW9uIiwiaWRPcHRpb24iLCJvblNlYXJjaENoYW5nZVF1ZSIsInNlYXJjaCIsInNlYXJjaF9zdHIiLCJ2YWx1ZSIsInRyaW0iLCJzZWFyY2hRdWVFc3R1ZGlhciIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJzdHlsZSIsImRpc3BsYXkiLCJoaWRlU2VhcmNoUXVlUmVzdWx0cyIsInNlbGVjdFF1ZUVzdHVkaWFySXRlbSIsImN1cnNvIiwibm9tYnJlIiwibGlzdEFsbFF1ZUVzdHVkaWFyIiwib25TZWFyY2hDaGFuZ2VEb25kZSIsInNlYXJjaERvbmRlRXN0dWRpYXIiLCJoaWRlU2VhcmNoRG9uZGVSZXN1bHRzIiwic2VsZWN0RG9uZGVFc3R1ZGlhckl0ZW0iLCJsb2NfZGVwIiwiZWRpdFNlYXJjaCIsInByZXZpb3VzIiwibmV4dCIsImdvX3RvX21hcCIsImdvIiwiZGIiLCJpbml0REIiLCJpbmZvIiwiY29uc29sZSIsImxvZyIsImJpbmQiLCJnZW9sb2NhdGUiLCJwb3NPcHRpb25zIiwidGltZW91dCIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwic2F2ZV9pbml0aWFsX3Bvc2l0aW9uIiwiZXJyIiwiZ29fdG9fZm9ybSIsIl8iLCIkY29yZG92YUNhbWVyYSIsIiRjb21waWxlIiwiJGlvbmljTW9kYWwiLCJsZWFmbGV0RGF0YSIsIkNvbmZpZ1NlcnZpY2UiLCJQaW5TZXJ2aWNlIiwiQXV0aFNlcnZpY2UiLCJVc2VyU2VydmljZSIsIiR0aW1lb3V0IiwiJGludGVydmFsIiwiJGxvY2F0aW9uIiwiRXJyb3JTZXJ2aWNlIiwiUG9wVXBTZXJ2aWNlIiwiQ29ubmVjdGl2aXR5U2VydmljZSIsIiRjb3Jkb3ZhSW5BcHBCcm93c2VyIiwiTWFwU2VydmljZSIsIk1vZGFsU2VydmljZSIsIlNlbWFwaG9yZVNlcnZpY2UiLCJWYWxpZGF0aW9uU2VydmljZSIsIm9ubGluZV91c2VyX2dlbyIsIm9ubGluZV91c2VyX2dlb19hcnJheSIsIkFycmF5IiwiYmFzZVVSTCIsIkFwcE5hbWUiLCJ1c2VyX2NhY2hlZF9pbWFnZSIsIm9uZV92YWx1ZV9wb3B1cCIsIm15SW50ZXJ2YWxzIiwiJG9uIiwiY2hlY2tOb01vZGFsSXNPcGVuIiwiaXNPbmxpbmUiLCJjaGVja191c2VyX2xvZ2dlZCIsInNldF9vZmZsaW5lX3VzZXIiLCJjcmVhdGVfb25saW5lX21hcCIsImdldE1hcCIsImluaXRpYWxfbGF0IiwiY2VudGVyTWFwT25Db29yZHMiLCJpbml0aWFsX2xuZyIsIm9wZW5XZWJzaXRlIiwib3B0aW9ucyIsImxvY2F0aW9uIiwiY2xlYXJjYWNoZSIsInRvb2xiYXIiLCJvcGVuIiwiZXZlbnQiLCJtYXAiLCJkZWZhdWx0cyIsInRpbGVMYXllciIsIm1pblpvb20iLCJtYXhab29tIiwiem9vbUNvbnRyb2xQb3NpdGlvbiIsIm1hcmtlcnMiLCJldmVudHMiLCJlbmFibGUiLCJsb2dpYyIsImNlbnRlciIsImxvYWRQaW5zTGF5ZXIiLCJsYXQiLCJsbmciLCJ6b29tIiwib24iLCJoaWRlT2ZmU2NyZWVuUGlucyIsImJhY2tfdG9fbWFwIiwiaW1hZ2UiLCJhZGRJbWFnZSIsImlzRnJvbUFsYnVtIiwiaXNVc2VyUGhvdG8iLCJpc0NvbW1lbnRQaG90byIsImlzTmV3VXNlclBob3RvIiwic291cmNlIiwiQ2FtZXJhIiwiUGljdHVyZVNvdXJjZVR5cGUiLCJDQU1FUkEiLCJmaXhfb3JpZW50YXRpb24iLCJzYXZlX3RvX2dhbGxlcnkiLCJQSE9UT0xJQlJBUlkiLCJxdWFsaXR5IiwiZGVzdGluYXRpb25UeXBlIiwiRGVzdGluYXRpb25UeXBlIiwiRklMRV9VUkkiLCJzb3VyY2VUeXBlIiwiYWxsb3dFZGl0IiwiY29ycmVjdE9yaWVudGF0aW9uIiwiZW5jb2RpbmdUeXBlIiwiRW5jb2RpbmdUeXBlIiwiSlBFRyIsInBvcG92ZXJPcHRpb25zIiwiQ2FtZXJhUG9wb3Zlck9wdGlvbnMiLCJzYXZlVG9QaG90b0FsYnVtIiwidGFyZ2V0V2lkdGgiLCJ0YXJnZXRIZWlnaHQiLCJnZXRQaWN0dXJlIiwiaW1hZ2VEYXRhIiwib25JbWFnZVN1Y2Nlc3MiLCJmaWxlVVJJIiwiRmlsZVBhdGgiLCJyZXNvbHZlTmF0aXZlUGF0aCIsInJlc3VsdCIsInN0YXJ0c1dpdGgiLCJwcm9maWxlIiwicGljdHVyZV91cmwiLCJjb21tZW50IiwiZmlsZSIsIm5ld3VzZXIiLCJpbWdVUkkiLCJlcnJvciIsImFsZXJ0IiwidXJsRm9ySW1hZ2UiLCJpbWFnZVVSTCIsIm5hbWUiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsImRhdGFEaXJlY3RvcnkiLCJzY3JvbGxNZSIsImFuY2hvcl9pZCIsImhhc2giLCJoYW5kbGUiLCIkZ2V0QnlIYW5kbGUiLCJhbmNob3JTY3JvbGwiLCJzZXRfYWN0aXZlX29wdGlvbiIsImJ1dHRvbmlkIiwiaGlkZV9zcGVjaWFsX2RpdnMiLCJjbG9zZV9yZXBvcnRfZGV0YWlsX21vZGFsIiwicmVwb3J0X2RldGFpbF9pZCIsImxvY2F0ZSIsImNvb3JkcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibm93IiwibWVzc2FnZSIsImZvY3VzIiwiZHJhZ2dhYmxlIiwiYWRkTWFwQ29udHJvbHMiLCJjaGFuZ2VVc2VyTG9jYXRpb25QaW4iLCJsb24iLCJ1aWQiLCJsYXllciIsIm5ld0xhdExuZyIsIkwiLCJMYXRMbmciLCJzZXRMYXRMbmciLCJtYXBCb3VuZHMiLCJnZXRCb3VuZHMiLCJ1c2Vyc1Zpc2libGUiLCJmb3JFYWNoIiwia2V5Iiwic2hvdWxkQmVWaXNpYmxlIiwiY29udGFpbnMiLCJnZXRMYXRMbmciLCJhZGRMYXllciIsInB1c2giLCJmZWF0dXJlIiwicmVtb3ZlTGF5ZXIiLCJ0aW1lQ29udmVydGVyIiwiVU5JWF90aW1lc3RhbXAiLCJhIiwiRGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXkiLCJnZXREYXRlIiwiaG91ciIsImdldEhvdXJzIiwibWluIiwiZ2V0TWludXRlcyIsInRpbWUiLCJnZXRTZWNvbmRzIiwibW9kZWwiLCJleHRlcm5hbE1vZGVsIiwic2VsZWN0ZWRJdGVtcyIsInByZXNlbGVjdGVkU2VhcmNoSXRlbXMiLCJjbGlja2VkVmFsdWVNb2RlbCIsInJlbW92ZWRWYWx1ZU1vZGVsIiwiaXRlbXNSZW1vdmVkIiwiY2FsbGJhY2siLCJ1c2VyX29wdGlvbnMiLCJtZW51Iiwic2hvd19hbm9ueW1vdXNfbWVudSIsInNob3dfdXNlcl9tZW51IiwiaHRtbCIsImlubmVySFRNTCIsImhlaWdodCIsIndpZHRoIiwiY3JlYXRlX2ZpZWxkX2FycmF5IiwidHlwZSIsImZpZWxkIiwiY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzIiwic2Vjb25kVmFsdWUiLCJmaXhfZmJfaW1hZ2VfbGluayIsImluZGV4T2YiLCJwYXJ0cyIsInNwbGl0IiwibmV3VXJsIiwibG9nX2luIiwidXNlciIsInBhc3N3b3JkIiwidGFrZUlmQXZhaWxhYmxlIiwiZmllbGRzIiwiY2hlY2tfZmllbGRzIiwicmVzcCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bCIsInBob3RvIiwiZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZSIsIlBob3RvIiwic2F2ZV91c2VyX2RhdGEiLCJOYW1lIiwibm9uYXV0aCIsIlNob3dMb2NhdGlvbiIsIlVpZCIsIkVzdGFkbyIsIkdlbmRlciIsIkludGVyZXN0ZWRJbiIsInNhdmVVc2VyIiwic2V0X3VzZXJfcGljdHVyZSIsIm1ha2VBdmFpbGFibGVBZ2FpbiIsImNsb3NlX2xvZ2luX21vZGFsIiwic2hvd19lcnJvcl9tZXNzYWdlIiwic3RhdHVzVGV4dCIsInNob3dfYWxlcnQiLCJsb2dfaW5fYmFja2dyb3VuZCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4Iiwic2lnbl9vdXQiLCJlcmFzZV91c2VyX2RhdGEiLCJlcmFzZVVzZXIiLCJzaG93X2VkaXRfcHJvZmlsZV9tb2RhbCIsImVtYWlsIiwiZ2VuZGVyIiwidXNlcm5hbWUiLCJpbnRlcmVzdGVkIiwic3RhdHVzIiwic2hvd19sb2NhdGlvbiIsImFjdHVhbF9waG90byIsImlzTW9iaWxlRGV2aWNlIiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJoYXJkd2FyZUJhY2tCdXR0b25DbG9zZSIsImFuaW1hdGlvbiIsIm1vZGFsIiwiYWN0aXZlTW9kYWwiLCJzaG93IiwicmVhZFVSTCIsImlucHV0IiwiZmlsZXMiLCJyZXBvcnQiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZSIsInNyYyIsInRhcmdldCIsInJlYWRBc0RhdGFVUkwiLCJjbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwiLCJlZGl0X3Byb2ZpbGVfb2siLCJlZGl0X3Byb2ZpbGUiLCJlZGl0X3JlcXVlc3QiLCJlZGl0X3VzZXIiLCJKU09OIiwicGFyc2UiLCJodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bCIsImNvZGUiLCJodHRwX3N0YXR1cyIsImJvZHkiLCJleGNlcHRpb24iLCJwcm9ncmVzcyIsInVwbG9hZFByb2dyZXNzIiwibG9hZGVkIiwidG90YWwiLCJNYXRoIiwicm91bmQiLCJzdWNjZXNzIiwiaGVhZGVycyIsInNob3dfbG9naW5fbW9kYWwiLCJsb2dpbl9vayIsInNob3dfc2lnbl91cF9tb2RhbCIsImZ1bGxuYW1lIiwiaWRfZG9jIiwidGVsZXBob25lIiwiY2xvc2Vfc2lnbl91cF9tb2RhbCIsInNpZ25fdXAiLCJjcmVhdGVfdXNlciIsImlkZW50aXR5X2RvY3VtZW50IiwicGhvbmUiLCJhbGVydFBvcHVwIiwidGl0bGUiLCJ0ZW1wbGF0ZSIsInJlcyIsInNpZ25fdXBfb2siLCJnZXRVc2VyIiwiZG9jIiwiaGFzUGhvdG8iLCJmaW5kX21lIiwic2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uIiwiZ2V0TWVzc2FnZVNjb3BlIiwib3BlbkNvdW5jaWxTZWxlY3RvciIsImZhY3RvcnkiLCIkaHR0cCIsIkFwaU9iamVjdCIsIl9kYXRhIiwiZXh0ZW5kIiwidGhpcyIsImFwaVVSTCIsInN0ciIsImdldCIsInBhcmFtcyIsImhhc2hfaWQiLCJyYW5kb20iLCJjdXJyZW50IiwiYnVpbGQiLCIkY29yZG92YUZpbGVUcmFuc2ZlciIsInBvc3QiLCJ3aXRoQ3JlZGVudGlhbHMiLCJDb250ZW50LVR5cGUiLCJwYXNzd29yZF9zaWduX2luIiwidXNlck9iaiIsImZpbGVLZXkiLCJ0cnVzdEFsbEhvc3RzIiwidXBsb2FkIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInVuZGVmaW5lZCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsInBhc3N3b3JkX3JlY292ZXJ5IiwibG9naW5fZW1haWwiLCJwYXNzd29yZF9jaGFuZ2UiLCJvbGRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwiQ29uZmlnT2JqIiwiaXNXZWJWaWV3IiwiJGNvcmRvdmFOZXR3b3JrIiwiaXNPZmZsaW5lIiwiJHEiLCJ1c2VyX25hbWUiLCJ1c2VyX3Bhc3N3b3JkIiwidXNlcl9waWN0dXJlX3VybCIsIl9pZCIsIl9yZXYiLCJfZGIiLCJwdXQiLCJyZW1vdmUiLCJQb3VjaERCIiwic2F2ZVJlcG9ydCIsImRhdGUiLCJuZXdfcmVwb3J0X2lkIiwiZ2V0TWlsbGlzZWNvbmRzIiwidXBkYXRlUmVwb3J0IiwiZ2V0Q2F0ZWdvcmllcyIsInNhdmVDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsImdldFJlcG9ydCIsInJlcG9ydElkIiwiZ2V0QWxsUmVwb3J0cyIsImFsbERvY3MiLCJpbmNsdWRlX2RvY3MiLCJhdHRhY2htZW50cyIsInN0YXJ0a2V5IiwiZW5ka2V5IiwiZGVsZXRlUmVwb3J0IiwicmVwb3J0X2lkIiwiZGVsZXRlR2l2ZW5SZXBvcnQiLCJnZXRBbGxEcmlua3NBdmFpbGFibGUiLCJnZXRBbGxJbnZpdGF0aW9uc1dpdGhVc2VyIiwiZGVzdGluYXRpb25fdWlkIiwiYXV0aG9yX3VpZCIsInNlbmREcmlua0ludml0YXRpb25Ub1VzZXIiLCJkcmlua19uaWQiLCJzZW5kRHJpbmtJbnZpdGF0aW9uUmVzcG9uc2UiLCJpbnZpdGF0aW9uX25pZCIsImpzb25SZXN1bHQiLCJlcnJvckNvbnRhaW5lcklkIiwiZXJyb3JEaXYiLCJTdGF0dXMiLCJNZXNzYWdlIiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX3BvcHVwIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cCIsImVycm9ycyIsInZhbGlkYXRlX25vdF9lbXB0eSIsInZhbGlkYXRlX2VtYWlsIiwidmFsaWRhdGVfaWRkb2NfdXkiLCJ2YWxpZGF0ZV90d29fd29yZHMiLCJ2YWxpZGF0ZV9lcXVhbHNUbyIsIiRpb25pY0xvYWRpbmciLCJMT0FERVJBUEkiLCJzaG93TG9hZGluZyIsInRleHQiLCJoaWRlTG9hZGluZyIsImhpZGUiLCJ0b2dnbGVMb2FkaW5nV2l0aE1lc3NhZ2UiLCJzZWxmIiwiY29uZmlybVBvcHVwIiwiY29uZmlybSIsInNob3dBbGVydCIsIl90aXRsZSIsIl90ZW1wbGF0ZSIsImxvY2F0aW9uc09iaiIsImxhc3RfdXNlcl9sYXQiLCJsYXN0X3VzZXJfbG5nIiwiY291bmNpbF9tb2RhbCIsInNlbGVjdGVkX2NvdW5jaWwiLCJzZWxlY3RDb3VuY2lsIiwiY291bmNpbE5hbWUiLCJzYXZlX2xhc3RfdXNlcl9wb3NpdGlvbiIsInNhdmVkTG9jYXRpb25zIiwicHJvajQiLCJkZWZzIiwibWFwU2VydmljZSIsImdvVG9QbGFjZSIsIl9nZW9Kc29uIiwiY3JzIiwicHJvcGVydGllcyIsImZlYXR1cmVzIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsIl9sYXRsbmciLCJQcm9qIiwiZ2VvSnNvbiIsInBvaW50VG9MYXllciIsImxhdGxuZyIsImh0bWxQb3BVcCIsImNvbXBpbGVkIiwibWFya2VyIiwiYmluZFBvcHVwIiwiYWRkVG8iLCJzZXRWaWV3Iiwib3BlblBvcHVwIiwiZ2V0QWxsTWVzc2FnZXNUb1VzZXIiLCJnZXRVc2VySW5mbyIsInNlbmRUZXh0TWVzc2FnZVRvVXNlciIsImNoZWNrV2hvQ2FuVGFsayIsImNhblRhbGtUb1VzZXJzIiwibW9kYWxPQkoiLCJnZXRVbnJlY2l2ZWROb3RpZmljYXRpb25zIiwiZG9udFNob3dOb3RpZmljYXRpb25BZ2FpbiIsIm5pZCIsIlBpbiIsInBpbnNVUkwiLCJnZXRBbGwiLCJzZW5kVXNlckxvY2F0aW9uIiwiX2FsbCIsImxhc3RQaW5zUmVzcG9uc2UiLCJwcm90b3R5cGUiLCJhbGVydF90aXRsZSIsImFsZXJ0X21lc3NhZ2UiLCJhc2tGb3JPbmVWYWx1ZVBvcFVwIiwiZmllbGRfbmFtZSIsInZhbGlkYXRpb25UeXBlIiwibXlQb3B1cCIsInN1YlRpdGxlIiwiYnV0dG9ucyIsIm9uVGFwIiwicHJldmVudERlZmF1bHQiLCJzZW1hcGhvcmVPYmoiLCJzZW1hcGhvcmVzIiwic2VtYXBob3JlSWQiLCJBcGlJbUVuZHBvaW50IiwiQXBpRGF0YUVuZHBvaW50IiwicmVzdFByZWZmaXgiLCJsb2NhdGlvbkFQSSIsInNlYXJjaExvY2F0aW9uQnlTdHIiLCJfbG9jYXRpb24iLCJtZXRob2QiLCJzZWFyY2hFc3F1aW5hQnlTdHIiLCJjYWxsZSIsImVzcXVpbmEiLCJnZXRMb2NhdGlvbkdlb20iLCJnZXRQYXJhbVBhdGhCeVRpcG8iLCJ0aXBvIiwicGF0aFBhcmFtcyIsImdldExvY2F0aW9uR2VvbVBNQiIsImVzcXVpbmFfbnVtZXJvIiwiX3RpcG8iLCJyZXN0R2VvRGF0YVNlcnZpY2VQYXRoIiwiRVNRVUlOQSIsIkRJUkVDQ0lPTiIsIlVzZXJPYmoiLCJnZXRfdXNlcl9kYXRhIiwiYWRkX3Bob3RvIiwiaXNMb2dnZWQiLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJ2IiwicmUiLCJ0ZXN0IiwicmVwbGFjZSIsImRpZyIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiQUFPQSxHQUFJQSxTQUNGQyxZQUFhQyxRQUFRQyxPQUFPLHlCQUM1QkMsU0FBVUYsUUFBUUMsT0FBTyxzQkFHM0JILFFBQU9LLElBQU1ILFFBQVFDLE9BQU8sVUFBVyxRQUFRLGVBQWUsbUJBQW1CLG9CQUFxQixxQkFBc0Isa0JBQW1CLGNBRTlJRyxTQUFTLGlCQUNSQyxJQUFLLGlDQUdORCxTQUFTLG1CQUNSQyxJQUFL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QUssd0pBQ1QsT0FBT0EsR0FBR0MsS0FBSzdnQixHQUVmLE9BQU8sR0FJYnFhLGtCQUFtQixTQUFVcmEsR0FDM0IsR0FBVSxNQUFQQSxHQUFzQixhQUFQQSxHQUE2QixJQUFQQSxFQUFVLENBQzlDQSxFQUFRQSxFQUFNOGdCLFFBQVEsTUFBTyxHQUM3QixJQUFJQyxHQUFNL2dCLEVBQU1BLEVBQU1aLE9BQVMsR0FDM0I2TSxFQUFJLEVBQU9qTixFQUFJLENBQ25CLElBQUdnQixFQUFNWixRQUFVLEVBQ2pCLElBQUlKLEVBQUlnQixFQUFNWixPQUFRSixFQUFJLEVBQUdBLElBQzNCZ0IsRUFBUSxJQUFNQSxDQUdsQixLQUFJaEIsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQ2hCaU4sR0FBTStVLFNBQVMsVUFBVWhpQixJQUFNZ2lCLFNBQVNoaEIsRUFBTWhCLElBQU8sRUFFdkQsSUFBSXVKLEVBTUosT0FKRUEsR0FEQzBELEVBQUUsS0FBTyxFQUNELEVBRUEsR0FBS0EsRUFBSSxHQUVqQjhVLEdBQU94WSxFQU1aLE9BQU8iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW9uaWMgU3RhcnRlciBBcHBcblxuLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdwbWJfaW0nIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgZXhhbXBsZSAoYWxzbyBzZXQgaW4gYSA8Ym9keT4gYXR0cmlidXRlIGluIGluZGV4Lmh0bWwpXG4vLyB0aGUgMm5kIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiAncmVxdWlyZXMnXG4vLyAnc3RhcnRlci5zZXJ2aWNlcycgaXMgZm91bmQgaW4gc2VydmljZXMuanNcbi8vICdzdGFydGVyLmNvbnRyb2xsZXJzJyBpcyBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xudmFyIHBtYl9pbSA9IHtcbiAgY29udHJvbGxlcnM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uY29udHJvbGxlcnMnLCBbXSksXG4gIHNlcnZpY2VzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLnNlcnZpY2VzJywgW10pXG59O1xuXG5wbWJfaW0uYXBwID0gYW5ndWxhci5tb2R1bGUoJ3BtYl9pbScsIFsnaW9uaWMnLCdpb25pYy53aXphcmQnLCdpb24tYXV0b2NvbXBsZXRlJywnbGVhZmxldC1kaXJlY3RpdmUnLCAncG1iX2ltLmNvbnRyb2xsZXJzJywgJ3BtYl9pbS5zZXJ2aWNlcycsICduZ0NvcmRvdmEnXSlcblxuLmNvbnN0YW50KCdBcGlJbUVuZHBvaW50Jywge1xuICB1cmw6ICdodHRwOi8vd3d3Lm1vbnRldmlkZW8uZ3ViLnV5J1xufSlcblxuLmNvbnN0YW50KCdBcGlEYXRhRW5kcG9pbnQnLCB7XG4gIHVybDogJ2h0dHA6Ly9iYWNrZW5kLmVkdWNhY2lvbi50aG9yLmRhdGF1eS5vcmcnXG59KVxuXG5cbi5ydW4oZnVuY3Rpb24oJGlvbmljUGxhdGZvcm0sICRyb290U2NvcGUsICRjb3Jkb3ZhS2V5Ym9hcmQpIHtcbiAgJHJvb3RTY29wZS5WRVJTSU9OID0gd2luZG93LlZFUlNJT047XG4gICRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIC8vIEhpZGUgdGhlIGFjY2Vzc29yeSBiYXIgYnkgZGVmYXVsdCAocmVtb3ZlIHRoaXMgdG8gc2hvdyB0aGUgYWNjZXNzb3J5IGJhciBhYm92ZSB0aGUga2V5Ym9hcmRcbiAgICAvLyBmb3IgZm9ybSBpbnB1dHMpXG4gICAgaWYgKHdpbmRvdy5jb3Jkb3ZhICYmIHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQpIHtcbiAgICAgIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIoZmFsc2UpO1xuICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpO1xuICAgIH1cbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuaGlkZUFjY2Vzc29yeUJhcihmYWxzZSlcbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuZGlzYWJsZVNjcm9sbChmYWxzZSlcbiAgICBpb25pYy5QbGF0Zm9ybS5pc0Z1bGxTY3JlZW4gPSB0cnVlO1xuICAgIGlmICh3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4gICAgICBTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XG4gICAgfVxuICB9KTtcbn0pXG5cbi5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIpIHtcbiAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKTtcbiAgLy8kaW9uaWNDb25maWdQcm92aWRlci5zY3JvbGxpbmcuanNTY3JvbGxpbmcodHJ1ZSk7XG5cbiAgLy8gSW9uaWMgdXNlcyBBbmd1bGFyVUkgUm91dGVyIHdoaWNoIHVzZXMgdGhlIGNvbmNlcHQgb2Ygc3RhdGVzXG4gIC8vIExlYXJuIG1vcmUgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyXG4gIC8vIFNldCB1cCB0aGUgdmFyaW91cyBzdGF0ZXMgd2hpY2ggdGhlIGFwcCBjYW4gYmUgaW4uXG4gIC8vIEVhY2ggc3RhdGUncyBjb250cm9sbGVyIGNhbiBiZSBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xuICAkc3RhdGVQcm92aWRlclxuXG4uc3RhdGUoJ2FwcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9hcHBcIixcbiAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWVudS5odG1sXCIsXG4gICAgY29udHJvbGxlcjogJ0Fic0NvbnRyb2xsZXInXG4gIH0pXG5cbi5zdGF0ZSgnYXBwLm1hcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9tYXBcIixcbiAgICB2aWV3czoge1xuICAgICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWFwLmh0bWxcIixcbiAgICAgICAgY29udHJvbGxlciA6IFwiTWFwQ29udHJvbGxlclwiXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4uc3RhdGUoJ2FwcC5mb3JtJywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvZm9ybVwiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9mb3JtLmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXIgOiBcIkZvcm1DdHJsXCJcbiAgICB9XG4gIH1cbn0pXG5cbi5zdGF0ZSgnYXBwLmludHJvJywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvaW50cm9cIixcbiAgdmlld3M6IHtcbiAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvaW50cm8uaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiSW50cm9DdHJsXCJcbiAgICB9XG4gIH1cbn0pXG5cbi8vIGlmIG5vbmUgb2YgdGhlIGFib3ZlIHN0YXRlcyBhcmUgbWF0Y2hlZCwgdXNlIHRoaXMgYXMgdGhlIGZhbGxiYWNrXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvYXBwL2ludHJvJyk7XG5cbn0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0Fic0NvbnRyb2xsZXInLFxuWyckc2NvcGUnLFxuZnVuY3Rpb24oJHNjb3BlKSB7XG5cbn1dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdGb3JtQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0FwaVNlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxuICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGNvcmRvdmFHZW9sb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCAkaW9uaWNQbGF0Zm9ybSwgJGlvbmljUG9wdXAsIExvY2F0aW9uc1NlcnZpY2UsIEFwaVNlcnZpY2UsIERCU2VydmljZSwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSxcbiAgJGlvbmljU2Nyb2xsRGVsZWdhdGUpIHtcblxuICAgICRzY29wZS5mb3JtID0ge307XG4gICAgJHNjb3BlLmZvcm0uZWRhZCA9IDE2O1xuICAgICRzY29wZS5mb3JtLnVsdGltb19uaXZlbF9hcHJvYmFkbyA9IFwicHJpbWFyaWFcIjtcbiAgICAkc2NvcGUuZm9ybS51bHRpbW9fYW5pb19hcHJvYmFkbyA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0ucGxhbiA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0ubHVnYXIgPSBcIlwiO1xuICAgICRzY29wZS5mb3JtLnF1ZSA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0uZG9uZGUgPSB7fTtcbiAgICAkc2NvcGUuZm9ybS50dXJubyA9IFwibWF0dXRpbm9cIjtcbiAgICAkc2NvcGUuZm9ybS5TZWFyY2hRdWVSZXN1bHRzID0ge307XG4gICAgJHNjb3BlLmZvcm0uU2VhcmNoRG9uZGVSZXN1bHRzID0ge307XG4gICAgJHNjb3BlLmZvcm0uc2VhcmNoUXVlID0gXCJcIjtcbiAgICAkc2NvcGUuZm9ybS5zZWFyY2hEb25kZSA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0ub3B0aW9uID0gXCJsaXN0XCI7XG5cbiAgICAkc2NvcGUucmVzdGFyRWRhZCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZigkc2NvcGUuZm9ybS5lZGFkID4gNCl7XG4gICAgICAgICRzY29wZS5mb3JtLmVkYWQgPSAkc2NvcGUuZm9ybS5lZGFkIC0gMTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLnN1bWFyRWRhZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuZm9ybS5lZGFkID0gJHNjb3BlLmZvcm0uZWRhZCArIDE7XG4gICAgfTtcblxuICAgICRzY29wZS5zZWxlY3RVbHRpbW9OaXZlbCA9IGZ1bmN0aW9uKGlkTml2ZWwpe1xuICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibml2ZWxcIik7XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgeFtpXS5jbGFzc05hbWUgPSBcIm5pdmVsX1wiK3hbaV0uaWQgK1wiIG5pdmVsIGhpZGRlblwiO1xuICAgICAgfVxuICAgICAgdmFyIHNlbGVjdGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWROaXZlbCk7XG4gICAgICBzZWxlY3RlZC5jbGFzc05hbWUgPSBcIm5pdmVsX1wiK3NlbGVjdGVkLmlkICtcIiBuaXZlbFwiO1xuICAgICAgJHNjb3BlLmZvcm0udWx0aW1vX25pdmVsX2Fwcm9iYWRvID0gaWROaXZlbDtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2VsZWN0X3R1cm5vID0gZnVuY3Rpb24oaWRUdXJubyl7XG4gICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0dXJub3NcIik7XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgeFtpXS5jbGFzc05hbWUgPSBcInR1cm5vcyB0dXJub19cIisgeFtpXS5pZCArXCJfb2ZmXCI7XG4gICAgICB9XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZFR1cm5vKTtcbiAgICAgIHNlbGVjdGVkLmNsYXNzTmFtZSA9IFwidHVybm9zIHR1cm5vX1wiKyBpZFR1cm5vO1xuICAgICAgJHNjb3BlLmZvcm0udHVybm8gPSBpZFR1cm5vO1xuICAgIH1cblxuICAgICRzY29wZS5zZWxlY3Rfb3B0aW9uID0gZnVuY3Rpb24oaWRPcHRpb24pe1xuICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwib3B0aW9uc1wiKTtcbiAgICAgIHZhciBpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB4W2ldLmNsYXNzTmFtZSA9IFwib3B0aW9ucyBvcHRpb25fXCIrIHhbaV0uaWQgK1wiX29mZlwiO1xuICAgICAgfVxuICAgICAgdmFyIHNlbGVjdGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRPcHRpb24pO1xuICAgICAgc2VsZWN0ZWQuY2xhc3NOYW1lID0gXCJvcHRpb25zIG9wdGlvbl9cIisgaWRPcHRpb247XG4gICAgICAkc2NvcGUuZm9ybS5vcHRpb24gPSBpZE9wdGlvbjtcbiAgICB9XG5cbiAgICAkc2NvcGUub25TZWFyY2hDaGFuZ2VRdWUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlX2VzdHVkaWFyXCIpO1xuICAgICAgdmFyIHNlYXJjaF9zdHIgPSBzZWFyY2gudmFsdWUudHJpbSgpO1xuICAgICAgaWYoc2VhcmNoX3N0ci5sZW5ndGg+PTMpe1xuICAgICAgICBBcGlTZXJ2aWNlLnNlYXJjaFF1ZUVzdHVkaWFyKHNlYXJjaF9zdHIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgJHNjb3BlLmZvcm0uU2VhcmNoUXVlUmVzdWx0cyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJTZWFyY2hRdWVSZXN1bHRzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgICRzY29wZS5oaWRlU2VhcmNoUXVlUmVzdWx0cygpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5oaWRlU2VhcmNoUXVlUmVzdWx0cyA9IGZ1bmN0aW9uKCl7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlNlYXJjaFF1ZVJlc3VsdHNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgICRzY29wZS5zZWxlY3RRdWVFc3R1ZGlhckl0ZW0gPSBmdW5jdGlvbihjdXJzbyl7XG4gICAgICAkc2NvcGUuZm9ybS5xdWUgPSBjdXJzbztcbiAgICAgICRzY29wZS5oaWRlU2VhcmNoUXVlUmVzdWx0cygpO1xuICAgICAgJHNjb3BlLmZvcm0uc2VhcmNoUXVlID0gY3Vyc28ubm9tYnJlO1xuICAgIH1cblxuICAgICRzY29wZS5saXN0QWxsUXVlRXN0dWRpYXIgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIHNlYXJjaF9zdHIgPSBcImFwaS1nZXQtYWxsXCI7XG4gICAgICAgIEFwaVNlcnZpY2Uuc2VhcmNoUXVlRXN0dWRpYXIoc2VhcmNoX3N0cikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAkc2NvcGUuZm9ybS5TZWFyY2hRdWVSZXN1bHRzID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlNlYXJjaFF1ZVJlc3VsdHNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9uU2VhcmNoQ2hhbmdlRG9uZGUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZG9uZGVfZXN0dWRpYXJcIik7XG4gICAgICB2YXIgc2VhcmNoX3N0ciA9IHNlYXJjaC52YWx1ZS50cmltKCk7XG4gICAgICBpZihzZWFyY2hfc3RyLmxlbmd0aD49Myl7XG4gICAgICAgIEFwaVNlcnZpY2Uuc2VhcmNoRG9uZGVFc3R1ZGlhcihzZWFyY2hfc3RyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICRzY29wZS5mb3JtLlNlYXJjaERvbmRlUmVzdWx0cyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJTZWFyY2hEb25kZVJlc3VsdHNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJHNjb3BlLmhpZGVTZWFyY2hEb25kZVJlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZVNlYXJjaERvbmRlUmVzdWx0cyA9IGZ1bmN0aW9uKCl7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlNlYXJjaERvbmRlUmVzdWx0c1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlbGVjdERvbmRlRXN0dWRpYXJJdGVtID0gZnVuY3Rpb24oZG9uZGUpe1xuICAgICAgJHNjb3BlLmZvcm0uZG9uZGUgPSBkb25kZTtcbiAgICAgICRzY29wZS5oaWRlU2VhcmNoRG9uZGVSZXN1bHRzKCk7XG4gICAgICAkc2NvcGUuZm9ybS5zZWFyY2hEb25kZSA9IGRvbmRlLmxvY19kZXA7XG4gICAgfVxuXG4gICAgJHNjb3BlLmVkaXRTZWFyY2ggPSBmdW5jdGlvbigpe1xuICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5wcmV2aW91cygpO1xuICAgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5wcmV2aW91cygpO1xuICAgIH1cblxuXHQgICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLm5leHQoKTtcblx0ICB9O1xuXG5cdCAgJHNjb3BlLnByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLnByZXZpb3VzKCk7XG5cdCAgfTtcblxuXHQgICRzY29wZS5nb190b19tYXAgPSBmdW5jdGlvbigpe1xuXHQgICAgJHN0YXRlLmdvKFwiYXBwLm1hcFwiKTtcblx0ICB9XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignSW50cm9DdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJyxcbiAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAnJHN0YXRlUGFyYW1zJyxcbiAgJyRpb25pY1BsYXRmb3JtJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ0xvY2F0aW9uc1NlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRjb3Jkb3ZhR2VvbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgJGlvbmljUGxhdGZvcm0sICRpb25pY1BvcHVwLCBMb2NhdGlvbnNTZXJ2aWNlLCBEQlNlcnZpY2UpIHtcblxuICB2YXIgZGIgPSBEQlNlcnZpY2UuaW5pdERCKCk7XG4gIGRiLmluZm8oKS50aGVuKGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkpO1xuXG4gICRzY29wZS5nZW9sb2NhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMzUwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAudGhlbihmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9pbml0aWFsX3Bvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAuZm9ybVwiKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLmZvcm1cIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgJHNjb3BlLmdvX3RvX2Zvcm0gPSBmdW5jdGlvbigpe1xuICAgICRzdGF0ZS5nbyhcImFwcC5mb3JtXCIpO1xuICB9XG5cbiAgIC8qJHNjb3BlLiRvbignJGlvbmljVmlldy5lbnRlcicsIGZ1bmN0aW9uKCl7XG4gICB9KTsqL1xuXG5cblxuICB9XG5dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdNYXBDb250cm9sbGVyJywgWyckc2NvcGUnLCAnXycsXG4gICckY29yZG92YUNhbWVyYScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRjb21waWxlJyxcbiAgJyRpb25pY01vZGFsJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ2xlYWZsZXREYXRhJyxcbiAgJ0NvbmZpZ1NlcnZpY2UnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdQaW5TZXJ2aWNlJyxcbiAgJ0F1dGhTZXJ2aWNlJyxcbiAgJ1VzZXJTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gICckdGltZW91dCcsXG4gICckaW50ZXJ2YWwnLFxuICAnJGxvY2F0aW9uJyxcbiAgJ0Vycm9yU2VydmljZScsXG4gICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgJyRpb25pY1Njcm9sbERlbGVnYXRlJyxcbiAgJ1BvcFVwU2VydmljZScsXG4gICdDb25uZWN0aXZpdHlTZXJ2aWNlJyxcbiAgJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJyxcbiAgJ01hcFNlcnZpY2UnLFxuICAnTW9kYWxTZXJ2aWNlJyxcbiAgJ1NlbWFwaG9yZVNlcnZpY2UnLFxuICAnVmFsaWRhdGlvblNlcnZpY2UnLFxuICBmdW5jdGlvbihcbiAgICAkc2NvcGUsXG4gICAgXyxcbiAgICAkY29yZG92YUNhbWVyYSxcbiAgICAkY29yZG92YUdlb2xvY2F0aW9uLFxuICAgICRjb21waWxlLFxuICAgICRpb25pY01vZGFsLFxuICAgICRpb25pY1BvcHVwLFxuICAgIGxlYWZsZXREYXRhLFxuICAgIENvbmZpZ1NlcnZpY2UsXG4gICAgTG9jYXRpb25zU2VydmljZSxcbiAgICBQaW5TZXJ2aWNlLFxuICAgIEF1dGhTZXJ2aWNlLFxuICAgIFVzZXJTZXJ2aWNlLFxuICAgIERCU2VydmljZSxcbiAgICAkdGltZW91dCxcbiAgICAkaW50ZXJ2YWwsXG4gICAgJGxvY2F0aW9uLFxuICAgIEVycm9yU2VydmljZSxcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLFxuICAgICRpb25pY1Njcm9sbERlbGVnYXRlLFxuICAgIFBvcFVwU2VydmljZSxcbiAgICBDb25uZWN0aXZpdHlTZXJ2aWNlLFxuICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLFxuICAgIE1hcFNlcnZpY2UsXG4gICAgTW9kYWxTZXJ2aWNlLFxuICAgIFNlbWFwaG9yZVNlcnZpY2UsXG4gICAgVmFsaWRhdGlvblNlcnZpY2VcbiAgKSB7XG5cbiAgICAvKipcbiAgICAgKiBPbmNlIHN0YXRlIGxvYWRlZCwgZ2V0IHB1dCBtYXAgb24gc2NvcGUuXG4gICAgICovXG4gICAgJHNjb3BlLm9ubGluZV91c2VyX2dlbyA9IHt9O1xuICAgICRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXkgPSBuZXcgQXJyYXkoKTtcbiAgICAkc2NvcGUuYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcbiAgICAkc2NvcGUuQXBwTmFtZSA9IENvbmZpZ1NlcnZpY2UuQXBwTmFtZTtcbiAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2UgPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgJHNjb3BlLm9uZV92YWx1ZV9wb3B1cCA9IG51bGw7XG4gICAgJHNjb3BlLm15SW50ZXJ2YWxzID0gbmV3IEFycmF5KCk7XG5cbiAgICAkc2NvcGUuJG9uKFwiJGlvbmljVmlldy5iZWZvcmVFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgIERCU2VydmljZS5pbml0REIoKTtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgfWVsc2V7XG4gICAgICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyKCk7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmFmdGVyRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWFwID0gbGVhZmxldERhdGEuZ2V0TWFwKCk7XG4gICAgICBpZihMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0IT1cIlwiKXtcbiAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyhMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0LCBMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbG5nLCAxNik7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcygtMzQuOTAxMTEzLCAtNTYuMTY0NTMxLCAxNCk7XG4gICAgICB9XG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfSk7XG5cblxuICAgICRzY29wZS5vcGVuV2Vic2l0ZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246ICdubycsXG4gICAgICAgICAgICAgICAgY2xlYXJjYWNoZTogJ3llcycsXG4gICAgICAgICAgICAgICAgdG9vbGJhcjogJ25vJ1xuICAgICAgICAgICAgfTtcblxuICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKHVybCwgJ19ibGFuaycsIG9wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNyZWF0ZV9vbmxpbmVfbWFwID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5tYXAgPSB7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgdGlsZUxheWVyOiAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLFxuICAgICAgICAgIG1pblpvb206IDEsXG4gICAgICAgICAgbWF4Wm9vbTogMTgsXG4gICAgICAgICAgem9vbUNvbnRyb2xQb3NpdGlvbjogJ3RvcGxlZnQnLFxuICAgICAgICB9LFxuICAgICAgICBtYXJrZXJzOiB7fSxcbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgbWFwOiB7XG4gICAgICAgICAgICBlbmFibGU6IFsnY29udGV4dCddLFxuICAgICAgICAgICAgbG9naWM6ICdlbWl0J1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAkc2NvcGUubG9hZFBpbnNMYXllcigpO1xuICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSB7XG4gICAgICAgICAgbGF0OiAtMzQuOTAxMTEzLFxuICAgICAgICAgIGxuZzogLTU2LjE2NDUzMSxcbiAgICAgICAgICB6b29tOiAxNlxuICAgICAgICB9O1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLm9uKCdtb3ZlZW5kJywgJHNjb3BlLmhpZGVPZmZTY3JlZW5QaW5zKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5uZXh0KCk7XG4gIH07XG5cbiAgJHNjb3BlLnByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5wcmV2aW91cygpO1xuICB9O1xuXG4gICRzY29wZS5iYWNrX3RvX21hcCA9IGZ1bmN0aW9uKGJhY2tfdG9fbWFwKXtcbiAgICBpZihiYWNrX3RvX21hcCl7XG4gICAgICAvL0xvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQgPSAkc2NvcGUucmVwb3J0LmxhdDtcbiAgICAgIC8vTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xuZyA9ICRzY29wZS5yZXBvcnQubG9uO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAvLyRzY29wZS5hZGRSZXBvcnRzTGF5ZXIoKTtcbiAgICB9ZWxzZXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG5cbiAgJHNjb3BlLmltYWdlID0gbnVsbDtcblxuICAkc2NvcGUuYWRkSW1hZ2UgPSBmdW5jdGlvbihpc0Zyb21BbGJ1bSwgaXNVc2VyUGhvdG8sIGlzQ29tbWVudFBob3RvLCBpc05ld1VzZXJQaG90bykge1xuICAgIC8vYWxlcnQoXCJhZGRJbWFnZVwiKTtcbiAgICAkc2NvcGUuaXNVc2VyUGhvdG8gPSBpc1VzZXJQaG90bztcbiAgICAkc2NvcGUuaXNDb21tZW50UGhvdG8gPSBpc0NvbW1lbnRQaG90bztcbiAgICAkc2NvcGUuaXNOZXdVc2VyUGhvdG8gPSBpc05ld1VzZXJQaG90bztcblxuICAgIHZhciBzb3VyY2UgPSBDYW1lcmEuUGljdHVyZVNvdXJjZVR5cGUuQ0FNRVJBO1xuICAgIHZhciBmaXhfb3JpZW50YXRpb24gPSB0cnVlO1xuICAgIHZhciBzYXZlX3RvX2dhbGxlcnkgPSB0cnVlO1xuICAgIGlmKGlzRnJvbUFsYnVtPT0xKXtcbiAgICAgIHNvdXJjZSA9IENhbWVyYS5QaWN0dXJlU291cmNlVHlwZS5QSE9UT0xJQlJBUlk7XG4gICAgICBmaXhfb3JpZW50YXRpb24gPSBmYWxzZTtcbiAgICAgIHNhdmVfdG9fZ2FsbGVyeSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgcXVhbGl0eTogOTAsXG4gICAgICBkZXN0aW5hdGlvblR5cGU6IENhbWVyYS5EZXN0aW5hdGlvblR5cGUuRklMRV9VUkksXG4gICAgICBzb3VyY2VUeXBlOiBzb3VyY2UsXG4gICAgICBhbGxvd0VkaXQ6IGZhbHNlLFxuICAgICAgY29ycmVjdE9yaWVudGF0aW9uIDogZml4X29yaWVudGF0aW9uLFxuICAgICAgZW5jb2RpbmdUeXBlOiBDYW1lcmEuRW5jb2RpbmdUeXBlLkpQRUcsXG4gICAgICBwb3BvdmVyT3B0aW9uczogQ2FtZXJhUG9wb3Zlck9wdGlvbnMsXG4gICAgICBzYXZlVG9QaG90b0FsYnVtOiBzYXZlX3RvX2dhbGxlcnksXG4gICAgICB0YXJnZXRXaWR0aDogNTAwLFxuICAgICAgdGFyZ2V0SGVpZ2h0OiA1MDBcbiAgICB9O1xuXG5cbiAgICAkY29yZG92YUNhbWVyYS5nZXRQaWN0dXJlKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oaW1hZ2VEYXRhKSB7XG4gICAgICBvbkltYWdlU3VjY2VzcyhpbWFnZURhdGEpO1xuXG4gICAgICBmdW5jdGlvbiBvbkltYWdlU3VjY2VzcyhmaWxlVVJJKSB7XG4gICAgICAgIHdpbmRvdy5GaWxlUGF0aC5yZXNvbHZlTmF0aXZlUGF0aChmaWxlVVJJLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAvLyBvblN1Y2Nlc3MgY29kZVxuICAgICAgICAgIC8vYWxlcnQocmVzdWx0KTtcbiAgICAgICAgICBmaWxlVVJJID0gJ2ZpbGU6Ly8nICsgcmVzdWx0O1xuICAgICAgICAgIGlmKHJlc3VsdC5zdGFydHNXaXRoKFwiZmlsZTovL1wiKSl7XG4gICAgICAgICAgICBmaWxlVVJJID0gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZigkc2NvcGUuaXNVc2VyUGhvdG89PTEpe1xuICAgICAgICAgICAgLy9Vc2VyU2VydmljZS5hZGRfcGhvdG8oZmlsZVVSSSk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5waWN0dXJlX3VybCA9IGZpbGVVUkk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZigkc2NvcGUuaXNDb21tZW50UGhvdG89PTEpe1xuICAgICAgICAgICAgICAkc2NvcGUuY29tbWVudC5maWxlID0gZmlsZVVSSTtcbiAgICAgICAgICAgIH1lbHNlIGlmKCRzY29wZS5pc05ld1VzZXJQaG90bz09MSl7XG4gICAgICAgICAgICAgICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsID0gZmlsZVVSSTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgJHNjb3BlLmltZ1VSSSA9IGZpbGVVUkk7XG4gICAgICAgICAgLy9jcmVhdGVGaWxlRW50cnkoZmlsZVVSSSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgYWxlcnQoXCJFcnJvciByZXNvbHZlTmF0aXZlUGF0aFwiICsgZXJyb3IpO1xuICAgICAgICB9KTtcblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVGaWxlRW50cnkoZmlsZVVSSSkge1xuICAgICAgICB3aW5kb3cucmVzb2x2ZUxvY2FsRmlsZVN5c3RlbVVSTChmaWxlVVJJLCBjb3B5RmlsZSwgZmFpbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIDVcbiAgICAgIGZ1bmN0aW9uIGNvcHlGaWxlKGZpbGVFbnRyeSkge1xuICAgICAgICB2YXIgbmFtZSA9IGZpbGVFbnRyeS5mdWxsUGF0aC5zdWJzdHIoZmlsZUVudHJ5LmZ1bGxQYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgICAgdmFyIG5ld05hbWUgPSBtYWtlaWQoKSArIG5hbWU7XG5cbiAgICAgICAgd2luZG93LnJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkwoY29yZG92YS5maWxlLmRhdGFEaXJlY3RvcnksIGZ1bmN0aW9uKGZpbGVTeXN0ZW0yKSB7XG4gICAgICAgICAgICBmaWxlRW50cnkuY29weVRvKFxuICAgICAgICAgICAgICBmaWxlU3lzdGVtMixcbiAgICAgICAgICAgICAgbmV3TmFtZSxcbiAgICAgICAgICAgICAgb25Db3B5U3VjY2VzcyxcbiAgICAgICAgICAgICAgZmFpbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWwpO1xuICAgICAgfVxuXG4gICAgICAvLyA2XG4gICAgICBmdW5jdGlvbiBvbkNvcHlTdWNjZXNzKGVudHJ5KSB7XG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmltYWdlID0gZW50cnkubmF0aXZlVVJMO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmFpbChlcnJvcikge1xuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG1ha2VpZCgpIHtcbiAgICAgICAgdmFyIHRleHQgPSBcIlwiO1xuICAgICAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cblxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS51cmxGb3JJbWFnZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbWFnZVVSTCA9IFwiaHR0cDovL3BsYWNlaG9sZC5pdC8yMDB4MjAwXCI7XG4gICAgaWYgKCRzY29wZS5pbWFnZSkge1xuICAgICAgdmFyIG5hbWUgPSAkc2NvcGUuaW1hZ2Uuc3Vic3RyKCRzY29wZS5pbWFnZS5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICBpbWFnZVVSTCA9IGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5ICsgbmFtZTtcbiAgICB9XG4gICAgLy9jb25zb2xlLmxvZyhcIkltYWdlVVJMID0gXCIgKyBpbWFnZVVSTCk7XG4gICAgcmV0dXJuIGltYWdlVVJMO1xuICB9O1xuXG5cbiAgICAkc2NvcGUuc2Nyb2xsTWUgPSBmdW5jdGlvbihhbmNob3JfaWQpe1xuICAgICAgJGxvY2F0aW9uLmhhc2goYW5jaG9yX2lkKTtcbiAgICAgIHZhciBoYW5kbGUgID0gJGlvbmljU2Nyb2xsRGVsZWdhdGUuJGdldEJ5SGFuZGxlKCdjb250ZW50Jyk7XG4gICAgICBoYW5kbGUuYW5jaG9yU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uID0gZnVuY3Rpb24oYnV0dG9uaWQpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbmlkKS5jbGFzc05hbWUgPSBcIm9wdGlvbi1hY3RpdmVcIjtcbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9yZXBvcnRfZGV0YWlsX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRzY29wZS5yZXBvcnRfZGV0YWlsX2lkID0gbnVsbDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENlbnRlciBtYXAgb24gdXNlcidzIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgKi9cbiAgICAkc2NvcGUubG9jYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbigpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubGF0ID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxuZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE1O1xuXG4gICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzLm5vdyA9IHtcbiAgICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJZb3UgQXJlIEhlcmVcIixcbiAgICAgICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiTG9jYXRpb24gZXJyb3IhXCIpO1xuICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG5cblxuICAgICRzY29wZS5hZGRNYXBDb250cm9scyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwX2Nyb3NzaGFpcicpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwX2Nyb3NzaGFpcl9idXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgfTtcblxuXG4gICAgJHNjb3BlLmNoYW5nZVVzZXJMb2NhdGlvblBpbiA9IGZ1bmN0aW9uKGxhdCxsb24sdWlkKXtcbiAgICAgIGlmKCRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXlbdWlkXSl7XG4gICAgICAgIGxheWVyID0gJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheVt1aWRdO1xuICAgICAgICB2YXIgbmV3TGF0TG5nID0gbmV3IEwuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgbGF5ZXIuc2V0TGF0TG5nKG5ld0xhdExuZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmhpZGVPZmZTY3JlZW5QaW5zID0gZnVuY3Rpb24oKSB7XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgbWFwQm91bmRzID0gbWFwLmdldEJvdW5kcygpO1xuICAgICAgICAkc2NvcGUudXNlcnNWaXNpYmxlID0gW107XG4gICAgICAgICAgJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyLGtleSl7XG4gICAgICAgICAgICB2YXIgc2hvdWxkQmVWaXNpYmxlID0gbWFwQm91bmRzLmNvbnRhaW5zKGxheWVyLmdldExhdExuZygpKTtcbiAgICAgICAgICAgIGlmICghc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbWFwLmFkZExheWVyKGxheWVyKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudXNlcnNWaXNpYmxlLnB1c2gobGF5ZXIuZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5sb2FkUGluc0xheWVyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgLypkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgICBQaW5TZXJ2aWNlLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZihQaW5TZXJ2aWNlLmxhc3RQaW5zUmVzcG9uc2U9PW51bGwgfHwgKFBpblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZSAmJiBQaW5TZXJ2aWNlLmxhc3RQaW5zUmVzcG9uc2UhPXJlc3BvbnNlKSl7XG4gICAgICAgICAgICAgIGlmKCRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXkpe1xuICAgICAgICAgICAgICAgICRzY29wZS51c2Vyc1Zpc2libGUgPSBbXTtcbiAgICAgICAgICAgICAgICAkc2NvcGUub25saW5lX3VzZXJfZ2VvX2FycmF5LmZvckVhY2goZnVuY3Rpb24obGF5ZXIsa2V5KXtcbiAgICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBQaW5TZXJ2aWNlLmxhc3RQaW5zUmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHNCeVN0YXRlID0ge307XG4gICAgICAgICAgICAgIHZhciBwaW5zQXJyYXkgPSByZXNwb25zZS5kYXRhLmZlYXR1cmVzO1xuICAgICAgICAgICAgICAkc2NvcGUub25saW5lX3VzZXJzX2dlbyA9IHJlc3BvbnNlLmRhdGEuZmVhdHVyZXM7XG4gICAgICAgICAgICAgIHBpbnNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGZlYXR1cmUpe1xuICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvbiA9IGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSBmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdO1xuICAgICAgICAgICAgICAgICAgICBpZihsb24mJmxhdCl7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIG9ubGluZVN0YXR1cyA9IGZlYXR1cmUucHJvcGVydGllcy5PbmxpbmVfc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uID0gZmVhdHVyZS5wcm9wZXJ0aWVzLkljb247XG4gICAgICAgICAgICAgICAgICAgICAgaWYoaWNvbj09XCJhbm9uXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbiA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGljb25fc2hhZG93ID0gJy4vaW1nL2dlbmVyaWNfcGluX3JlZC5wbmcnO1xuICAgICAgICAgICAgICAgICAgICAgIGlmKG9ubGluZVN0YXR1cz09XCJPbmxpbmVcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uX3NoYWRvdyA9ICcuL2ltZy9nZW5lcmljX3Bpbl9ncmVlbi5wbmcnO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dVcmw6IGljb25fc2hhZG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93U2l6ZTogICBbMTAwLCAxMzhdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93QW5jaG9yOiBbNDQsIDEzOF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiBpY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs0NiwgNDZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzI0LCAxMjBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtMTM4XVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXllciA9IEwubWFya2VyKFtsYXQsIGxvbl0sIHtpY29uOiBtYXJrZXJJY29ufSk7XG4gICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuZmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheVtsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuVWlkXSA9IGxheWVyO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMpIHtcblx0XHRcdC8vQUNBIFNFVEVBUiBFTCBPTkNMSUNLIFBBUkEgTE9TIFBJTkVTIChzZSBwdWVkZSBhYnJpciBwb3B1cCBlbiBlbCBtYXBhIG8gbGV2YW50YXIgdW4gbW9kYWwgbyBsbyBxdWUgcXVpZXJhbilcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICRzY29wZS5oaWRlT2ZmU2NyZWVuUGlucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pOyovXG4gICAgfVxuXG4gICAgLy9QQVJBIENPTlRST0xBUiBFTCBFTlRFUiBFTiBBTEdVTk9TIEZPUk1TXG4gICAgLyokc2NvcGUua2V5X3ByZXNzID0gZnVuY3Rpb24oZXZlbnQsc3RhZ2Upe1xuICAgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgICAgaWYoc3RhZ2U9PSdwcml2YXRlX2NoYXQnKXtcbiAgICAgICAgaWYoa2V5Q29kZT09MTMpe1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZihjb3Jkb3ZhPT09bnVsbCl7XG5cbiAgICAgICAgICAgIH1lbHNlIGlmKGNvcmRvdmEmJmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZCl7XG4gICAgICAgICAgICAgIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjYXRjaChlcnIpIHtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0qL1xuXG5cbiAgICAkc2NvcGUudGltZUNvbnZlcnRlciA9IGZ1bmN0aW9uKFVOSVhfdGltZXN0YW1wKXtcbiAgICAgIHZhciBhID0gbmV3IERhdGUoVU5JWF90aW1lc3RhbXAgKiAxMDAwKTtcbiAgICAgIHZhciBtb250aHMgPSBbJ0VuZXJvJywnRmVicmVybycsJ01hcnpvJywnQWJyaWwnLCdNYXlvJywnSnVuaW8nLCdKdWxpbycsJ0Fnb3N0bycsJ1NldGllbWJyZScsJ09jdHVicmUnLCdOb3ZpZW1icmUnLCdEaWNpZW1icmUnXTtcbiAgICAgIHZhciB5ZWFyID0gYS5nZXRGdWxsWWVhcigpO1xuICAgICAgLy92YXIgbW9udGggPSBtb250aHNbYS5nZXRNb250aCgpXTtcbiAgICAgIHZhciBtb250aCA9IGEuZ2V0TW9udGgoKTtcbiAgICAgIGlmKG1vbnRoPDEwKXtcbiAgICAgICAgbW9udGggPSBcIjBcIittb250aDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXkgPSBhLmdldERhdGUoKTtcbiAgICAgIGlmKGRheTwxMCl7XG4gICAgICAgIGRheSA9IFwiMFwiK2RheTtcbiAgICAgIH1cbiAgICAgIHZhciBob3VyID0gYS5nZXRIb3VycygpO1xuICAgICAgaWYoaG91cjwxMCl7XG4gICAgICAgIGhvdXIgPSBcIjBcIitob3VyO1xuICAgICAgfVxuICAgICAgdmFyIG1pbiA9IGEuZ2V0TWludXRlcygpO1xuICAgICAgaWYobWluPDEwKXtcbiAgICAgICAgbWluID0gXCIwXCIrbWluO1xuICAgICAgfVxuICAgICAgdmFyIHNlYyA9IGEuZ2V0U2Vjb25kcygpO1xuICAgICAgdmFyIHRpbWUgPSBkYXkgKyAnLycgKyBtb250aCArICcvJyArIHllYXIgKyAnICcgKyBob3VyICsgJzonICsgbWluO1xuICAgICAgcmV0dXJuIHRpbWU7XG4gICAgfVxuXG5cblxuICAgIC8vIFN1Z2dlc3Rpb25cbiAgICAkc2NvcGUubW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuZXh0ZXJuYWxNb2RlbCA9IFtdO1xuICAgICRzY29wZS5zZWxlY3RlZEl0ZW1zID0gW107XG4gICAgJHNjb3BlLnByZXNlbGVjdGVkU2VhcmNoSXRlbXMgPSBbXTtcbiAgICAkc2NvcGUuY2xpY2tlZFZhbHVlTW9kZWwgPSBcIlwiO1xuICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IFwiXCI7XG5cblxuICAgICRzY29wZS5pdGVtc1JlbW92ZWQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJHNjb3BlLnJlbW92ZWRWYWx1ZU1vZGVsID0gY2FsbGJhY2s7XG4gICAgfTtcblxuICAgICRzY29wZS51c2VyX29wdGlvbnMgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgaWYobWVudS5zdHlsZS5kaXNwbGF5PT1cImJsb2NrXCIpe1xuICAgICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1lbHNle1xuICAgICAgICAvL2NvbnNvbGUubG9nKFVzZXJTZXJ2aWNlLm5hbWUpO1xuICAgICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICAgIGlmKG5hbWU9PW51bGwpe1xuICAgICAgICAgIC8vTm8gZXN0YSBsb2d1ZWFkb1xuICAgICAgICAgICRzY29wZS5zaG93X2Fub255bW91c19tZW51KCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgICAkc2NvcGUuc2hvd191c2VyX21lbnUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zaG93X2Fub255bW91c19tZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIHZhciBodG1sID0gXCI8ZGl2IGlkPSdhdXRoX29wdGlvbnMnPjxkaXYgY2xhc3M9J25vbmF1dGgtbGluaycgbmctY2xpY2s9J3Nob3dfbG9naW5fbW9kYWwoKSc+SW5pY2lhciBzZXNpw7NuPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0nbm9uYXV0aC1saW5rJyBuZy1jbGljaz0nc2hvd19zaWduX3VwX21vZGFsKCknPlJlZ2lzdHJhcnNlPC9kaXY+PC9kaXY+XCI7XG4gICAgICBtZW51LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAkY29tcGlsZShtZW51KSgkc2NvcGUpOyAvLzwtLS0tIHJlY29tcGlsYXRpb25cbiAgICAgIG1lbnUuc3R5bGUuaGVpZ2h0ID0gJzEyMHB4JztcbiAgICAgIG1lbnUuc3R5bGUud2lkdGggPSAnMTUwcHgnO1xuICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH1cblxuICAgICRzY29wZS5zaG93X3VzZXJfbWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICB2YXIgaHRtbCA9IFVzZXJTZXJ2aWNlLm5hbWUgKyBcIjxkaXYgaWQ9J2F1dGhfb3B0aW9ucyc+PGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J3Nob3dfZWRpdF9wcm9maWxlX21vZGFsKCknPk1pIHBlcmZpbDwvZGl2PlwiO1xuICAgICAgLy9odG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J2NoYW5nZV9wYXNzd29yZCgpJz5DYW1iaWFyIGNvbnRyYXNlw7FhPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J3NpZ25fb3V0KCknPkNlcnJhciBzZXNpw7NuPC9kaXY+PC9kaXY+XCI7XG4gICAgICBtZW51LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAkY29tcGlsZShtZW51KSgkc2NvcGUpOyAvLzwtLS0tIHJlY29tcGlsYXRpb25cbiAgICAgIG1lbnUuc3R5bGUuaGVpZ2h0ID0gJzIyMHB4JztcbiAgICAgIG1lbnUuc3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5ID0gZnVuY3Rpb24obmFtZSx0eXBlLHZhbHVlKXtcbiAgICAgIHZhciBmaWVsZCA9IG5ldyBBcnJheSgpO1xuICAgICAgZmllbGQubmFtZSA9IG5hbWU7XG4gICAgICBmaWVsZC50eXBlID0gdHlwZTtcbiAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7XG4gICAgICByZXR1cm4gZmllbGQ7XG4gICAgfTtcblxuICAgICRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXlfd2l0aF90d29GaWVsZHMgPSBmdW5jdGlvbihuYW1lLHR5cGUsdmFsdWUsc2Vjb25kVmFsdWUpe1xuICAgICAgdmFyIGZpZWxkID0gbmV3IEFycmF5KCk7XG4gICAgICBmaWVsZC5uYW1lID0gbmFtZTtcbiAgICAgIGZpZWxkLnR5cGUgPSB0eXBlO1xuICAgICAgZmllbGQudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGZpZWxkLnNlY29uZFZhbHVlID0gc2Vjb25kVmFsdWU7XG4gICAgICByZXR1cm4gZmllbGQ7XG4gICAgfTtcblxuICAgICRzY29wZS5maXhfZmJfaW1hZ2VfbGluayA9IGZ1bmN0aW9uKHVybCl7XG4gICAgICBpZih1cmwuaW5kZXhPZihcImh0dHA6Ly9ncmFwaC5mYWNlYm9vay5jb21cIikgPj0gMCl7XG4gICAgICAgIHZhciBwYXJ0cyA9IHVybC5zcGxpdChcImh0dHA6Ly9ncmFwaC5mYWNlYm9vay5jb21cIik7XG4gICAgICAgIHZhciBuZXdVcmwgPSBcImh0dHA6Ly9ncmFwaC5mYWNlYm9vay5jb21cIitwYXJ0c1sxXTtcbiAgICAgICAgcmV0dXJuIG5ld1VybDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cmw7XG4gICAgfTtcblxuICAgICRzY29wZS5sb2dfaW4gPSBmdW5jdGlvbih1c2VyLCBwYXNzd29yZCl7XG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcInN1Ym1pdC1mb3JtXCIpKXtcbiAgICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJVc3VhcmlvXCIsXCJub3ROdWxsXCIsdXNlcikpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgQXV0aFNlcnZpY2UubG9nX2luKHVzZXIscGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgIHBob3RvID0gJHNjb3BlLmZpeF9mYl9pbWFnZV9saW5rKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvKTtcbiAgICAgICAgICAgICAgICBpZihwaG90bz09XCJhbm9uXCIpe1xuICAgICAgICAgICAgICAgICAgcGhvdG89XCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsICRzY29wZS5ub25hdXRoLnBhc3N3b3JkLCBwaG90bywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcigkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lLCRzY29wZS5ub25hdXRoLnBhc3N3b3JkLHBob3RvLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlNob3dMb2NhdGlvbiwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2VfbG9naW5fbW9kYWwoKTtcbiAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgIC8vYWxlcnQoXCJFcnJvciBlbiBzaWduX2luXCIpO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBpbmljaWFyIHNlc2nDs24gZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5sb2dfaW5fYmFja2dyb3VuZCA9IGZ1bmN0aW9uKHVzZXIsIHBhc3N3b3JkKXtcbiAgICAgIEF1dGhTZXJ2aWNlLmxvZ19pbih1c2VyLHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KHJlc3ApKXtcbiAgICAgICAgICBwaG90byA9ICRzY29wZS5maXhfZmJfaW1hZ2VfbGluaygkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90byk7XG4gICAgICAgICAgaWYocGhvdG89PVwiYW5vblwiKXtcbiAgICAgICAgICAgIHBob3RvPVwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YSgkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lLCBwYXNzd29yZCwgcGhvdG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlNob3dMb2NhdGlvbiwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSxwYXNzd29yZCxwaG90bywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAocmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9KTtcbiAgICB9XG5cblxuXG4gICAgJHNjb3BlLnNpZ25fb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAgIFVzZXJTZXJ2aWNlLmVyYXNlX3VzZXJfZGF0YSgpO1xuICAgICAgREJTZXJ2aWNlLmVyYXNlVXNlcigpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgIH1cblxuICAgICRzY29wZS5zaG93X2VkaXRfcHJvZmlsZV9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gbGEgaW5mbyBkZWwgdXN1YXJpbyBsb2d1ZWFkbyB5IGNvbiBlbCBzdWJtaXQgYSBlZGl0X3Byb2ZpbGVfb2tcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAkc2NvcGUubmV3dXNlciA9IG5ldyBBcnJheSgpO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5lbWFpbCA9IFVzZXJTZXJ2aWNlLmVtYWlsO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5nZW5kZXIgPSBVc2VyU2VydmljZS5nZW5kZXI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnVzZXJuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuaW50ZXJlc3RlZCA9IFVzZXJTZXJ2aWNlLmludGVyZXN0ZWQ7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnN0YXR1cyA9IFVzZXJTZXJ2aWNlLnN0YXR1cztcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuc2hvd19sb2NhdGlvbiA9IFVzZXJTZXJ2aWNlLnNob3dfbG9jYXRpb247XG4gICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBVc2VyU2VydmljZS5waWN0dXJlX3VybDtcbiAgICAgICAgaWYoJHNjb3BlLmFjdHVhbF9waG90byE9bnVsbCl7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYoJHNjb3BlLmFjdHVhbF9waG90bz09XCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCIpe1xuICAgICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgIGlmKFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZWRpdF9wcm9maWxlX3dpdGhfcGhvdG8uaHRtbCcsIHtcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2VkaXRfcHJvZmlsZV93aXRoX3Bob3RvX2Rlc2t0b3AuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgICRzY29wZS5yZWFkVVJMID0gZnVuY3Rpb24gKGlucHV0LHR5cGUpIHtcbiAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xuICAgICAgICBpZih0eXBlPT0xKXtcbiAgICAgICAgICAkc2NvcGUubmV3dXNlci5waWN0dXJlX3VybCA9IGlucHV0LmZpbGVzWzBdO1xuICAgICAgICAgICAgfWVsc2UgaWYgKHR5cGU9PTIpe1xuICAgICAgICAgICRzY29wZS5jb21tZW50LnBob3RvID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICRzY29wZS5yZXBvcnQuZmlsZSA9IGlucHV0LmZpbGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlJbWFnZVwiKS5zcmMgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xuICAgIH1cblxuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgLy9DYXJnYXIgZWwgbW9kYWwgY29uIGxhIGluZm8gZGVsIHVzdWFyaW8gbG9ndWVhZG8geSBjb24gZWwgc3VibWl0IGEgdXBkYXRlX3VzZXJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZWRpdF9wcm9maWxlX29rID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5lZGl0X3Byb2ZpbGUoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIGlmKHJlc3BvbnNlLmRhdGEpe1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmVkaXRfcHJvZmlsZSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcInN1Ym1pdC1mb3JtXCIpKXtcbiAgICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgLyp2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvcnJlbyBlbGVjdHLDs25pY29cIixcImVtYWlsXCIsbmV3X2VtYWlsKSk7XG4gICAgICAgICAgLy9maWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWFcIixcIm5vdE51bGxcIixwYXNzd29yZCkpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDw6lkdWxhIGRlIElkZW50aWRhZFwiLFwiaWRkb2NfdXlcIixpZF9kb2MpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiTm9tYnJlIHkgYXBlbGxpZG9cIixcInR3b193b3Jkc1wiLGZ1bGxuYW1lKSk7Ki9cbiAgICAgICAgICAvKmlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXsqL1xuICAgICAgICAgICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkID0gVXNlclNlcnZpY2UucGFzc3dvcmQ7XG4gICAgICAgICAgICB2YXIgZWRpdF9yZXF1ZXN0ID0gQXV0aFNlcnZpY2UuZWRpdF91c2VyKCRzY29wZS5uZXd1c2VyKTtcbiAgICAgICAgICAgIGlmKCRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsPT1udWxsIHx8ICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsPT1cIlwiIHx8ICFWYWxpZGF0aW9uU2VydmljZS5pc01vYmlsZURldmljZSgpKXtcbiAgICAgICAgICAgICAgZWRpdF9yZXF1ZXN0LnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZW50X2xhYmVsXCIpLmlubmVySFRNTCA9IFwiRW52aWFkbzogMTAwJVwiO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcCk7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChyZXNwLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycyxjb25maWcpe1xuICAgICAgICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2UoXCJlcnJvcl9jb250YWluZXJcIixzdGF0dXMpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgZWRpdF9yZXF1ZXN0LnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdC5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZGF0YS5OYW1lLCAkc2NvcGUubmV3dXNlci5wYXNzd29yZCwgZGF0YS5QaG90bywgZGF0YS5TaG93TG9jYXRpb24sIGRhdGEuVWlkLCBkYXRhLkVzdGFkbywgZGF0YS5HZW5kZXIsIGRhdGEuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcihkYXRhLk5hbWUsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsZGF0YS5QaG90byxkYXRhLlNob3dMb2NhdGlvbixkYXRhLlVpZCxkYXRhLkVzdGFkbywgZGF0YS5HZW5kZXIsIGRhdGEuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxlcnQgPSBcIkPDs2RpZ286IFwiICsgZXJyb3IuY29kZTtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgT3JpZ2VuOiBcIiArIGVycm9yLnNvdXJjZTtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgRGVzdGlubzogXCIgKyBlcnJvci50YXJnZXQ7XG4gICAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIGh0dHBfc3RhdHVzOiBcIiArIGVycm9yLmh0dHBfc3RhdHVzO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBCb2R5OiBcIiArIGVycm9yLmJvZHk7XG4gICAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIEV4Y2VwdGlvbjogXCIgKyBlcnJvci5leGNlcHRpb247XG4gICAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLFwiSHVibyB1biBlcnJvciBlbiBlbCBlbnbDrW86IFwiICsgYWxlcnQpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZFByb2dyZXNzID0gKHByb2dyZXNzLmxvYWRlZCAvIHByb2dyZXNzLnRvdGFsKSAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZW50X2xhYmVsXCIpLmlubmVySFRNTCA9IFwiRW52aWFkbzogXCIgKyBNYXRoLnJvdW5kKCRzY29wZS51cGxvYWRQcm9ncmVzcykgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvKn1lbHNle1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgfSovXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJTaW4gY29uZXhpw7NuIGEgaW50ZXJuZXRcIixcIlBhcmEgZWRpdGFyIHN1IHBlcmZpbCBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuc2hvd19sb2dpbl9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gZWwgZm9ybSBkZSBsb2dpbiB5IGFoaSBsbGFtYSBhbCBzaWduX2luXG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcIm9wZW4tbW9kYWxcIikpe1xuICAgICAgICAkc2NvcGUubm9uYXV0aCA9IG5ldyBBcnJheSgpO1xuICAgICAgICAkc2NvcGUubm9uYXV0aC51c2VyID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQgPSBcIlwiO1xuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2xvZ19pbi5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmxvZ2luX29rID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5sb2dfaW4oJHNjb3BlLm5vbmF1dGgudXNlciwkc2NvcGUubm9uYXV0aC5wYXNzd29yZCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX2xvZ2luX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICB9XG5cblxuXG4gICAgJHNjb3BlLnNob3dfc2lnbl91cF9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL2NhcmdhciBlbCBtb2RhbCBjb24gZWwgZm9ybSBkZSBzaWduX3VwIHkgZGUgYWhpIGxsYW1hciBhbCBzaWduX3VwXG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcIm9wZW4tbW9kYWxcIikpe1xuICAgICAgICAkc2NvcGUubmV3dXNlciA9IG5ldyBBcnJheSgpO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5lbWFpbCA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuZnVsbG5hbWUgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5pZF9kb2MgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubmV3dXNlci50ZWxlcGhvbmUgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5waG90byA9IFwiXCI7XG4gICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgaWYoVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvc2lnbl91cC5odG1sJywge1xuICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9zaWduX3VwX2Rlc2t0b3AuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX3NpZ25fdXBfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuICAgICRzY29wZS5zaWduX3VwID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwic3VibWl0LWZvcm1cIikpe1xuICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgLypmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29ycmVvIGVsZWN0csOzbmljb1wiLFwiZW1haWxcIiwkc2NvcGUubmV3dXNlci5lbWFpbCkpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLnBhc3N3b3JkKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIlVzdWFyaW9cIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci51c2VybmFtZSkpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJHw6luZXJvXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIuZ2VuZGVyKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkludGVyZXNhZG8gZW5cIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci5pbnRlcmVzdGVkKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVzdGFkb1wiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLnN0YXR1cykpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJNb3N0cmFyIHViaWNhY2nDs25cIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci5zaG93X2xvY2F0aW9uKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheV93aXRoX3R3b0ZpZWxkcyhcIidDb250cmFzZcOxYScgeSAnQ29uZmlybWFyIGNvbnRyYXNlw7FhJ1wiLFwiZXF1YWxzVG9cIiwkc2NvcGUubmV3dXNlci5wYXNzd29yZCwgJHNjb3BlLm5ld3VzZXIucmVwYXNzd29yZCkpOyovXG4gICAgICAgICAgLy9pZihFcnJvclNlcnZpY2UuY2hlY2tfZmllbGRzKGZpZWxkcyxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICBpZigkc2NvcGUubmV3dXNlci5waWN0dXJlX3VybCE9bnVsbCAmJiAkc2NvcGUubmV3dXNlci5waWN0dXJlX3VybCE9XCJcIiAmJiBWYWxpZGF0aW9uU2VydmljZS5pc01vYmlsZURldmljZSgpKXtcbiAgICAgICAgICAgICAgQXV0aFNlcnZpY2UuY3JlYXRlX3VzZXIoJHNjb3BlLm5ld3VzZXIpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZW50X2xhYmVsXCIpLmlubmVySFRNTCA9IFwiRW52aWFkbzogMTAwJVwiO1xuICAgICAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChkYXRhLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgICAgIGRhdGEgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRhdGEubmFtZSwgZGF0YS5lbWFpbCwgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsIGRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIGRhdGEucGhvbmUsIGRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZGF0YS5OYW1lLCAkc2NvcGUubmV3dXNlci5wYXNzd29yZCwgZGF0YS5QaG90bywgZGF0YS5TaG93TG9jYXRpb24sIGRhdGEuVWlkLCBkYXRhLkVzdGFkbywgZGF0YS5HZW5kZXIsIGRhdGEuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcihkYXRhLk5hbWUscGFzc3dvcmQsZGF0YS5QaG90byxkYXRhLlNob3dMb2NhdGlvbixkYXRhLlVpZCxkYXRhLkVzdGFkbywgZGF0YS5HZW5kZXIsIGRhdGEuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgQXV0aFNlcnZpY2UuY3JlYXRlX3VzZXIoJHNjb3BlLm5ld3VzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwocmVzcCxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YSgkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lLCAkc2NvcGUubmV3dXNlci5wYXNzd29yZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlNob3dMb2NhdGlvbiwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcigkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lLCRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlNob3dMb2NhdGlvbiwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICAvLyRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX3NpZ25fdXBfbW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlVzdWFyaW8gY3JlYWRvIGNvbiDDqXhpdG9cIixcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQoKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2UoXCJlcnJvcl9jb250YWluZXJcIixyZXNwLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvKn1lbHNle1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgfSovXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJTaW4gY29uZXhpw7NuIGEgaW50ZXJuZXRcIixcIlBhcmEgaW5pY2lhciByZWdpc3RyYXJzZSBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNpZ25fdXBfb2sgPSBmdW5jdGlvbigpe1xuICAgICAgLy9jb25zb2xlLmxvZygkc2NvcGUubmV3dXNlcik7XG4gICAgICAkc2NvcGUuc2lnbl91cCgpO1xuICAgIH1cblxuICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL1NpIEhheSB1biB1c3VhcmlvIGd1YXJkYWRvXG4gICAgICAgICAgdmFyIHVzZXIgPSBEQlNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgIHVzZXIudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICBpZihkb2MubmFtZSE9bnVsbCAmJiBkb2MubmFtZSE9XCJcIiAmJiBkb2MubmFtZSE9XCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgICRzY29wZS5sb2dfaW5fYmFja2dyb3VuZChkb2MubmFtZSwgZG9jLnBhc3N3b3JkKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAvL0VzdMOhIGxvZ3VlYWRvXG4gICAgICAgIGlmKFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsPT1udWxsIHx8IFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsPT1cIlwiKXtcbiAgICAgICAgICAvL0VsIHVzdWFyaW8gbm8gdGllbmUgZm90byBkZWZpbmlkYVxuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL0VsIHVzdWFyaW8gdGllbmUgZm90b1xuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9vZmZsaW5lX3VzZXIgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgaWYobmFtZT09bnVsbCl7XG4gICAgICAgICAgLy9TaSBIYXkgdW4gdXN1YXJpbyBndWFyZGFkb1xuICAgICAgICAgIHZhciB1c2VyID0gREJTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICAgICAgICB1c2VyLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICAgaWYoZG9jLm5hbWUhPW51bGwgJiYgZG9jLm5hbWUhPVwiXCIgJiYgZG9jLm5hbWUhPVwidW5kZWZpbmVkXCIpe1xuICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkb2MubmFtZSwgZG9jLnBhc3N3b3JkLCBkb2MucGljdHVyZV91cmwsIGRvYy5zaG93X2xvY2F0aW9uKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAvL0VzdMOhIGxvZ3VlYWRvXG4gICAgICAgIGlmKFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsPT1udWxsIHx8IFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsPT1cIlwiKXtcbiAgICAgICAgICAvL0VsIHVzdWFyaW8gbm8gdGllbmUgZm90byBkZWZpbmlkYVxuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL0VsIHVzdWFyaW8gdGllbmUgZm90b1xuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cblxuICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlID0gZnVuY3Rpb24oaGFzUGhvdG8pe1xuICAgICAgdmFyIHBpY3R1cmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfcGljdHVyZVwiKTtcbiAgICAgIGlmKGhhc1Bob3RvPT0wKXtcbiAgICAgICAgLy9waWN0dXJlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICAgICAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2U9XCIuL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZ1wiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGlmKFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsIT1udWxsICYmIFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsIT1cIlwiKXtcbiAgICAgICAgICAvL2FsZXJ0KFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2U9VXNlclNlcnZpY2UucGljdHVyZV91cmw7XG4gICAgICAgICAgLy9waWN0dXJlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgVXNlclNlcnZpY2UucGljdHVyZV91cmwgKyBcIilcIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9waWN0dXJlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICAgICAgICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZT1cIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH1cblxuICAgICRzY29wZS5maW5kX21lID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uKFwiYnV0dG9uLWZpbmQtbWVcIik7XG4gICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICB2YXIgcG9zT3B0aW9ucyA9IHt0aW1lb3V0OiAxMDAwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sYXQgID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxuZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZS5zYXZlX25ld19yZXBvcnRfcG9zaXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpO1xuICAgICAgICAgICAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci56b29tID0gMTg7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci56b29tID0gMTY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5tYXAubWFya2Vycy5ub3cgPSB7XG4gICAgICAgICAgICAgICAgICBsYXQ6cG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgbG5nOnBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIjxwIGFsaWduPSdjZW50ZXInPlRlIGVuY3VlbnRyYXMgYXF1w60gPGJyLz4gPGEgbmctY2xpY2s9J25ld19yZXBvcnQoMSk7Jz5JbmljaWFyIHJlcG9ydGUgZW4gdHUgcG9zaWNpw7NuIGFjdHVhbDwvYT48L3A+XCIsXG4gICAgICAgICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBnZXRNZXNzYWdlU2NvcGU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gJHNjb3BlOyB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyRzY29wZS5tYXAubWFya2Vycy5ub3cub3BlblBvcHVwKCk7XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkxvY2F0aW9uIGVycm9yIVwiKTtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKFwiTm8gaGVtb3MgcG9kaWRvIGdlb2xvY2FsaXphcmxvLiDCv1RhbCB2ZXogb2x2aWTDsyBoYWJpbGl0YXIgbG9zIHNlcnZpY2lvcyBkZSBsb2NhbGl6YWNpw7NuIGVuIHN1IGRpc3Bvc2l0aXZvP1wiKVxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuQ291bmNpbFNlbGVjdG9yKCk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfTtcblxuICB9XG5cbl0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0FwaVNlcnZpY2UnLCBbJyRodHRwJywgJ2xlYWZsZXREYXRhJywnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBsZWFmbGV0RGF0YSwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBhcGlVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCI7XG4vKipcbiAgICogQ29uc3RydWN0b3IsIHdpdGggY2xhc3MgbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gQXBpT2JqZWN0KF9kYXRhKSB7XG4gICAgYW5ndWxhci5leHRlbmQodGhpcywgX2RhdGEpO1xuICB9XG5cblxuICAvKkFwaU9iamVjdC5nZXRBbGxNZXNzYWdlc1RvVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lLHBhc3N3b3JkLHVpZCxhdXRob3JfdWlkKXtcbiAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmYXV0aG9yX3VpZD0nK2F1dGhvcl91aWQrJyZ1aWQ9Jyt1aWQrJyZoYXNoX2lkPScrTWF0aC5yYW5kb20oKTtcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVUkwgKyAnZ2V0X2FsbF9tZXNzYWdlc190b191c2VyJywgYm9keSx7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgfSovXG5cbiAgQXBpT2JqZWN0LnNlYXJjaFF1ZUVzdHVkaWFyID0gZnVuY3Rpb24oc3RyKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVSTCArICdzZWFyY2gvJyArIHN0ciwge2NhY2hlOiBmYWxzZSwgcGFyYW1zOiB7aGFzaF9pZDpNYXRoLnJhbmRvbSgpfX0pO1xuICB9XG5cbiAgQXBpT2JqZWN0LnNlYXJjaERvbmRlRXN0dWRpYXIgPSBmdW5jdGlvbihzdHIpe1xuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVVJMICsgJ3NlYXJjaEJ5TG9jYWxpZGFkRGVwYXJ0YW1lbnRvLycgKyBzdHIsIHtjYWNoZTogZmFsc2UsIHBhcmFtczoge2hhc2hfaWQ6TWF0aC5yYW5kb20oKX19KTtcbiAgfVxuXG4gICAgQXBpT2JqZWN0LmN1cnJlbnQgPSB7fTtcblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCwgYXNzaWduZWQgdG8gY2xhc3NcbiAgICAgKiBJbnN0YW5jZSAoJ3RoaXMnKSBpcyBub3QgYXZhaWxhYmxlIGluIHN0YXRpYyBjb250ZXh0XG4gICAgICovXG4gICAgQXBpT2JqZWN0LmJ1aWxkID0gZnVuY3Rpb24oX2RhdGEpIHtcblxuICAgICAgcmV0dXJuIG5ldyBBcGlPYmplY3QoXG4gICAgICAgIF9kYXRhXG4gICAgICApO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb25cbiAgICAgKi9cbiAgICByZXR1cm4gQXBpT2JqZWN0O1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQXV0aFNlcnZpY2UnLCBbJyRodHRwJywgJyRjb3Jkb3ZhRmlsZVRyYW5zZmVyJywgJ0NvbmZpZ1NlcnZpY2UnLCdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCAkY29yZG92YUZpbGVUcmFuc2ZlciwgQ29uZmlnU2VydmljZSwgVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIjtcblxuICByZXR1cm4ge1xuICAgIGxvZ19pbjogZnVuY3Rpb24gKHVzZXIscGFzc3dvcmQpIHtcbiAgICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXIrJyZwYXNzd29yZD0nK3Bhc3N3b3JkO1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2xvZ2luJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH0sXG5cbiAgICBzaWduX291dDogZnVuY3Rpb24gKHBhc3N3b3JkLCBlbWFpbCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJzaWduX291dFwiLCB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSwgcGFyYW1zOiB7IHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLCBlbWFpbDogZW1haWwgfSB9KTtcbiAgICB9LFxuXG4gICAgY3JlYXRlX3VzZXI6IGZ1bmN0aW9uICh1c2VyT2JqKSB7XG4gICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIC8vZmlsZU5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgLy9jaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICAvL21pbWVUeXBlOiBcImltYWdlL2pwZ1wiLFxuICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgcGFyYW1zIDogeyAgdXNlcjogdXNlck9iai51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyT2JqLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJPYmouZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IHVzZXJPYmouZ2VuZGVyLFxuICAgICAgICAgICAgICAgICAgICAgaW50ZXJlc3RlZDogdXNlck9iai5pbnRlcmVzdGVkLFxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB1c2VyT2JqLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHVzZXJPYmouc2hvd19sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJjcmVhdGVfdXNlclwiLCB1c2VyT2JqLnBpY3R1cmVfdXJsLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsKXtcbiAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwaG90b1wiLCB1c2VyT2JqLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJ1c2VyXCIsIHVzZXJPYmoudXNlcm5hbWUpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInBhc3N3b3JkXCIsIHVzZXJPYmoucGFzc3dvcmQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImVtYWlsXCIsIHVzZXJPYmouZW1haWwpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImdlbmRlclwiLCB1c2VyT2JqLmdlbmRlcik7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiaW50ZXJlc3RlZFwiLCB1c2VyT2JqLmludGVyZXN0ZWQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInN0YXR1c1wiLCB1c2VyT2JqLnN0YXR1cyk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwic2hvd19sb2NhdGlvblwiLCB1c2VyT2JqLnNob3dfbG9jYXRpb24pO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnY3JlYXRlX3VzZXInLCBmb3JtRGF0YSwge1xuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eVxuICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlck9iai51c2VybmFtZSsnJnBhc3N3b3JkPScrdXNlck9iai5wYXNzd29yZCsnJmVtYWlsPScrdXNlck9iai5lbWFpbCsnJmdlbmRlcj0nK3VzZXJPYmouZ2VuZGVyO1xuICAgICAgICAgIGJvZHkgPSBib2R5ICsnJmludGVyZXN0ZWQ9Jyt1c2VyT2JqLmludGVyZXN0ZWQrJyZzdGF0dXM9Jyt1c2VyT2JqLnN0YXR1cysnJnNob3dfbG9jYXRpb249Jyt1c2VyT2JqLnNob3dfbG9jYXRpb247XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdjcmVhdGVfdXNlcicsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSxcblxuICAgIHBhc3N3b3JkX3JlY292ZXJ5OiBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiZm9yZ290X3Bhc3N3b3JkXCIsIHsgcGFyYW1zOiB7IGxvZ2luX2VtYWlsOiBlbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgcGFzc3dvcmRfY2hhbmdlOiBmdW5jdGlvbiAoZW1haWwsb2xkUGFzc3dvcmQsbmV3UGFzc3dvcmQsY29uZmlybVBhc3N3b3JkKSB7XG5cbiAgICAgIHZhciBib2R5ID0gJ2VtYWlsPScrZW1haWwrJyZwYXNzd29yZF9zaWduX2luPScrb2xkUGFzc3dvcmQrJyZuZXdfcGFzc3dvcmQ9JytuZXdQYXNzd29yZCsnJmNvbmZpcm09Jytjb25maXJtUGFzc3dvcmQ7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2NoYW5nZV9wYXNzd29yZCcsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG5cbiAgICB9LFxuXG5cbiAgICBlZGl0X3VzZXI6IGZ1bmN0aW9uICh1c2VyT2JqKSB7XG4gICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIC8vZmlsZU5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgLy9jaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICAvL21pbWVUeXBlOiBcImltYWdlL2pwZ1wiLFxuICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgcGFyYW1zIDogeyAgdXNlcjogdXNlck9iai51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyT2JqLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJPYmouZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IHVzZXJPYmouZ2VuZGVyLFxuICAgICAgICAgICAgICAgICAgICAgaW50ZXJlc3RlZDogdXNlck9iai5pbnRlcmVzdGVkLFxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB1c2VyT2JqLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHVzZXJPYmouc2hvd19sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJlZGl0X3Byb2ZpbGVcIiwgdXNlck9iai5waWN0dXJlX3VybCwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJPYmoudXNlcm5hbWUrJyZwYXNzd29yZD0nK3VzZXJPYmoucGFzc3dvcmQrJyZlbWFpbD0nK3VzZXJPYmouZW1haWwrJyZnZW5kZXI9Jyt1c2VyT2JqLmdlbmRlcjtcbiAgICAgICAgYm9keSA9IGJvZHkgKycmaW50ZXJlc3RlZD0nK3VzZXJPYmouaW50ZXJlc3RlZCsnJnN0YXR1cz0nK3VzZXJPYmouc3RhdHVzKycmc2hvd19sb2NhdGlvbj0nK3VzZXJPYmouc2hvd19sb2NhdGlvbjtcbiAgICAgICAgaWYodXNlck9iai5waWN0dXJlX3VybCl7XG4gICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwicGhvdG9cIiwgdXNlck9iai5waWN0dXJlX3VybCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwidXNlclwiLCB1c2VyT2JqLnVzZXJuYW1lKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwYXNzd29yZFwiLCB1c2VyT2JqLnBhc3N3b3JkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJlbWFpbFwiLCB1c2VyT2JqLmVtYWlsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJnZW5kZXJcIiwgdXNlck9iai5nZW5kZXIpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImludGVyZXN0ZWRcIiwgdXNlck9iai5pbnRlcmVzdGVkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJzdGF0dXNcIiwgdXNlck9iai5zdGF0dXMpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInNob3dfbG9jYXRpb25cIiwgdXNlck9iai5zaG93X2xvY2F0aW9uKTtcbiAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2VkaXRfcHJvZmlsZScsIGZvcm1EYXRhLCB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZWRpdF9wcm9maWxlJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29uZmlnU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIHZhciBDb25maWdPYmogPSB7fTtcbiAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcImh0dHA6Ly9lZV9iYWNrZW5kLmRldmVsb3BtZW50LmRhdGF1eS5vcmdcIjtcbiAgaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgIENvbmZpZ09iai5iYXNlVVJMID0gXCJodHRwOi8vZWVfYmFja2VuZC5kZXZlbG9wbWVudC5kYXRhdXkub3JnXCI7XG4gIH0gZWxzZSB7XG4gICAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcIi9iYWNrZW5kXCI7XG4gIH1cbiAgQ29uZmlnT2JqLkFwcE5hbWUgPSBcIkVsaWpvIEVzdHVkaWFyXCI7XG5cblxuICByZXR1cm4gQ29uZmlnT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29ubmVjdGl2aXR5U2VydmljZScsIFsnJGNvcmRvdmFOZXR3b3JrJywgZnVuY3Rpb24oJGNvcmRvdmFOZXR3b3JrKXtcblxuICByZXR1cm4ge1xuICAgIGlzT25saW5lOiBmdW5jdGlvbigpe1xuICAgICAgLyppZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHJldHVybiAkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgICAvL3JldHVybiBmYWxzZTtcbiAgICAgIH0qL1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBpc09mZmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAvKmlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICEkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAhbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgIH0qL1xuICAgIH1cbiAgfVxufV0pXG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnREJTZXJ2aWNlJywgWyckcScsIGZ1bmN0aW9uKCRxKSB7XG4gICB2YXIgX2RiO1xuXG4gICByZXR1cm4ge1xuICAgICAgIGluaXREQjogaW5pdERCLFxuICAgICAgIHNhdmVVc2VyOiBzYXZlVXNlcixcbiAgICAgICBnZXRVc2VyOiBnZXRVc2VyLFxuICAgICAgIGVyYXNlVXNlcjogZXJhc2VVc2VyLFxuICAgICAgIHNhdmVSZXBvcnQ6IHNhdmVSZXBvcnQsXG4gICAgICAgZ2V0UmVwb3J0OiBnZXRSZXBvcnQsXG4gICAgICAgZ2V0QWxsUmVwb3J0czogZ2V0QWxsUmVwb3J0cyxcbiAgICAgICB1cGRhdGVSZXBvcnQ6IHVwZGF0ZVJlcG9ydCxcbiAgICAgICBkZWxldGVSZXBvcnQ6IGRlbGV0ZVJlcG9ydCxcbiAgICAgICBkZWxldGVHaXZlblJlcG9ydDogZGVsZXRlR2l2ZW5SZXBvcnQsXG4gICAgICAgZ2V0Q2F0ZWdvcmllczogZ2V0Q2F0ZWdvcmllcyxcbiAgICAgICBzYXZlQ2F0ZWdvcmllczogc2F2ZUNhdGVnb3JpZXNcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVVc2VyKHVzZXJfbmFtZSwgdXNlcl9wYXNzd29yZCwgdXNlcl9waWN0dXJlX3VybCxzaG93X2xvY2F0aW9uLCB1aWQsIHN0YXR1cywgZ2VuZGVyLCBpbnRlcmVzdGVkKSB7XG4gICAgICAgICB2YXIgdXNlciA9IHtcbiAgICAgICAgICAgIF9pZDogJ3VzZXItbG9nZ2VkJyxcbiAgICAgICAgICAgIG5hbWU6IHVzZXJfbmFtZSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyX3Bhc3N3b3JkLFxuICAgICAgICAgICAgcGljdHVyZV91cmw6IHVzZXJfcGljdHVyZV91cmwsXG4gICAgICAgICAgICBzaG93X2xvY2F0aW9uOiBzaG93X2xvY2F0aW9uLFxuICAgICAgICAgICAgdWlkOiB1aWQsXG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICAgIGdlbmRlcjogZ2VuZGVyLFxuICAgICAgICAgICAgaW50ZXJlc3RlZDogaW50ZXJlc3RlZFxuICAgICAgICAgfTtcbiAgICAgICAgIGdldFVzZXIoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgdXNlci5fcmV2ID0gZG9jLl9yZXY7XG4gICAgICAgICAgIHJldHVybiBfZGIucHV0KHVzZXIpO1xuICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICByZXR1cm4gX2RiLnB1dCh1c2VyKTtcbiAgICAgICAgIH0pXG4gICB9O1xuXG4gIGZ1bmN0aW9uIGdldFVzZXIoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVyYXNlVXNlcigpIHtcbiAgICBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2RiLnJlbW92ZShkb2MpO1xuICAgIH0pO1xuICB9XG5cbiAgIGZ1bmN0aW9uIGluaXREQigpIHtcbiAgICAgICAvLyBDcmVhdGVzIHRoZSBkYXRhYmFzZSBvciBvcGVucyBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgIF9kYiA9IG5ldyBQb3VjaERCKCd0b21hbW9zdW5hX2xvY2FsX2RiJyk7XG4gICAgICAgcmV0dXJuIF9kYjtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVSZXBvcnQocmVwb3J0KSB7XG4gICAgICAvL25ld19yZXBvcnRfaWQgPSBcInJlcG9ydF9cIiArIHBvdWNoQ29sbGF0ZS50b0luZGV4YWJsZVN0cmluZyhbcmVwb3J0XSk7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICB2YXIgbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgZGF0ZS5nZXRGdWxsWWVhcigpICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpICsgZGF0ZS5nZXREYXRlKCkgKyBkYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgcmVwb3J0Ll9pZCA9IG5ld19yZXBvcnRfaWQ7XG4gICAgICByZXR1cm4gX2RiLnB1dChyZXBvcnQpO1xuICAgfTtcblxuICAgZnVuY3Rpb24gdXBkYXRlUmVwb3J0KHJlcG9ydCkge1xuICAgICByZXR1cm4gX2RiLnB1dChyZXBvcnQpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRDYXRlZ29yaWVzKCkge1xuICAgICByZXR1cm4gX2RiLmdldCgnY2F0ZWdvcmllcy1saXN0Jyk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlQ2F0ZWdvcmllcyhjYXRlZ29yaWVzKSB7XG4gICAgIGdldENhdGVnb3JpZXMoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICBjYXRlZ29yaWVzLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICByZXR1cm4gX2RiLnB1dChjYXRlZ29yaWVzKTtcbiAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgIGNhdGVnb3JpZXMuX2lkID0gXCJjYXRlZ29yaWVzLWxpc3RcIjtcbiAgICAgICByZXR1cm4gX2RiLnB1dChjYXRlZ29yaWVzKTtcbiAgICAgfSlcbiAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0UmVwb3J0KHJlcG9ydElkKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KHJlcG9ydElkKTtcbiAgfTtcblxuICAgZnVuY3Rpb24gZ2V0QWxsUmVwb3J0cygpIHtcbiAgICAgcmV0dXJuIF9kYi5hbGxEb2NzKHtcbiAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgIGF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgICAgIHN0YXJ0a2V5OiAncmVwb3J0XycsXG4gICAgICBlbmRrZXk6ICdyZXBvcnRfXFx1ZmZmZidcbiAgICAgfSk7LyoudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAvLyBoYW5kbGUgcmVzdWx0XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTsqL1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlbGV0ZVJlcG9ydChyZXBvcnRfaWQpIHtcbiAgICBfZGIuZ2V0KHJlcG9ydF9pZCkudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfZGIucmVtb3ZlKGRvYyk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlR2l2ZW5SZXBvcnQocmVwb3J0KSB7XG4gICAgcmV0dXJuIF9kYi5yZW1vdmUocmVwb3J0KTtcbiAgfTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0RyaW5rU2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRBbGxEcmlua3NBdmFpbGFibGU6IGZ1bmN0aW9uICh1c2VybmFtZSxwYXNzd29yZCkge1xuICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmhhc2hfaWQ9JytNYXRoLnJhbmRvbSgpO1xuICAgICAgLy9ib2R5ID0gYm9keSArJyZpbnRlcmVzdGVkPScrdXNlck9iai5pbnRlcmVzdGVkKycmc3RhdHVzPScrdXNlck9iai5zdGF0dXMrJyZzaG93X2xvY2F0aW9uPScrdXNlck9iai5zaG93X2xvY2F0aW9uO1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdnZXRfcG9zc2libGVfZHJpbmtzJywgYm9keSx7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICB9LFxuXG4gICAgZ2V0QWxsSW52aXRhdGlvbnNXaXRoVXNlcjogZnVuY3Rpb24gKHVzZXJuYW1lLHBhc3N3b3JkLGRlc3RpbmF0aW9uX3VpZCxhdXRob3JfdWlkKSB7XG4gICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgICBib2R5ID0gYm9keSArJyZ1aWQ9JytkZXN0aW5hdGlvbl91aWQrJyZhdXRob3JfdWlkPScrYXV0aG9yX3VpZDtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZ2V0X2ludml0YXRpb25zX2JldHdlZW5fdXNlcnMnLCBib2R5LHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH0sXG5cbiAgICBzZW5kRHJpbmtJbnZpdGF0aW9uVG9Vc2VyOiBmdW5jdGlvbihkcmlua19uaWQsZGVzdGluYXRpb25fdWlkLGF1dGhvcl91aWQsdXNlcm5hbWUscGFzc3dvcmQpe1xuICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmRyaW5rX25pZD0nK2RyaW5rX25pZCsnJmRlc3RpbmF0aW9uX3VpZD0nK2Rlc3RpbmF0aW9uX3VpZCsnJmF1dGhvcl91aWQ9JythdXRob3JfdWlkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ3NlbmRfZHJpbmtfaW52aXRhdGlvbicsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICB9LFxuXG4gICAgc2VuZERyaW5rSW52aXRhdGlvblJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSx1c2VybmFtZSxwYXNzd29yZCxpbnZpdGF0aW9uX25pZCxkZXN0aW5hdGlvbl91aWQpe1xuICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2U9JytyZXNwb25zZSsnJnVzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZpbnZpdGF0aW9uX25pZD0nK2ludml0YXRpb25fbmlkKycmZGVzdGluYXRpb25fdWlkPScrZGVzdGluYXRpb25fdWlkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2ludml0YXRpb25fcmVzcG9uc2UnLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnRXJyb3JTZXJ2aWNlJywgWyckaHR0cCcsJyRpb25pY1BvcHVwJywgJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGpzb25SZXN1bHQsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoanNvblJlc3VsdC5kYXRhICYmIGpzb25SZXN1bHQuZGF0YS5TdGF0dXM9PVwic3VjY2Vzc1wiIHx8IGpzb25SZXN1bHQuU3RhdHVzPT1cInN1Y2Nlc3NcIil7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYoanNvblJlc3VsdC5kYXRhKXtcbiAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBqc29uUmVzdWx0LmRhdGEuTWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsganNvblJlc3VsdC5NZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICB9XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfcG9wdXA6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgdGVtcGxhdGU6IGpzb25SZXN1bHQuZGF0YS5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGRhdGEsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoZGF0YS5TdGF0dXMhPSdzdWNjZXNzJyl7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGRhdGEuTWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlOiBmdW5jdGlvbiAoZXJyb3JDb250YWluZXJJZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgbWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXA6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgIHRlbXBsYXRlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjaGVja19maWVsZHM6IGZ1bmN0aW9uIChmaWVsZHMsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3JkcyhmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImVxdWFsc1RvXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lcXVhbHNUbyhmaWVsZC52YWx1ZSwgZmllbGQuc2Vjb25kVmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBMb3MgY2FtcG9zIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gY29pbmNpZGVuLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYoZXJyb3JzID09XCJcIil7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9hZGVyJywgWyckaW9uaWNMb2FkaW5nJywgJyR0aW1lb3V0JywnJGlvbmljUG9wdXAnLGZ1bmN0aW9uKCRpb25pY0xvYWRpbmcsJHRpbWVvdXQsJGlvbmljUG9wdXApIHtcblxuICB2YXIgTE9BREVSQVBJID0ge1xuXG4gICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHRleHQgPSB0ZXh0IHx8ICdMb2FkaW5nLi4uJztcbiAgICAgICRpb25pY0xvYWRpbmcuc2hvdyh7XG4gICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgfSxcblxuICAgIHRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZTogZnVuY3Rpb24odGV4dCwgdGltZW91dCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLnNob3dMb2FkaW5nKHRleHQpO1xuXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5oaWRlTG9hZGluZygpO1xuICAgICAgfSwgdGltZW91dCB8fCAzMDAwKTtcbiAgICB9LFxuXG4gICAgY29uZmlybVBvcHVwOmZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICB0aXRsZTogdGl0bGUsXG4gICAgIHRlbXBsYXRlOiB0ZXh0XG4gICB9KTtcbiAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gfSxcblxuXG4gICAgc2hvd0FsZXJ0OmZ1bmN0aW9uKF90aXRsZSxfdGVtcGxhdGUpIHtcbiAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICB0aXRsZTogX3RpdGxlLFxuICAgICAgICB0ZW1wbGF0ZTogX3RlbXBsYXRlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGVydFBvcHVwO1xuIH1cblxuICB9O1xuICByZXR1cm4gTE9BREVSQVBJO1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvY2F0aW9uc1NlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBsb2NhdGlvbnNPYmogPSB7fTtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmxhc3RfdXNlcl9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xuZyA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5jb3VuY2lsX21vZGFsID0gbnVsbDtcbiAgbG9jYXRpb25zT2JqLnNlbGVjdGVkX2NvdW5jaWwgPSBudWxsO1xuXG4gIGxvY2F0aW9uc09iai5zZWxlY3RDb3VuY2lsID0gZnVuY3Rpb24oY291bmNpbE5hbWUpIHtcbiAgICBsb2NhdGlvbnNPYmouc2VsZWN0ZWRfY291bmNpbCA9ICBjb3VuY2lsTmFtZTtcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlX2luaXRpYWxfcG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIGxvY2F0aW9uc09iai5pbml0aWFsX2xhdCA9ICBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZV9sYXN0X3VzZXJfcG9zaXRpb24gPSBmdW5jdGlvbihsYXQsbG5nKXtcbiAgICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xhdCA9IGxhdDtcbiAgICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xuZyA9IGxuZztcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlZExvY2F0aW9ucyA9IFtdO1xuXG4gIHJldHVybiBsb2NhdGlvbnNPYmo7XG5cbn1dKTtcbiIsIiAvL3BtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcbiBwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTWFwU2VydmljZScsIFsnbGVhZmxldERhdGEnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbihsZWFmbGV0RGF0YSwgJGNvbXBpbGUpIHtcblxuICAgLy9EZWZpbmljaW9uIGRlIGxhIHByb3llY2NjaW9uIFVUTSAyMSBzXG4gICBwcm9qNC5kZWZzKCdFUFNHOjMyNzIxJywgJytwcm9qPXV0bSArem9uZT0yMSArc291dGggK2VsbHBzPVdHUzg0ICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmcycpO1xuXG5cbiAgIHZhciBtYXBTZXJ2aWNlID0ge307XG5cbiAgIG1hcFNlcnZpY2UuZ29Ub1BsYWNlID0gZnVuY3Rpb24obmFtZSxsYXQsbG9uLHNjb3BlKSB7XG4gICAgdmFyIF9nZW9Kc29uID0ge1xuICAgICAgICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICAgICAgICBcImNyc1wiOiB7IFwidHlwZVwiOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6ICd1cm46b2djOmRlZjpjcnM6RVBTRzo6MzI3MjEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFwiZmVhdHVyZXNcIjogW1xuICAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjp7XG4gICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOlwiUG9pbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOltsYXQsbG9uXVxuICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6e1xuICAgICAgICAgICAgICAgICAgICAgIFwibm9tYnJlXCI6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgIHZhciBfbGF0bG5nO1xuICAgICAgIHZhciBsYXllciA9IEwuUHJvai5nZW9Kc29uKF9nZW9Kc29uLCB7XG4gICAgICAgICAncG9pbnRUb0xheWVyJzogZnVuY3Rpb24oZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgIF9sYXRsbmcgPSBsYXRsbmc7XG4gICAgICAgICAgIHZhciBodG1sUG9wVXAgPSBcIjxwIGFsaWduPSdjZW50ZXInPlwiK2ZlYXR1cmUucHJvcGVydGllcy5ub21icmUrXCIgPGJyLz4gPGEgbmctY2xpY2s9J25ld19yZXBvcnRfZnJvbV9sYXRsb24oXCIrX2xhdGxuZy5sYXQrXCIsXCIrX2xhdGxuZy5sbmcrXCIpOyc+SW5pY2lhciByZXBvcnRlIGFxdcOtPC9hPjwvcD5cIjtcbiAgICAgICAgICAgdmFyIGNvbXBpbGVkID0gJGNvbXBpbGUoaHRtbFBvcFVwKShzY29wZSk7XG4gICAgICAgICAgIHJldHVybiBMLm1hcmtlcihsYXRsbmcpLmJpbmRQb3B1cChjb21waWxlZFswXSk7XG4gICAgICAgICB9XG4gICAgICAgfSk7XG5cbiAgICAgICBsYXllci5hZGRUbyhtYXApO1xuICAgICAgIG1hcC5zZXRWaWV3KF9sYXRsbmcsIDE4KTtcbiAgICAgICBsYXllci5vcGVuUG9wdXAoKTtcbiAgICAgfSk7XG4gICB9O1xuXG4gIG1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMgPSBmdW5jdGlvbihsYXQsbG5nLHpvb20pIHtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLnNldFZpZXcobmV3IEwuTGF0TG5nKGxhdCwgbG5nKSx6b29tKTtcbiAgICAgICB9KTtcbiAgICAgfVxuXG4gICByZXR1cm4gbWFwU2VydmljZTtcblxuIH1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNZXNzYWdlU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIHBpbnNVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9zaXRlcy90b21hbW9zX3VuYS9maWxlcy9qc29uL29ubGluZV91c2Vyc19nZW8uanNvblwiO1xuICB2YXIgYXBpVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL1wiXG4vKipcbiAgICogQ29uc3RydWN0b3IsIHdpdGggY2xhc3MgbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gTWVzc2FnZShfZGF0YSkge1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHRoaXMsIF9kYXRhKTtcbiAgfVxuXG5cbiAgTWVzc2FnZS5nZXRBbGxNZXNzYWdlc1RvVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lLHBhc3N3b3JkLHVpZCxhdXRob3JfdWlkKXtcbiAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmYXV0aG9yX3VpZD0nK2F1dGhvcl91aWQrJyZ1aWQ9Jyt1aWQrJyZoYXNoX2lkPScrTWF0aC5yYW5kb20oKTtcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVUkwgKyAnZ2V0X2FsbF9tZXNzYWdlc190b191c2VyJywgYm9keSx7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgfVxuXG4gIE1lc3NhZ2UuZ2V0VXNlckluZm8gPSBmdW5jdGlvbih1aWQpe1xuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVVJMICsgJ2dldF91c2VyX2luZm8nLCB7Y2FjaGU6IGZhbHNlLCBwYXJhbXM6IHt1aWQ6dWlkLCBoYXNoX2lkOk1hdGgucmFuZG9tKCl9fSk7XG4gIH1cblxuICBNZXNzYWdlLnNlbmRUZXh0TWVzc2FnZVRvVXNlciA9IGZ1bmN0aW9uKHRleHQsZGVzdGluYXRpb25fdWlkLGF1dGhvcl91aWQsdXNlcm5hbWUscGFzc3dvcmQpe1xuICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZ0ZXh0PScrdGV4dCsnJmRlc3RpbmF0aW9uX3VpZD0nK2Rlc3RpbmF0aW9uX3VpZCsnJmF1dGhvcl91aWQ9JythdXRob3JfdWlkO1xuICAgIHJldHVybiAkaHR0cC5wb3N0KGFwaVVSTCArICdzZW5kX3RleHRfbWVzc2FnZScsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgfVxuXG4gIE1lc3NhZ2UuY2hlY2tXaG9DYW5UYWxrID0gZnVuY3Rpb24odXNlcm5hbWUscGFzc3dvcmQpe1xuICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQ7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVVJMICsgJ2NoZWNrX3VzZXJfdGFsaycsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgfVxuXG5cbiAgICBNZXNzYWdlLmNhblRhbGtUb1VzZXJzID0gbmV3IEFycmF5KCk7XG4gICAgTWVzc2FnZS5jdXJyZW50ID0ge307XG5cblxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBtZXRob2QsIGFzc2lnbmVkIHRvIGNsYXNzXG4gICAgICogSW5zdGFuY2UgKCd0aGlzJykgaXMgbm90IGF2YWlsYWJsZSBpbiBzdGF0aWMgY29udGV4dFxuICAgICAqL1xuICAgIE1lc3NhZ2UuYnVpbGQgPSBmdW5jdGlvbihfZGF0YSkge1xuXG4gICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoXG4gICAgICAgIF9kYXRhXG4gICAgICApO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb25cbiAgICAgKi9cbiAgICByZXR1cm4gTWVzc2FnZTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01vZGFsU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIG1vZGFsT0JKID0ge307XG4gIG1vZGFsT0JKLmFjdGl2ZU1vZGFsID0gbnVsbDtcblxuICBtb2RhbE9CSi5jaGVja05vTW9kYWxJc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZihtb2RhbE9CSi5hY3RpdmVNb2RhbCl7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5oaWRlKCk7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbW9kYWxPQko7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdOb3RpZmljYXRpb25TZXJ2aWNlJywgWyckaHR0cCcsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIjtcblxuICByZXR1cm4ge1xuICAgIGdldFVucmVjaXZlZE5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uICh1c2VybmFtZSxwYXNzd29yZCkge1xuICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmhhc2hfaWQ9JytNYXRoLnJhbmRvbSgpO1xuICAgICAgLy9ib2R5ID0gYm9keSArJyZpbnRlcmVzdGVkPScrdXNlck9iai5pbnRlcmVzdGVkKycmc3RhdHVzPScrdXNlck9iai5zdGF0dXMrJyZzaG93X2xvY2F0aW9uPScrdXNlck9iai5zaG93X2xvY2F0aW9uO1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdnZXRfdW5yZWNpdmVkX25vdGlmaWNhdGlvbnMnLCBib2R5LHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH0sXG5cbiAgICBkb250U2hvd05vdGlmaWNhdGlvbkFnYWluOiBmdW5jdGlvbiAodXNlcm5hbWUscGFzc3dvcmQsbmlkKSB7XG4gICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmbmlkPScrbmlkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgICAvL2JvZHkgPSBib2R5ICsnJmludGVyZXN0ZWQ9Jyt1c2VyT2JqLmludGVyZXN0ZWQrJyZzdGF0dXM9Jyt1c2VyT2JqLnN0YXR1cysnJnNob3dfbG9jYXRpb249Jyt1c2VyT2JqLnNob3dfbG9jYXRpb247XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2RvbnRfc2hvd19ub3RpZmljYXRpb25fYWdhaW4nLCBib2R5LHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH1cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1BpblNlcnZpY2UnLCBbJyRodHRwJywgJ2xlYWZsZXREYXRhJywnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBsZWFmbGV0RGF0YSwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBwaW5zVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvb2ZlcnRhLmdlb2pzb24vLTM0LjgyODUxOCwtNTUuOTUxMzc2L01BVFVUSU5PXCI7XG4gIHZhciBhcGlVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCJcbi8qKlxuICAgKiBDb25zdHJ1Y3Rvciwgd2l0aCBjbGFzcyBuYW1lXG4gICAqL1xuICBmdW5jdGlvbiBQaW4oX2RhdGEpIHtcbiAgICBhbmd1bGFyLmV4dGVuZCh0aGlzLCBfZGF0YSk7XG4gIH1cblxuXG4gIFBpbi5nZXRBbGwgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAkaHR0cC5nZXQocGluc1VSTCwge2NhY2hlOiBmYWxzZSwgcGFyYW1zOiB7aGFzaF9pZDpNYXRoLnJhbmRvbSgpfX0pO1xuICB9XG5cbiAgUGluLnNlbmRVc2VyTG9jYXRpb24gPSBmdW5jdGlvbihsYXRpdHVkZSxsb25naXR1ZGUsdXNlcm5hbWUscGFzc3dvcmQsdWlkKXtcbiAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmbGF0PScrbGF0aXR1ZGUrJyZsb249Jytsb25naXR1ZGUrXCImdWlkPVwiK3VpZDtcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVUkwgKyAnc2VuZF91c2VyX3Bvc2l0aW9uJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuXG4gIH1cblxuXG4gICAgUGluLl9hbGwgPSBbXTtcbiAgICBQaW4uY3VycmVudCA9IHt9O1xuICAgIFBpbi5sYXN0UGluc1Jlc3BvbnNlID0gbnVsbDtcblxuXG5cblxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBtZXRob2QsIGFzc2lnbmVkIHRvIGNsYXNzXG4gICAgICogSW5zdGFuY2UgKCd0aGlzJykgaXMgbm90IGF2YWlsYWJsZSBpbiBzdGF0aWMgY29udGV4dFxuICAgICAqL1xuICAgIFBpbi5idWlsZCA9IGZ1bmN0aW9uKF9kYXRhKSB7XG5cbiAgICAgIHJldHVybiBuZXcgUGluKFxuICAgICAgICBfZGF0YVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgUGluLnByb3RvdHlwZS5zZXRMYXRMbmcgPSBmdW5jdGlvbiAobGF0bG5nKSB7XG5cbiAgICAgIHRoaXMubGF0ID0gbGF0bG5nLmxhdDtcbiAgICAgIHRoaXMubG9uID0gbGF0bG5nLmxuZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICAgICAqL1xuICAgIHJldHVybiBQaW47XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQb3BVcFNlcnZpY2UnLCBbJyRpb25pY1BvcHVwJywnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgc2hvd19hbGVydDogZnVuY3Rpb24gKGFsZXJ0X3RpdGxlLGFsZXJ0X21lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogYWxlcnRfdGl0bGUsXG4gICAgICAgICB0ZW1wbGF0ZTogYWxlcnRfbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgY29uZmlybVBvcHVwOiBmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiAgIH0sXG5cbiAgIGFza0Zvck9uZVZhbHVlUG9wVXA6IGZ1bmN0aW9uKHNjb3BlLHRpdGxlLHRleHQsZmllbGRfbmFtZSx2YWxpZGF0aW9uVHlwZSl7XG4gICAgICAkc2NvcGUgPSBzY29wZTtcbiAgICAgIHZhciBteVBvcHVwID0gJGlvbmljUG9wdXAuc2hvdyh7XG4gICAgICB0ZW1wbGF0ZTogZmllbGRfbmFtZSArICc6IDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwib25lX3ZhbHVlX3BvcHVwXCI+PGRpdiBpZD1cImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIj48L2Rpdj4nLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgc3ViVGl0bGU6IHRleHQsXG4gICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgYnV0dG9uczogW1xuICAgICAgICB7IHRleHQ6ICdDYW5jZWxhcicgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6ICc8Yj5FbnZpYXI8L2I+JyxcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uLXBvc2l0aXZlJyxcbiAgICAgICAgICBvblRhcDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9uZV92YWx1ZV9wb3B1cFwiKS52YWx1ZTtcbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBwdWVkZSBlc3RhciB2YWPDrW8uPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGPDqWR1bGEgdXJ1Z3VheWEgdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3Jkcyh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIGRlYmUgY29udGVuZXIgYWwgbWVub3MgZG9zIHBhbGFicmFzLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZXJyb3JzIT1cIlwiKXtcbiAgICAgICAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCIpO1xuICAgICAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgLy9kb24ndCBhbGxvdyB0aGUgdXNlciB0byBjbG9zZSB1bmxlc3MgaGUgZW50ZXJzIHdpZmkgcGFzc3dvcmRcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiBteVBvcHVwO1xuICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdTZW1hcGhvcmVTZXJ2aWNlJywgW2Z1bmN0aW9uKCkge1xuXG4gIHZhciBzZW1hcGhvcmVPYmogPSB7fTtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXMgPSBuZXcgQXJyYXkoKTtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ29wZW4tbW9kYWwnXSA9IFwiYXZhaWxhYmxlXCI7XG4gIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzWydzdWJtaXQtZm9ybSddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ3N1Ym1pdC1sb2NhdGlvbiddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ2Nhbl90YWxrJ10gPSBcImF2YWlsYWJsZVwiO1xuXG5cblxuXG4gIHNlbWFwaG9yZU9iai50YWtlSWZBdmFpbGFibGUgPSBmdW5jdGlvbihzZW1hcGhvcmVJZCkge1xuICAgIC8vY29uc29sZS5sb2coc2VtYXBob3JlSWQgKyBcIjpcIiArIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXSk7XG4gICAgaWYoc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdPT1cImF2YWlsYWJsZVwiKXtcbiAgICAgICAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdID0gXCJvY2N1cGllZFwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW1hcGhvcmVPYmoubWFrZUF2YWlsYWJsZUFnYWluID0gZnVuY3Rpb24oc2VtYXBob3JlSWQpIHtcbiAgICBpZihzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF09PVwib2NjdXBpZWRcIil7XG4gICAgICAgIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXSA9IFwiYXZhaWxhYmxlXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzZW1hcGhvcmVPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdsb2NhdGlvbkFQSScsIFsnJGh0dHAnLCAnJHEnLCAnQXBpSW1FbmRwb2ludCcsICdBcGlEYXRhRW5kcG9pbnQnLCAnQ29uZmlnU2VydmljZScsICdMb2NhdGlvbnNTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsICRxLCBBcGlJbUVuZHBvaW50LCBBcGlEYXRhRW5kcG9pbnQsIENvbmZpZ1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UpIHtcblxuICB2YXIgcmVzdFByZWZmaXggPSBcInViaWNhY2lvbmVzUmVzdFByb2RcIjtcblxuXG4gIHZhciBsb2NhdGlvbkFQSSA9IHt9O1xuXG4gIGxvY2F0aW9uQVBJLnNlYXJjaExvY2F0aW9uQnlTdHIgPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICAvKnJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY2FsbGVzJywge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBub21icmU6IF9sb2NhdGlvblxuICAgICAgfVxuICAgIH0pOyovXG4gICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hamF4L2dlb2NvZGU/dGVybT1cIiArIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0ZWRfY291bmNpbCArIFwiLFwiICsgX2xvY2F0aW9uO1xuICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczoge31cbiAgICB9KTtcbiAgfTtcblxuXG4gIGxvY2F0aW9uQVBJLnNlYXJjaEVzcXVpbmFCeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIC8vY29uc29sZS5sb2coXCJzZWFyY2hFc3F1aW5hQnlTdHIgPSBcIiArIEpTT04uc3RyaW5naWZ5KF9sb2NhdGlvbikpO1xuICAgIC8vcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9lc3F1aW5hLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycgKyBfbG9jYXRpb24uZXNxdWluYSwge1xuICAgICAgLypyZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2NydWNlcy8nICsgX2xvY2F0aW9uLmNhbGxlICsgJy8nLFxuICAgICAge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBub21icmU6IF9sb2NhdGlvbi5lc3F1aW5hXG4gICAgICAgIH1cbiAgICAgIH0pOyovXG5cbiAgICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYWpheC9nZW9jb2RlP3Rlcm09XCIgKyBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdGVkX2NvdW5jaWwgKyBcIixcIlxuICAgICAgICAgICAgICAgICAgICArIF9sb2NhdGlvbi5jYWxsZSArIFwiLFwiICsgX2xvY2F0aW9uLmVzcXVpbmE7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGFyYW1zOiB7fVxuICAgICAgfSk7XG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgdmFyIHVybCA9IEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8oX2xvY2F0aW9uLnRpcG8pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2xvY2F0aW9uLnBhdGhQYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVybCArPSAnLycgKyBfbG9jYXRpb24ucGF0aFBhcmFtc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbVBNQiA9IGZ1bmN0aW9uKGNhbGxlLGVzcXVpbmFfbnVtZXJvLHRpcG8pIHtcbiAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXgvZ2VvY29kZT90ZXJtPVwiICsgTG9jYXRpb25zU2VydmljZS5zZWxlY3RlZF9jb3VuY2lsICsgXCIsXCJcbiAgICAgICAgICAgICAgKyBjYWxsZSArIFwiLFwiICsgZXNxdWluYV9udW1lcm8gKyBcIixcIiArIHRpcG87XG5cbiAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwpO1xuXG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0UGFyYW1QYXRoQnlUaXBvID0gZnVuY3Rpb24oX3RpcG8pIHtcblxuICAgIHZhciByZXN0R2VvRGF0YVNlcnZpY2VQYXRoID0ge1xuICAgICAgJ0VTUVVJTkEnOlwiL2VzcXVpbmFcIixcbiAgICAgICdESVJFQ0NJT04nOlwiL2RpcmVjY2lvblwiXG4gICAgfTtcblxuICAgIHJldHVybiByZXN0R2VvRGF0YVNlcnZpY2VQYXRoW190aXBvXTtcblxuXG4gIH07XG5cbiAgcmV0dXJuIGxvY2F0aW9uQVBJO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnXycsIFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHdpbmRvdy5fOyAvL1VuZGVyc2NvcmUgbXVzdCBhbHJlYWR5IGJlIGxvYWRlZCBvbiB0aGUgcGFnZVxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1VzZXJTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgLy92YXIgYmFzZVVSTCA9IFwiaHR0cDovL3BtYnV5LmRldmVsb3BtZW50LmRhdGF1eS5vcmcvYXV0aC9hamF4L1wiO1xuICB2YXIgVXNlck9iaiA9IHt9O1xuICBVc2VyT2JqLnVpZCA9IG51bGw7XG4gIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgVXNlck9iai5waWN0dXJlX3VybCA9IFwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICBVc2VyT2JqLnNob3dfbG9jYXRpb24gPSBudWxsO1xuXG5cbiAgVXNlck9iai5zYXZlX3VzZXJfZGF0YSA9IGZ1bmN0aW9uICh1c2VyX25hbWUsIHVzZXJfcGFzc3dvcmQsIHVzZXJfcGljdHVyZV91cmwsIHNob3dfbG9jYXRpb24sIHVpZCwgc3RhdHVzLCBnZW5kZXIsIGludGVyZXN0ZWQpIHtcbiAgICAgIFVzZXJPYmoudWlkID0gdWlkO1xuICAgICAgVXNlck9iai5uYW1lID0gdXNlcl9uYW1lO1xuICAgICAgVXNlck9iai5wYXNzd29yZCA9IHVzZXJfcGFzc3dvcmQ7XG4gICAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgICAgIFVzZXJPYmouc2hvd19sb2NhdGlvbiA9IHNob3dfbG9jYXRpb247XG4gICAgICBVc2VyT2JqLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgIFVzZXJPYmouZ2VuZGVyID0gZ2VuZGVyO1xuICAgICAgVXNlck9iai5pbnRlcmVzdGVkID0gaW50ZXJlc3RlZDtcblxuICAgICAgLy9TQVZFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZXJhc2VfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gICAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gICAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gICAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gICAgVXNlck9iai5waG9uZSA9IG51bGw7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IG51bGw7XG4gICAgLy9ERUxFVEUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5nZXRfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIC8vTEVWQU5UQSBERSBQT1VDSERCIExPUyBEQVRPUyBERUwgVVNVQVJJTy4gU0kgSEFZIExPUyBQT05FIEVOIExBUyBWQVJJQUJMRVMgREVMIFNFUlZJQ0lPLiBTSSBOTyBIQVkgUE9ORSBUT0RPIE5VTExcbiAgfVxuXG4gIFVzZXJPYmouYWRkX3Bob3RvID0gZnVuY3Rpb24gKHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgfVxuXG4gIFVzZXJPYmouaXNMb2dnZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYoVXNlck9iai5uYW1lIT1udWxsICYmIFVzZXJPYmoubmFtZSE9XCJcIil7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuXG4gIHJldHVybiBVc2VyT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVmFsaWRhdGlvblNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCkge1xuXG4gIHJldHVybiB7XG4gICAgaXNNb2JpbGVEZXZpY2U6IGZ1bmN0aW9uKCl7XG4gICAgICBpZih3aW5kb3cuY29yZG92YSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgfSxcblxuICAgIHZhbGlkYXRlX25vdF9lbXB0eTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX3R3b193b3JkczogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gdmFsdWUuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24odil7cmV0dXJuIHYhPT0nJ30pO1xuICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAvL3R3byBvciBtb3JlIHdvcmRzXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vbm90IGVub3VnaCB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfZXF1YWxzVG86IGZ1bmN0aW9uICh2YWx1ZSxzZWNvbmRWYWx1ZSkge1xuICAgICAgaWYodmFsdWU9PXNlY29uZFZhbHVlKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9lbWFpbDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YXIgcmUgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgICAgICAgICByZXR1cm4gcmUudGVzdCh2YWx1ZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9pZGRvY191eTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgICAgICAgIHZhciBkaWcgPSB2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXTtcbiAgICAgICAgICB2YXIgYSA9IDA7IHZhciBpID0gMDtcbiAgICAgICAgICBpZih2YWx1ZS5sZW5ndGggPD0gNil7XG4gICAgICAgICAgICBmb3IoaSA9IHZhbHVlLmxlbmd0aDsgaSA8IDc7IGkrKyl7XG4gICAgICAgICAgICAgIHZhbHVlID0gJzAnICsgdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcihpID0gMDsgaSA8IDc7IGkrKyl7XG4gICAgICAgICAgICBhICs9IChwYXJzZUludChcIjI5ODc2MzRcIltpXSkgKiBwYXJzZUludCh2YWx1ZVtpXSkpICUgMTA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgaWYoYSUxMCA9PT0gMCl7XG4gICAgICAgICAgICByZXN1bHQgPSAwO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmVzdWx0ID0gMTAgLSBhICUgMTA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGRpZyA9PSByZXN1bHQpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSk7XG4iXX0=
